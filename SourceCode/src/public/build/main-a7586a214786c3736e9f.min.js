!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=174)}([function(e,t,n){var r=n(3),i=n(29),o=n(17),a=n(18),s=n(24),u=function(e,t,n){var c,l,h,f,p=e&u.F,d=e&u.G,m=e&u.S,v=e&u.P,g=e&u.B,y=d?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,_=d?i:i[t]||(i[t]={}),b=_.prototype||(_.prototype={});d&&(n=t);for(c in n)l=!p&&y&&void 0!==y[c],h=(l?y:n)[c],f=g&&l?s(h,r):v&&"function"==typeof h?s(Function.call,h):h,y&&a(y,c,h,e&u.U),_[c]!=h&&o(_,c,f),v&&b[c]!=h&&(b[c]=h)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){"use strict";e.exports=n(379)},function(e,t,n){var r=n(5);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(65)("wks"),i=n(42),o=n(3).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){e.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(2),i=n(117),o=n(30),a=Object.defineProperty;t.f=n(7)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(32),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(31);e.exports=function(e){return Object(r(e))}},function(e,t,n){e.exports=n(390)()},function(e,t,n){"use strict";var r=n(389);n.d(t,"a",function(){return r.a});var i=(n(392),n(158));n.d(t,"b",function(){return i.a});var o=(n(394),n(397),n(400),n(402));n.d(t,"c",function(){return o.a});var a=n(159);n.d(t,"d",function(){return a.a});var s=n(111);n.d(t,"e",function(){return s.a});var u=(n(408),n(410));n.d(t,"f",function(){return u.a}),n(412),n(413)},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"j",function(){return f}),n.d(t,"i",function(){return p}),n.d(t,"g",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return v});var r=n(423),i=n.n(r),o={apiKey:"AIzaSyCU9x4rn13LXKhlsly5Y80WZYC2C5aYEdI",authDomain:"math-app-8deb6.firebaseapp.com",databaseURL:"https://math-app-8deb6.firebaseio.com",projectId:"math-app-8deb6",storageBucket:"math-app-8deb6.appspot.com",messagingSenderId:"588893631758"};i.a.initializeApp(o);var a=new i.a.auth.GoogleAuthProvider,s=i.a.database(),u=i.a.auth,c=750,l=100,h=[3,6,9],f=20,p=3,d=["You can do it!","Keep going! We need your help!","You are getting smarter and smarter."],m={math:{add:{L1_1_1:{img:"A1_1_1",name:"Sir Reginald<br>Stinks-a-lot",reward:500,freq:"common"},L1_1_2:{img:"A1_1_2",name:"abc",reward:700,freq:"rare"},L1_1_3:{img:"A1_1_3",name:"abc",reward:1e3,freq:"ultrarare"},L2_1_1:{img:"A2_1_1",name:"abc",reward:60,freq:"common"},L2_1_2:{img:"A2_1_2",name:"abc",reward:70,freq:"rare"},L2_1_3:{img:"A2_1_3",name:"abc",reward:90,freq:"ultrarare"},L2_2_1:{img:"A2_2_1",name:"abc",reward:75,freq:"common"},L2_2_2:{img:"A2_2_2",name:"abc",reward:85,freq:"rare"},L2_2_3:{img:"A2_2_3",name:"abc",reward:95,freq:"ultrarare"},L3_1_1:{img:"A3_1_1",name:"abc",reward:60,freq:"common"},L3_1_2:{img:"A3_1_2",name:"abc",reward:70,freq:"rare"},L3_1_3:{img:"A3_1_3",name:"abc",reward:92,freq:"ultrarare"},L3_2_1:{img:"A3_2_1",name:"abc",reward:65,freq:"common"},L3_2_2:{img:"A3_2_2",name:"abc",reward:75,freq:"rare"},L3_2_3:{img:"A3_2_3",name:"abc",reward:94,freq:"ultrarare"},L3_3_1:{img:"A3_3_1",name:"abc",reward:75,freq:"common"},L3_3_2:{img:"A3_3_2",name:"abc",reward:85,freq:"rare"},L3_3_3:{img:"A3_3_3",name:"abc",reward:96,freq:"ultrarare"}},sub:{L1_1_1:{img:"S1_1_1",name:"abc",reward:500,freq:"common"},L1_1_2:{img:"S1_1_2",name:"abc",reward:750,freq:"rare"},L1_1_3:{img:"S1_1_3",name:"abc",reward:1e3,freq:"ultrarare"},L2_1_1:{img:"S2_1_1",name:"abc",reward:60,freq:"common"},L2_1_2:{img:"S2_1_2",name:"abc",reward:70,freq:"rare"},L2_1_3:{img:"S2_1_3",name:"abc",reward:90,freq:"ultrarare"},L2_2_1:{img:"S2_2_1",name:"abc",reward:75,freq:"common"},L2_2_2:{img:"S2_2_2",name:"abc",reward:85,freq:"rare"},L2_2_3:{img:"S2_2_3",name:"abc",reward:95,freq:"ultrarare"},L3_1_1:{img:"S3_1_1",name:"abc",reward:60,freq:"common"},L3_1_2:{img:"S3_1_2",name:"abc",reward:70,freq:"rare"},L3_1_3:{img:"S3_1_3",name:"abc",reward:92,freq:"ultrarare"},L3_2_1:{img:"S3_2_1",name:"abc",reward:65,freq:"common"},L3_2_2:{img:"S3_2_2",name:"abc",reward:75,freq:"rare"},L3_2_3:{img:"S3_2_3",name:"abc",reward:94,freq:"ultrarare"},L3_3_1:{img:"S3_3_1",name:"abc",reward:75,freq:"common"},L3_3_2:{img:"S3_3_2",name:"abc",reward:85,freq:"rare"},L3_3_3:{img:"S3_3_3",name:"abc",reward:96,freq:"ultrarare"}},mul:{L1_1_1:{img:"M1_1_1",name:"abc",reward:500,freq:"common"},L1_1_2:{img:"M1_1_2",name:"abc",reward:750,freq:"rare"},L1_1_3:{img:"M1_1_3",name:"abc",reward:1e3,freq:"ultrarare"},L2_1_1:{img:"M2_1_1",name:"abc",reward:60,freq:"common"},L2_1_2:{img:"M2_1_2",name:"abc",reward:70,freq:"rare"},L2_1_3:{img:"M2_1_3",name:"abc",reward:90,freq:"ultrarare"},L2_2_1:{img:"M2_2_1",name:"abc",reward:75,freq:"common"},L2_2_2:{img:"M2_2_2",name:"abc",reward:85,freq:"rare"},L2_2_3:{img:"M2_2_3",name:"abc",reward:95,freq:"ultrarare"},L3_1_1:{img:"M3_1_1",name:"abc",reward:60,freq:"common"},L3_1_2:{img:"M3_1_2",name:"abc",reward:70,freq:"rare"},L3_1_3:{img:"M3_1_3",name:"abc",reward:92,freq:"ultrarare"},L3_2_1:{img:"M3_2_1",name:"abc",reward:65,freq:"common"},L3_2_2:{img:"M3_2_2",name:"abc",reward:75,freq:"rare"},L3_2_3:{img:"M3_2_3",name:"abc",reward:94,freq:"ultrarare"},L3_3_1:{img:"M3_3_1",name:"abc",reward:75,freq:"common"},L3_3_2:{img:"M3_3_2",name:"abc",reward:85,freq:"rare"},L3_3_3:{img:"M3_3_3",name:"abc",reward:96,freq:"ultrarare"}},div:{L1_1_1:{img:"D1_1_1",name:"abc",reward:500,freq:"common"},L1_1_2:{img:"D1_1_2",name:"abc",reward:750,freq:"rare"},L1_1_3:{img:"D1_1_3",name:"abc",reward:1e3,freq:"ultrarare"},L2_1_1:{img:"D2_1_1",name:"abc",reward:60,freq:"common"},L2_1_2:{img:"D2_1_2",name:"abc",reward:70,freq:"rare"},L2_1_3:{img:"D2_1_3",name:"abc",reward:90,freq:"ultrarare"},L2_2_1:{img:"D2_2_1",name:"abc",reward:75,freq:"common"},L2_2_2:{img:"D2_2_2",name:"abc",reward:85,freq:"rare"},L2_2_3:{img:"D2_2_3",name:"abc",reward:95,freq:"ultrarare"},L3_1_1:{img:"D3_1_1",name:"abc",reward:60,freq:"common"},L3_1_2:{img:"D3_1_2",name:"abc",reward:70,freq:"rare"},L3_1_3:{img:"D3_1_3",name:"abc",reward:92,freq:"ultrarare"},L3_2_1:{img:"D3_2_1",name:"abc",reward:65,freq:"common"},L3_2_2:{img:"D3_2_2",name:"abc",reward:75,freq:"rare"},L3_2_3:{img:"D3_2_3",name:"abc",reward:94,freq:"ultrarare"},L3_3_1:{img:"D3_3_1",name:"abc",reward:75,freq:"common"},L3_3_2:{img:"D3_3_2",name:"abc",reward:85,freq:"rare"},L3_3_3:{img:"D3_3_3",name:"abc",reward:96,freq:"ultrarare"}},ran:{queen:{img:"queen",name:"Queen Queenie",reward:100,freq:"ultrarare"}}}},v=["L1_1_1","L1_1_2","L1_1_3","L2_1_1","L2_1_2","L2_1_3","L2_2_1","L2_2_2","L2_2_3","L3_1_1","L3_1_2","L3_1_3","L3_2_1","L3_2_2","L3_2_3","L3_3_1","L3_3_2","L3_3_3"];!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"config","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/config/constants.js"),__REACT_HOT_LOADER__.register(a,"googleProvider","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/config/constants.js"),__REACT_HOT_LOADER__.register(s,"ref","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/config/constants.js"),__REACT_HOT_LOADER__.register(u,"firebaseAuth","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/config/constants.js"),__REACT_HOT_LOADER__.register(c,"hideTimer","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/config/constants.js"),__REACT_HOT_LOADER__.register(l,"staffBase","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/config/constants.js"),__REACT_HOT_LOADER__.register(h,"creatureCount","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/config/constants.js"),__REACT_HOT_LOADER__.register(f,"trainingTotal","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/config/constants.js"),__REACT_HOT_LOADER__.register(p,"trainingChances","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/config/constants.js"),__REACT_HOT_LOADER__.register(d,"spriteQuotes","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/config/constants.js"),__REACT_HOT_LOADER__.register(m,"creatureList","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/config/constants.js"),__REACT_HOT_LOADER__.register(v,"creatureIds","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/config/constants.js"))}()},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(8),i=n(41);e.exports=n(7)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(3),i=n(17),o=n(16),a=n(42)("src"),s=Function.toString,u=(""+s).split("toString");n(29).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(o(n,a)||i(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,n){var r=n(0),i=n(4),o=n(31),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){var r=n(58),i=n(31);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(59),i=n(41),o=n(20),a=n(30),s=n(16),u=n(117),c=Object.getOwnPropertyDescriptor;t.f=n(7)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(16),i=n(10),o=n(84)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";function r(e,t){function n(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function o(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function a(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})}function c(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function l(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function g(e,t,n){function r(e){l[e]&&(c[e]=function(t){return new Promise(function(n,r){h.push([e,t,n,r])>1||i(e,t)})})}function i(e,t){try{o(l[e](t))}catch(e){u(h[0][3],e)}}function o(e){e.value instanceof v?Promise.resolve(e.value.v).then(a,s):u(h[0][2],e)}function a(e){i("next",e)}function s(e){i("throw",e)}function u(e,t){e(t),h.shift(),h.length&&i(h[0][0],h[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,l=n.apply(e,t||[]),h=[];return c={},r("next"),r("throw"),r("return"),c[Symbol.asyncIterator]=function(){return this},c}function y(e){function t(t,i){n[t]=e[t]?function(n){return(r=!r)?{value:v(e[t](n)),done:"return"===t}:i?i(n):n}:i}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n}function _(e){function t(t){r[t]=e[t]&&function(r){return new Promise(function(i,o){r=e[t](r),n(i,o,r.done,r.value)})}}function n(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"==typeof f?f(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r)}function b(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}Object.defineProperty(t,"__esModule",{value:!0}),t.__extends=r,n.d(t,"__assign",function(){return I}),t.__rest=i,t.__decorate=o,t.__param=a,t.__metadata=s,t.__awaiter=u,t.__generator=c,t.__createBinding=l,t.__exportStar=h,t.__values=f,t.__read=p,t.__spread=d,t.__spreadArrays=m,t.__await=v,t.__asyncGenerator=g,t.__asyncDelegator=y,t.__asyncValues=_,t.__makeTemplateObject=b,t.__importStar=w,t.__importDefault=E,t.__classPrivateFieldGet=T,t.__classPrivateFieldSet=S;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var C=function(e,t){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},I=function(){return I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},I.apply(this,arguments)}},function(e,t,n){var r=n(14);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r=n(4);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;u=new Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},function(e,t,n){"use strict";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function r(e){function t(e){delete d[e]}function n(e){if(e=e||m,!c.contains(d,e))throw p.create("no-app",{appName:e});return d[e]}function r(t,n){void 0===n&&(n={}),("object"!=typeof n||null===n)&&(n={name:n});var r=n;void 0===r.name&&(r.name=m);var i=r.name;if("string"!=typeof i||!i)throw p.create("bad-app-name",{appName:String(i)});if(c.contains(d,i))throw p.create("duplicate-app",{appName:i});var o=new e(t,r,b);return d[i]=o,o}function i(){return Object.keys(d).map(function(e){return d[e]})}function o(t){var r,i,o=t.name;if(y.has(o))return g.debug("There were multiple attempts to register component "+o+"."),"PUBLIC"===t.type?b[o]:null;if(y.set(o,t),"PUBLIC"===t.type){var a=function(e){if(void 0===e&&(e=n()),"function"!=typeof e[o])throw p.create("invalid-app-argument",{appName:o});return e[o]()};void 0!==t.serviceProps&&c.deepExtend(a,t.serviceProps),b[o]=a,e.prototype[o]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}try{for(var s=u.__values(Object.keys(d)),l=s.next();!l.done;l=s.next()){var h=l.value;d[h]._addComponent(t)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return"PUBLIC"===t.type?b[o]:null}function a(e,t,n){var r,i=null!==(r=v[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void g.warn(u.join(" "))}o(new l.Component(i+"-version",function(){return{library:i,version:t}},"VERSION"))}function s(e,t){if(null!==e&&"function"!=typeof e)throw p.create("invalid-log-argument",{appName:name});h.setUserLogHandler(e,t)}function f(e,t){return"serverAuth"===t?null:t}var d={},y=new Map,b={__esModule:!0,initializeApp:r,app:n,registerVersion:a,setLogLevel:h.setLogLevel,onLog:s,apps:null,SDK_VERSION:_,INTERNAL:{registerComponent:o,removeApp:t,components:y,useAsService:f}};return b.default=b,Object.defineProperty(b,"apps",{get:i}),n.App=e,b}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function i(){function e(e){c.deepExtend(t,e)}var t=r(y);return t.INTERNAL=u.__assign(u.__assign({},t.INTERNAL),{createFirebaseNamespace:i,extendNamespace:e,createSubscribe:c.createSubscribe,ErrorFactory:c.ErrorFactory,deepExtend:c.deepExtend}),t}function o(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}Object.defineProperty(t,"__esModule",{value:!0});var a,s,u=n(23),c=n(38),l=n(35),h=n(57),f=(a={},a["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",a["bad-app-name"]="Illegal App name: '{$appName}",a["duplicate-app"]="Firebase App named '{$appName}' already exists",a["app-deleted"]="Firebase App named '{$appName}' already deleted",a["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",a["invalid-log-argument"]="First argument to `onLog` must be null or a function.",a),p=new c.ErrorFactory("app","Firebase",f),d="@firebase/app",m="[DEFAULT]",v=(s={},s[d]="fire-core",s["@firebase/analytics"]="fire-analytics",s["@firebase/auth"]="fire-auth",s["@firebase/database"]="fire-rtdb",s["@firebase/functions"]="fire-fn",s["@firebase/installations"]="fire-iid",s["@firebase/messaging"]="fire-fcm",s["@firebase/performance"]="fire-perf",s["@firebase/remote-config"]="fire-rc",s["@firebase/storage"]="fire-gcs",s["@firebase/firestore"]="fire-fst",s["fire-js"]="fire-js",s["firebase-wrapper"]="fire-js-all",s),g=new h.Logger("@firebase/app"),y=function(){function e(e,t,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=c.deepCopy(e),this.container=new l.ComponentContainer(t.name),this._addComponent(new l.Component("app",function(){return o},"PUBLIC"));try{for(var a=u.__values(this.firebase_.INTERNAL.components.values()),s=a.next();!s.done;s=a.next()){var h=s.value;this._addComponent(h)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(e){return e.delete()}))}).then(function(){e.isDeleted_=!0})},e.prototype._getService=function(e,t){return void 0===t&&(t=m),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=m),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){g.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw p.create("app-deleted",{appName:this.name_})},e}();y.prototype.name&&y.prototype.options||y.prototype.delete||console.log("dc");var _="7.20.0",b=i(),w=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(e){if(o(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null}).filter(function(e){return e}).join(" ")},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(c.isBrowser()&&void 0!==self.firebase){g.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var E=self.firebase.SDK_VERSION;E&&E.indexOf("LITE")>=0&&g.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var T=b.initializeApp;b.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c.isNode()&&g.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),T.apply(void 0,e)};var S=b;!/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t){e.INTERNAL.registerComponent(new l.Component("platform-logger",function(e){return new w(e)},"PRIVATE")),e.registerVersion(d,"0.6.11",void 0),e.registerVersion("fire-js","")}(S),t.default=S,t.firebase=S},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(5);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(0),i=n(29),o=n(4);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(24),i=n(58),o=n(10),a=n(9),s=n(101);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,h=6==e,f=5==e||h,p=t||s;return function(t,s,d){for(var m,v,g=o(t),y=i(g),_=r(s,d,3),b=a(y.length),w=0,E=n?p(t,b):u?p(t,0):void 0;b>w;w++)if((f||w in y)&&(m=y[w],v=_(m,w,g),e))if(n)E[w]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:E.push(m)}else if(l)return!1;return h?-1:c||l?l:E}}},function(e,t,n){"use strict";function r(e){return e===u?void 0:e}function i(e){return"EAGER"===e.instantiationMode}Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),a=n(38),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),u="[DEFAULT]",c=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=u);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new a.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=o.__assign({identifier:u,optional:!1},e),n=t.identifier,r=t.optional,i=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(i);if(!a){if(r)return null;throw Error("Service "+this.name+" is not available")}return a}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,i(e))try{this.getOrInitializeService(u)}catch(e){}try{for(var r=o.__values(this.instancesDeferred.entries()),a=r.next();!a.done;a=r.next()){var s=o.__read(a.value,2),c=s[0],l=s[1],h=this.normalizeInstanceIdentifier(c);try{var f=this.getOrInitializeService(h);l.resolve(f)}catch(e){}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e=u),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(o.__spread(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}),e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()})))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,r(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:u:e},e}(),l=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new c(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=s,t.ComponentContainer=l,t.Provider=c},function(e,t,n){"use strict";if(n(7)){var r=n(43),i=n(3),o=n(4),a=n(0),s=n(75),u=n(107),c=n(24),l=n(49),h=n(41),f=n(17),p=n(51),d=n(32),m=n(9),v=n(143),g=n(45),y=n(30),_=n(16),b=n(60),w=n(5),E=n(10),T=n(98),S=n(46),C=n(22),I=n(47).f,O=n(100),A=n(42),k=n(6),N=n(34),x=n(66),P=n(73),R=n(103),L=n(55),D=n(70),M=n(48),j=n(102),U=n(133),F=n(8),q=n(21),V=F.f,B=q.f,H=i.RangeError,W=i.TypeError,z=i.Uint8Array,G=Array.prototype,K=u.ArrayBuffer,Q=u.DataView,Y=N(0),X=N(2),J=N(3),$=N(4),Z=N(5),ee=N(6),te=x(!0),ne=x(!1),re=R.values,ie=R.keys,oe=R.entries,ae=G.lastIndexOf,se=G.reduce,ue=G.reduceRight,ce=G.join,le=G.sort,he=G.slice,fe=G.toString,pe=G.toLocaleString,de=k("iterator"),me=k("toStringTag"),ve=A("typed_constructor"),ge=A("def_constructor"),ye=s.CONSTR,_e=s.TYPED,be=s.VIEW,we=N(1,function(e,t){return Ie(P(e,e[ge]),t)}),Ee=o(function(){return 1===new z(new Uint16Array([1]).buffer)[0]}),Te=!!z&&!!z.prototype.set&&o(function(){new z(1).set({})}),Se=function(e,t){var n=d(e);if(n<0||n%t)throw H("Wrong offset!");return n},Ce=function(e){if(w(e)&&_e in e)return e;throw W(e+" is not a typed array!")},Ie=function(e,t){if(!(w(e)&&ve in e))throw W("It is not a typed array constructor!");return new e(t)},Oe=function(e,t){return Ae(P(e,e[ge]),t)},Ae=function(e,t){for(var n=0,r=t.length,i=Ie(e,r);r>n;)i[n]=t[n++];return i},ke=function(e,t,n){V(e,t,{get:function(){return this._d[n]}})},Ne=function(e){var t,n,r,i,o,a,s=E(e),u=arguments.length,l=u>1?arguments[1]:void 0,h=void 0!==l,f=O(s);if(void 0!=f&&!T(f)){for(a=f.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(h&&u>2&&(l=c(l,arguments[2],2)),t=0,n=m(s.length),i=Ie(this,n);n>t;t++)i[t]=h?l(s[t],t):s[t];return i},xe=function(){for(var e=0,t=arguments.length,n=Ie(this,t);t>e;)n[e]=arguments[e++];return n},Pe=!!z&&o(function(){pe.call(new z(1))}),Re=function(){return pe.apply(Pe?he.call(Ce(this)):Ce(this),arguments)},Le={copyWithin:function(e,t){return U.call(Ce(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return $(Ce(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return j.apply(Ce(this),arguments)},filter:function(e){return Oe(this,X(Ce(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Ce(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ce(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Y(Ce(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Ce(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ce(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Ce(this),arguments)},lastIndexOf:function(e){return ae.apply(Ce(this),arguments)},map:function(e){return we(Ce(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Ce(this),arguments)},reduceRight:function(e){return ue.apply(Ce(this),arguments)},reverse:function(){for(var e,t=this,n=Ce(t).length,r=Math.floor(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return J(Ce(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return le.call(Ce(this),e)},subarray:function(e,t){var n=Ce(this),r=n.length,i=g(e,r);return new(P(n,n[ge]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((void 0===t?r:g(t,r))-i))}},De=function(e,t){return Oe(this,he.call(Ce(this),e,t))},Me=function(e){Ce(this);var t=Se(arguments[1],1),n=this.length,r=E(e),i=m(r.length),o=0;if(i+t>n)throw H("Wrong length!");for(;o<i;)this[t+o]=r[o++]},je={entries:function(){return oe.call(Ce(this))},keys:function(){return ie.call(Ce(this))},values:function(){return re.call(Ce(this))}},Ue=function(e,t){return w(e)&&e[_e]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Fe=function(e,t){return Ue(e,t=y(t,!0))?h(2,e[t]):B(e,t)},qe=function(e,t,n){return!(Ue(e,t=y(t,!0))&&w(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?V(e,t,n):(e[t]=n.value,e)};ye||(q.f=Fe,F.f=qe),a(a.S+a.F*!ye,"Object",{getOwnPropertyDescriptor:Fe,defineProperty:qe}),o(function(){fe.call({})})&&(fe=pe=function(){return ce.call(this)});var Ve=p({},Le);p(Ve,je),f(Ve,de,je.values),p(Ve,{slice:De,set:Me,constructor:function(){},toString:fe,toLocaleString:Re}),ke(Ve,"buffer","b"),ke(Ve,"byteOffset","o"),ke(Ve,"byteLength","l"),ke(Ve,"length","e"),V(Ve,me,{get:function(){return this[_e]}}),e.exports=function(e,t,n,u){u=!!u;var c=e+(u?"Clamped":"")+"Array",h="get"+e,p="set"+e,d=i[c],g=d||{},y=d&&C(d),_=!d||!s.ABV,E={},T=d&&d.prototype,O=function(e,n){var r=e._d;return r.v[h](n*t+r.o,Ee)},A=function(e,n,r){var i=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*t+i.o,r,Ee)},k=function(e,t){V(e,t,{get:function(){return O(this,t)},set:function(e){return A(this,t,e)},enumerable:!0})};_?(d=n(function(e,n,r,i){l(e,d,c,"_d");var o,a,s,u,h=0,p=0;if(w(n)){if(!(n instanceof K||"ArrayBuffer"==(u=b(n))||"SharedArrayBuffer"==u))return _e in n?Ae(d,n):Ne.call(d,n);o=n,p=Se(r,t);var g=n.byteLength;if(void 0===i){if(g%t)throw H("Wrong length!");if((a=g-p)<0)throw H("Wrong length!")}else if((a=m(i)*t)+p>g)throw H("Wrong length!");s=a/t}else s=v(n),a=s*t,o=new K(a);for(f(e,"_d",{b:o,o:p,l:a,e:s,v:new Q(o)});h<s;)k(e,h++)}),T=d.prototype=S(Ve),f(T,"constructor",d)):o(function(){d(1)})&&o(function(){new d(-1)})&&D(function(e){new d,new d(null),new d(1.5),new d(e)},!0)||(d=n(function(e,n,r,i){l(e,d,c);var o;return w(n)?n instanceof K||"ArrayBuffer"==(o=b(n))||"SharedArrayBuffer"==o?void 0!==i?new g(n,Se(r,t),i):void 0!==r?new g(n,Se(r,t)):new g(n):_e in n?Ae(d,n):Ne.call(d,n):new g(v(n))}),Y(y!==Function.prototype?I(g).concat(I(y)):I(g),function(e){e in d||f(d,e,g[e])}),d.prototype=T,r||(T.constructor=d));var N=T[de],x=!!N&&("values"==N.name||void 0==N.name),P=je.values;f(d,ve,!0),f(T,_e,c),f(T,be,!0),f(T,ge,d),(u?new d(1)[me]==c:me in T)||V(T,me,{get:function(){return c}}),E[c]=d,a(a.G+a.W+a.F*(d!=g),E),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o(function(){g.of.call(d,1)}),c,{from:Ne,of:xe}),"BYTES_PER_ELEMENT"in T||f(T,"BYTES_PER_ELEMENT",t),a(a.P,c,Le),M(c),a(a.P+a.F*Te,c,{set:Me}),a(a.P+a.F*!x,c,je),r||T.toString==fe||(T.toString=fe),a(a.P+a.F*o(function(){new d(1).slice()}),c,{slice:De}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!o(function(){T.toLocaleString.call([1,2])})),c,{toLocaleString:Re}),L[c]=x?N:P,r||x||f(T,de,P)}}else e.exports=function(){}},function(e,t,n){var r=n(138),i=n(0),o=n(65)("metadata"),a=o.store||(o.store=new(n(141))),s=function(e,t,n){var i=a.get(e);if(!i){if(!n)return;a.set(e,i=new r)}var o=i.get(t);if(!o){if(!n)return;i.set(t,o=new r)}return o},u=function(e,t,n){var r=s(t,n,!1);return void 0!==r&&r.has(e)},c=function(e,t,n){var r=s(t,n,!1);return void 0===r?void 0:r.get(e)},l=function(e,t,n,r){s(n,r,!0).set(e,t)},h=function(e,t){var n=s(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},f=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},p=function(e){i(i.S,"Reflect",e)};e.exports={store:a,map:s,has:u,get:c,set:l,keys:h,key:f,exp:p}},function(e,t,n){"use strict";(function(e){/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function r(e){return i(void 0,e)}function i(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&(e[r]=i(e[r],t[r]));return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function o(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(o())}function s(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(e){return!1}}function u(){return"object"==typeof self&&self.self===self}function c(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function l(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function h(){return o().indexOf("Electron/")>=0}function f(){var e=o();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function p(){return o().indexOf("MSAppHost/")>=0}function d(){return!0===U.NODE_CLIENT||!0===U.NODE_ADMIN}function m(){return!s()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v(){return"indexedDB"in self&&null!=indexedDB}function g(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}function y(){return!(!navigator||!navigator.cookieEnabled)}function _(e,t){return e.replace(X,function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function b(e){return JSON.parse(e)}function w(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function S(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function C(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function I(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=r[n],o=i[0],a=i[1];!function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}(o,a)}return t.length?"&"+t.join("&"):""}function O(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t}function A(e,t){var n=new re(e,t);return n.subscribe.bind(n)}function k(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}}function N(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}function x(){}function P(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}function R(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(P(e,t,r)+"must be a valid firebase namespace.")}function L(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(P(e,t,r)+"must be a valid function.")}function D(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(P(e,t,r)+"must be a valid context object.")}function M(e,t,n){void 0===t&&(t=se),void 0===n&&(n=ue);var r=t*Math.pow(n,e),i=Math.round(le*r*(Math.random()-.5)*2);return Math.min(ce,r+i)}Object.defineProperty(t,"__esModule",{value:!0});var j=n(23),U={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},F=function(e,t){if(!e)throw q(t)},q=function(e){return new Error("Firebase Database ("+U.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},V=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},B=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var o=e[n++],a=e[n++],s=e[n++],u=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(1023&u))}else{var o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")},H={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(V(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):B(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length,s=a?n[e.charAt(i)]:0;++i;var u=i<e.length,c=u?n[e.charAt(i)]:64;++i;var l=i<e.length,h=l?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==c||null==h)throw Error();var f=o<<2|s>>4;if(r.push(f),64!==c){var p=s<<4&240|c>>2;if(r.push(p),64!==h){var d=c<<6&192|h;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},W=function(e){var t=V(e);return H.encodeByteArray(t,!0)},z=function(e){try{return H.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},G=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}(),K="FirebaseError",Q=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name=K,Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,Y.prototype.create),i}return j.__extends(t,e),t}(Error),Y=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?_(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new Q(i,s),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},e}(),X=/\{\$([^}]+)}/g,J=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=b(z(o[0])||""),n=b(z(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},$=function(e){var t=J(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},Z=function(e){var t=J(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},ee=function(e){var t=J(e),n=t.claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},te=function(e){var t=J(e).claims;return"object"==typeof t&&!0===t.admin},ne=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4],r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);var i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}(),re=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=N(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=x),void 0===r.error&&(r.error=x),void 0===r.complete&&(r.complete=x);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}(),ie=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){var o=e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}},oe=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,F(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ae=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},se=1e3,ue=2,ce=144e5,le=.5;t.CONSTANTS=U,t.Deferred=G,t.ErrorFactory=Y,t.FirebaseError=Q,t.MAX_VALUE_MILLIS=ce,t.RANDOM_FACTOR=le,t.Sha1=ne,t.areCookiesEnabled=y,t.assert=F,t.assertionError=q,t.async=k,t.base64=H,t.base64Decode=z,t.base64Encode=W,t.calculateBackoffMillis=M,t.contains=E,t.createSubscribe=A,t.decode=J,t.deepCopy=r,t.deepExtend=i,t.errorPrefix=P,t.getUA=o,t.isAdmin=te,t.isBrowser=u,t.isBrowserExtension=c,t.isElectron=h,t.isEmpty=S,t.isIE=f,t.isIndexedDBAvailable=v,t.isMobileCordova=a,t.isNode=s,t.isNodeSdk=d,t.isReactNative=l,t.isSafari=m,t.isUWP=p,t.isValidFormat=ee,t.isValidTimestamp=$,t.issuedAtTime=Z,t.jsonEval=b,t.map=C,t.querystring=I,t.querystringDecode=O,t.safeGet=T,t.stringLength=ae,t.stringToByteArray=oe,t.stringify=w,t.validateArgCount=ie,t.validateCallback=L,t.validateContextObject=D,t.validateIndexedDBOpenable=g,t.validateNamespace=R}).call(t,n(52))},function(e,t,n){var r=n(42)("meta"),i=n(5),o=n(16),a=n(8).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(4)(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},h=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},f=function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},p=function(e){return c&&d.NEED&&u(e)&&!o(e,r)&&l(e),e},d=e.exports={KEY:r,NEED:!1,fastKey:h,getWeak:f,onFreeze:p}},function(e,t,n){var r=n(6)("unscopables"),i=Array.prototype;void 0==i[r]&&n(17)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=!1},function(e,t,n){var r=n(119),i=n(85);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(32),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(2),i=n(120),o=n(85),a=n(84)("IE_PROTO"),s=function(){},u=function(){var e,t=n(82)("iframe"),r=o.length;for(t.style.display="none",n(86).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(119),i=n(85).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(3),i=n(8),o=n(7),a=n(6)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(24),i=n(131),o=n(98),a=n(2),s=n(9),u=n(100),c={},l={},t=e.exports=function(e,t,n,h,f){var p,d,m,v,g=f?function(){return e}:u(e),y=r(n,h,t?2:1),_=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(p=s(e.length);p>_;_++)if((v=t?y(a(d=e[_])[0],d[1]):y(e[_]))===c||v===l)return v}else for(m=g.call(e);!(d=m.next()).done;)if((v=i(m,y,d.value,t))===c||v===l)return v};t.BREAK=c,t.RETURN=l},function(e,t,n){var r=n(18);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(8).f,i=n(16),o=n(6)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(0),i=n(31),o=n(4),a=n(88),s="["+a+"]",u="​",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),h=function(e,t,n){var i={},s=o(function(){return!!a[e]()||u[e]()!=u}),c=i[e]=s?t(f):a[e];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},f=h.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};e.exports=h},function(e,t){e.exports={}},function(e,t,n){var r=n(5);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function i(e){u.forEach(function(t){t.setLogLevel(e)})}function o(e,t){for(var n=0,r=u;n<r.length;n++){var i=r[n];!function(n){var r=null;t&&t.level&&(r=c[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(function(e){return e}).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:s[n].toLowerCase(),message:a,args:i,type:t.name})}}(i)}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"LogLevel",function(){return s}),n.d(t,"Logger",function(){return p}),n.d(t,"setLogLevel",function(){return i}),n.d(t,"setUserLogHandler",function(){return o});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var a,s,u=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(s||(s={}));var c={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},l=s.INFO,h=(a={},a[s.DEBUG]="log",a[s.VERBOSE]="log",a[s.INFO]="info",a[s.WARN]="warn",a[s.ERROR]="error",a),f=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=h[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},p=function(){function e(e){this.name=e,this._logLevel=l,this._logHandler=f,this._userLogHandler=null,u.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in s))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?c[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],e)),this._logHandler.apply(this,r([this,s.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],e)),this._logHandler.apply(this,r([this,s.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],e)),this._logHandler.apply(this,r([this,s.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],e)),this._logHandler.apply(this,r([this,s.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],e)),this._logHandler.apply(this,r([this,s.ERROR],e))},e}()},function(e,t,n){var r=n(25);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(25),i=n(6)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){"use strict";t.__esModule=!0;var r=(t.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},t.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e},t.hasBasename=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)});t.stripBasename=function(e,t){return r(e,t)?e.substr(t.length):e},t.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},t.parsePath=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},t.createPath=function(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"f",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"g",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return c});var r=function(e){return"/"===e.charAt(0)?e:"/"+e},i=function(e){return"/"===e.charAt(0)?e.substr(1):e},o=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)},a=function(e,t){return o(e,t)?e.substr(t.length):e},s=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},u=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},c=function(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(12),c=n(533),l=(n.n(c),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),h=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),l(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"secondary-nav"},s.a.createElement(u.b,{to:"/navigation",className:"snav "+("navigation"==this.props.currpage?"active":"")},s.a.createElement("i",{className:"material-icons"},"terrain")),s.a.createElement(u.b,{to:"/profile",className:"snav "+("profile"==this.props.currpage?"active":"")},s.a.createElement("i",{className:"material-icons"},"person")),s.a.createElement(u.b,{to:"/creatures",className:"snav "+("creatures"==this.props.currpage?"active":"")},s.a.createElement("i",{className:"material-icons"},"child_care")),s.a.createElement(u.b,{to:"/store",className:"snav "+("store"==this.props.currpage?"active":"")},s.a.createElement("i",{className:"material-icons"},"flare")),s.a.createElement(u.b,{to:"/help",className:"snav "+("help"==this.props.currpage?"active":"")},s.a.createElement("i",{className:"material-icons"},"help")))}}]),t}(s.a.Component),f=h;t.a=f,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"SecondaryNav","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/SecondaryNav/SecondaryNav.jsx"),__REACT_HOT_LOADER__.register(f,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/SecondaryNav/SecondaryNav.jsx"))}()},function(e,t,n){"use strict";function r(){return Object(s.c)().signInWithRedirect(s.d)}function i(e){return e.then(function(e){localStorage.save(t);var t=e.credential.accessToken,n=e.user;return console.log("login happened with firebase, ",JSON.stringify(n)),localStorage.setItem("firebaseUser",JSON.stringify(e)),Promise.resolve(e)}).catch(function(e){return e.code,e.message,e.email,e.credential,alert("failed firebase login"+e),Promise.reject("err")})}function o(e){return console.log("login with firebase"),Object(s.c)().signInWithRedirect(e)}function a(){return Object(s.c)().signOut()}t.a=r,t.b=a;var s=n(15);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(r,"loginWithGoogle","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/services/auth.js"),__REACT_HOT_LOADER__.register(i,"authenticate","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/services/auth.js"),__REACT_HOT_LOADER__.register(o,"loginWithFirebase","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/services/auth.js"),__REACT_HOT_LOADER__.register(a,"logout","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/services/auth.js"))}()},function(e,t,n){var r=n(3),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(20),i=n(9),o=n(45);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(25);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(5),i=n(25),o=n(6)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(6)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(2);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(17),i=n(18),o=n(4),a=n(31),s=n(6);e.exports=function(e,t,n){var u=s(e),c=n(a,u,""[e]),l=c[0],h=c[1];o(function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,l),r(RegExp.prototype,u,2==t?function(e,t){return h.call(e,this,t)}:function(e){return h.call(e,this)}))}},function(e,t,n){var r=n(2),i=n(14),o=n(6)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){"use strict";var r=n(3),i=n(0),o=n(18),a=n(51),s=n(39),u=n(50),c=n(49),l=n(5),h=n(4),f=n(70),p=n(53),d=n(89);e.exports=function(e,t,n,m,v,g){var y=r[e],_=y,b=v?"set":"add",w=_&&_.prototype,E={},T=function(e){var t=w[e];o(w,e,"delete"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof _&&(g||w.forEach&&!h(function(){(new _).entries().next()}))){var S=new _,C=S[b](g?{}:-0,1)!=S,I=h(function(){S.has(1)}),O=f(function(e){new _(e)}),A=!g&&h(function(){for(var e=new _,t=5;t--;)e[b](t,t);return!e.has(-0)});O||(_=t(function(t,n){c(t,_,e);var r=d(new y,t,_);return void 0!=n&&u(n,v,r[b],r),r}),_.prototype=w,w.constructor=_),(I||A)&&(T("delete"),T("has"),v&&T("get")),(A||C)&&T(b),g&&w.clear&&delete w.clear}else _=m.getConstructor(t,e,v,b),a(_.prototype,n),s.NEED=!0;return p(_,e),E[e]=_,i(i.G+i.W+i.F*(_!=y),E),g||m.setStrong(_,e,v),_}},function(e,t,n){for(var r,i=n(3),o=n(17),a=n(42),s=a("typed_array"),u=a("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(r=i[f[h++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):l=!1;e.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},function(e,t,n){"use strict";e.exports=n(43)||!n(4)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(3)[e]})},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(0),i=n(14),o=n(24),a=n(50);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,u=arguments[1];return i(this),t=void 0!==u,t&&i(u),void 0==e?new this:(n=[],t?(r=0,s=o(u,arguments[2],2),a(e,!1,function(e){n.push(s(e,r++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u});var r=n(155),i=n(156),o=n(62),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(e,t,n,i){var s=void 0;"string"==typeof e?(s=Object(o.d)(e),s.state=t):(s=a({},e),void 0===s.pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==t&&void 0===s.state&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(s.key=n),i?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=Object(r.default)(s.pathname,i.pathname)):s.pathname=i.pathname:s.pathname||(s.pathname="/"),s},u=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Object(i.default)(e.state,t.state)}},function(e,t,n){"use strict";function r(e){return e instanceof ce.FirebaseError&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function i(e){var t=e.projectId;return ve+"/projects/"+t+"/installations"}function o(e){return{token:e.token,requestStatus:2,expiresIn:l(e.expiresIn),creationTime:Date.now()}}function a(e,t){return Object(ue.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(ue.__generator)(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,_e.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function s(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function u(e,t){var n=t.refreshToken,r=s(e);return r.append("Authorization",h(n)),r}function c(e){return Object(ue.__awaiter)(this,void 0,void 0,function(){var t;return Object(ue.__generator)(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function l(e){return Number(e.replace("s","000"))}function h(e){return me+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(e,t){var n=t.fid;return Object(ue.__awaiter)(this,void 0,void 0,function(){var t,r,u,l,h,f,p;return Object(ue.__generator)(this,function(d){switch(d.label){case 0:return t=i(e),r=s(e),u={fid:n,authVersion:me,appId:e.appId,sdkVersion:de},l={method:"POST",headers:r,body:JSON.stringify(u)},[4,c(function(){return fetch(t,l)})];case 1:return h=d.sent(),h.ok?[4,h.json()]:[3,3];case 2:return f=d.sent(),p={fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:o(f.authToken)},[2,p];case 3:return[4,a("Create Installation",h)];case 4:throw d.sent()}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function p(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(e){return btoa(String.fromCharCode.apply(String,Object(ue.__spread)(e))).replace(/\+/g,"-").replace(/\//g,"_")}function m(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=v(e);return be.test(t)?t:we}catch(e){return we}}function v(e){return d(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function g(e){return e.appName+"!"+e.appId}function y(e,t){var n=g(e);w(n,t),E(n,t)}function _(e,t){T();var n=g(e),r=Ee.get(n);r||(r=new Set,Ee.set(n,r)),r.add(t)}function b(e,t){var n=g(e),r=Ee.get(n);r&&(r.delete(t),0===r.size&&Ee.delete(n),S())}function w(e,t){var n,r,i=Ee.get(e);if(i)try{for(var o=Object(ue.__values)(i),a=o.next();!a.done;a=o.next())(0,a.value)(t)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function E(e,t){var n=T();n&&n.postMessage({key:e,fid:t}),S()}function T(){return!Te&&"BroadcastChannel"in self&&(Te=new BroadcastChannel("[Firebase] FID Change"),Te.onmessage=function(e){w(e.data.key,e.data.fid)}),Te}function S(){0===Ee.size&&Te&&(Te.close(),Te=null)}function C(){return Oe||(Oe=Object(le.openDb)(Se,Ce,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Ie)}})),Oe}function I(e,t){return Object(ue.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(ue.__generator)(this,function(s){switch(s.label){case 0:return n=g(e),[4,C()];case 1:return r=s.sent(),i=r.transaction(Ie,"readwrite"),o=i.objectStore(Ie),[4,o.get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||y(e,t.fid),[2,t]}})})}function O(e){return Object(ue.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(ue.__generator)(this,function(i){switch(i.label){case 0:return t=g(e),[4,C()];case 1:return n=i.sent(),r=n.transaction(Ie,"readwrite"),[4,r.objectStore(Ie).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function A(e,t){return Object(ue.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(ue.__generator)(this,function(u){switch(u.label){case 0:return n=g(e),[4,C()];case 1:return r=u.sent(),i=r.transaction(Ie,"readwrite"),o=i.objectStore(Ie),[4,o.get(n)];case 2:return a=u.sent(),s=t(a),void 0!==s?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||y(e,s.fid),[2,s]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function k(e){return Object(ue.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(ue.__generator)(this,function(i){switch(i.label){case 0:return[4,A(e,function(n){var r=N(n),i=x(e,r);return t=i.registrationPromise,i.installationEntry})];case 1:return n=i.sent(),n.fid!==we?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function N(e){return D(e||{fid:m(),registrationStatus:0})}function x(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(_e.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:P(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:R(e)}:{installationEntry:t}}function P(e,t){return Object(ue.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(ue.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,f(e,t)];case 1:return n=o.sent(),[2,I(e,n)];case 2:return i=o.sent(),r(i)&&409===i.serverCode?[4,O(e)]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,I(e,{fid:t.fid,registrationStatus:0})];case 5:o.sent(),o.label=6;case 6:throw i;case 7:return[2]}})})}function R(e){return Object(ue.__awaiter)(this,void 0,void 0,function(){var t,n,r,i;return Object(ue.__generator)(this,function(o){switch(o.label){case 0:return[4,L(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,p(100)];case 3:return o.sent(),[4,L(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,k(e)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function L(e){return A(e,function(e){if(!e)throw _e.create("installation-not-found");return D(e)})}function D(e){return M(e)?{fid:e.fid,registrationStatus:0}:e}function M(e){return 1===e.registrationStatus&&e.registrationTime+pe<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function j(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Object(ue.__awaiter)(this,void 0,void 0,function(){var e,i,s,l,h,f,p,d;return Object(ue.__generator)(this,function(m){switch(m.label){case 0:return e=U(n,t),i=u(n,t),s=r.getImmediate({optional:!0}),s&&i.append("x-firebase-client",s.getPlatformInfoString()),l={installation:{sdkVersion:de}},h={method:"POST",headers:i,body:JSON.stringify(l)},[4,c(function(){return fetch(e,h)})];case 1:return f=m.sent(),f.ok?[4,f.json()]:[3,3];case 2:return p=m.sent(),d=o(p),[2,d];case 3:return[4,a("Generate Auth Token",f)];case 4:throw m.sent()}})})}function U(e,t){var n=t.fid;return i(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function F(e,t){return void 0===t&&(t=!1),Object(ue.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(ue.__generator)(this,function(a){switch(a.label){case 0:return[4,A(e.appConfig,function(r){if(!H(r))throw _e.create("not-registered");var i=r.authToken;if(!t&&W(i))return r;if(1===i.requestStatus)return n=q(e,t),r;if(!navigator.onLine)throw _e.create("app-offline");var o=G(r);return n=B(e,o),o})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return o=a.sent(),[3,4];case 3:o=r.authToken,a.label=4;case 4:return i=o,[2,i]}})})}function q(e,t){return Object(ue.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(ue.__generator)(this,function(i){switch(i.label){case 0:return[4,V(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,p(100)];case 3:return i.sent(),[4,V(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,0===r.requestStatus?[2,F(e,t)]:[2,r]}})})}function V(e){return A(e,function(e){if(!H(e))throw _e.create("not-registered");return K(e.authToken)?Object(ue.__assign)(Object(ue.__assign)({},e),{authToken:{requestStatus:0}}):e})}function B(e,t){return Object(ue.__awaiter)(this,void 0,void 0,function(){var n,i,o,i;return Object(ue.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,8]),[4,j(e,t)];case 1:return n=a.sent(),i=Object(ue.__assign)(Object(ue.__assign)({},t),{authToken:n}),[4,I(e.appConfig,i)];case 2:return a.sent(),[2,n];case 3:return o=a.sent(),!r(o)||401!==o.serverCode&&404!==o.serverCode?[3,5]:[4,O(e.appConfig)];case 4:return a.sent(),[3,7];case 5:return i=Object(ue.__assign)(Object(ue.__assign)({},t),{authToken:{requestStatus:0}}),[4,I(e.appConfig,i)];case 6:a.sent(),a.label=7;case 7:throw o;case 8:return[2]}})})}function H(e){return void 0!==e&&2===e.registrationStatus}function W(e){return 2===e.requestStatus&&!z(e)}function z(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ge}function G(e){var t={requestStatus:1,requestTime:Date.now()};return Object(ue.__assign)(Object(ue.__assign)({},e),{authToken:t})}function K(e){return 1===e.requestStatus&&e.requestTime+pe<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Q(e){return Object(ue.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(ue.__generator)(this,function(i){switch(i.label){case 0:return[4,k(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):F(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Y(e,t){return void 0===t&&(t=!1),Object(ue.__awaiter)(this,void 0,void 0,function(){var n;return Object(ue.__generator)(this,function(r){switch(r.label){case 0:return[4,X(e.appConfig)];case 1:return r.sent(),[4,F(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function X(e){return Object(ue.__awaiter)(this,void 0,void 0,function(){var t;return Object(ue.__generator)(this,function(n){switch(n.label){case 0:return[4,k(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function J(e,t){return Object(ue.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(ue.__generator)(this,function(s){switch(s.label){case 0:return n=$(e,t),r=u(e,t),i={method:"DELETE",headers:r},[4,c(function(){return fetch(n,i)})];case 1:return o=s.sent(),o.ok?[3,3]:[4,a("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}})})}function $(e,t){var n=t.fid;return i(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Z(e){return Object(ue.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(ue.__generator)(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,A(t,function(e){if(!e||0!==e.registrationStatus)return e})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw _e.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw _e.create("app-offline");case 3:return[4,J(t,n)];case 4:return r.sent(),[4,O(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ee(e,t){var n=e.appConfig;return _(n,t),function(){b(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function te(e){var t,n;if(!e||!e.options)throw ne("App Configuration");if(!e.name)throw ne("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Object(ue.__values)(r),o=i.next();!o.done;o=i.next()){var a=o.value;if(!e.options[a])throw ne(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function ne(e){return _e.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function re(e){e.INTERNAL.registerComponent(new se.Component("installations",function(e){var t=e.getProvider("app").getImmediate(),n=te(t),r=e.getProvider("platform-logger"),i={appConfig:n,platformLoggerProvider:r};return{app:t,getId:function(){return Q(i)},getToken:function(e){return Y(i,e)},delete:function(){return Z(i)},onIdChange:function(e){return ee(i,e)}}},"PUBLIC")),e.registerVersion(he,fe)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"registerInstallations",function(){return re});var ie,oe=n(28),ae=n.n(oe),se=n(35),ue=(n.n(se),n(23)),ce=n(38),le=(n.n(ce),n(163)),he=(n.n(le),"@firebase/installations"),fe="0.4.17",pe=1e4,de="w:"+fe,me="FIS_v2",ve="https://firebaseinstallations.googleapis.com/v1",ge=36e5,ye=(ie={},ie["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ie["not-registered"]="Firebase Installation is not registered.",ie["installation-not-found"]="Firebase Installation not found.",ie["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',ie["app-offline"]="Could not process request. Application offline.",ie["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",ie),_e=new ce.ErrorFactory("installations","Installations",ye),be=/^[cdef][\w-]{21}$/,we="",Ee=new Map,Te=null,Se="firebase-installations-database",Ce=1,Ie="firebase-installations-store",Oe=null;re(ae.a)},function(e,t,n){var r=n(5),i=n(3).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(3),i=n(29),o=n(43),a=n(118),s=n(8).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(65)("keys"),i=n(42);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(3).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(5),i=n(2),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(24)(Function.call,n(21).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(5),i=n(87).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){"use strict";var r=n(32),i=n(31);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var r=n(32),i=n(31);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){"use strict";var r=n(43),i=n(0),o=n(18),a=n(17),s=n(16),u=n(55),c=n(95),l=n(53),h=n(22),f=n(6)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,m,v,g,y){c(n,t,m);var _,b,w,E=function(e){if(!p&&e in I)return I[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},T=t+" Iterator",S="values"==v,C=!1,I=e.prototype,O=I[f]||I["@@iterator"]||v&&I[v],A=O||E(v),k=v?S?E("entries"):A:void 0,N="Array"==t?I.entries||O:O;if(N&&(w=h(N.call(new e)))!==Object.prototype&&w.next&&(l(w,T,!0),r||s(w,f)||a(w,f,d)),S&&O&&"values"!==O.name&&(C=!0,A=function(){return O.call(this)}),r&&!y||!p&&!C&&I[f]||a(I,f,A),u[t]=A,u[T]=d,v)if(_={values:S?A:E("values"),keys:g?A:E("keys"),entries:k},y)for(b in _)b in I||o(I,b,_[b]);else i(i.P+i.F*(p||C),t,_);return _}},function(e,t,n){"use strict";var r=n(46),i=n(41),o=n(53),a={};n(17)(a,n(6)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(69),i=n(31);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var r=n(55),i=n(6)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(8),i=n(41);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(60),i=n(6)("iterator"),o=n(55);e.exports=n(29).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(267);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){"use strict";var r=n(10),i=n(45),o=n(9);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var r=n(40),i=n(134),o=n(55),a=n(20);e.exports=n(94)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r,i,o,a=n(24),s=n(124),u=n(86),c=n(82),l=n(3),h=l.process,f=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,m=l.Dispatch,v=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},_=function(e){y.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete g[e]},"process"==n(25)(h)?r=function(e){h.nextTick(a(y,e,1))}:m&&m.now?r=function(e){m.now(a(y,e,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",_,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:f,clear:p}},function(e,t,n){var r=n(3),i=n(104).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(25)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(o){var l=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=l=!l}}else if(s&&s.resolve){var f=s.resolve();n=function(){f.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=i(t),this.reject=i(n)}var i=n(14);e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";function r(e,t,n){var r,i,o,a=Array(n),s=8*n-t-1,u=(1<<s)-1,c=u>>1,l=23===t?U(2,-24)-U(2,-77):0,h=0,f=e<0||0===e&&1/e<0?1:0;for(e=j(e),e!=e||e===D?(i=e!=e?1:0,r=u):(r=F(q(e)/V),e*(o=U(2,-r))<1&&(r--,o*=2),e+=r+c>=1?l/o:l*U(2,1-c),e*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(e*o-1)*U(2,t),r+=c):(i=e*U(2,c-1)*U(2,t),r=0));t>=8;a[h++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[h++]=255&r,r/=256,s-=8);return a[--h]|=128*f,a}function i(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=e[u--],l=127&c;for(c>>=7;s>0;l=256*l+e[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:c?-D:D;r+=U(2,t),l-=a}return(c?-1:1)*r*U(2,l-t)}function o(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function a(e){return[255&e]}function s(e){return[255&e,e>>8&255]}function u(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function c(e){return r(e,52,8)}function l(e){return r(e,23,4)}function h(e,t,n){I(e[k],t,{get:function(){return this[n]}})}function f(e,t,n,r){var i=+n,o=S(i);if(o+t>e[H])throw L(N);var a=e[B]._b,s=o+e[W],u=a.slice(s,s+t);return r?u:u.reverse()}function p(e,t,n,r,i,o){var a=+n,s=S(a);if(s+t>e[H])throw L(N);for(var u=e[B]._b,c=s+e[W],l=r(+i),h=0;h<t;h++)u[c+h]=l[o?h:t-h-1]}var d=n(3),m=n(7),v=n(43),g=n(75),y=n(17),_=n(51),b=n(4),w=n(49),E=n(32),T=n(9),S=n(143),C=n(47).f,I=n(8).f,O=n(102),A=n(53),k="prototype",N="Wrong index!",x=d.ArrayBuffer,P=d.DataView,R=d.Math,L=d.RangeError,D=d.Infinity,M=x,j=R.abs,U=R.pow,F=R.floor,q=R.log,V=R.LN2,B=m?"_b":"buffer",H=m?"_l":"byteLength",W=m?"_o":"byteOffset";if(g.ABV){if(!b(function(){x(1)})||!b(function(){new x(-1)})||b(function(){return new x,new x(1.5),new x(NaN),"ArrayBuffer"!=x.name})){x=function(e){return w(this,x),new M(S(e))};for(var z,G=x[k]=M[k],K=C(M),Q=0;K.length>Q;)(z=K[Q++])in x||y(x,z,M[z]);v||(G.constructor=x)}var Y=new P(new x(2)),X=P[k].setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||_(P[k],{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},!0)}else x=function(e){w(this,x,"ArrayBuffer");var t=S(e);this._b=O.call(Array(t),0),this[H]=t},P=function(e,t,n){w(this,P,"DataView"),w(e,x,"DataView");var r=e[H],i=E(t);if(i<0||i>r)throw L("Wrong offset!");if(n=void 0===n?r-i:T(n),i+n>r)throw L("Wrong length!");this[B]=e,this[W]=i,this[H]=n},m&&(h(x,"byteLength","_l"),h(P,"buffer","_b"),h(P,"byteLength","_l"),h(P,"byteOffset","_o")),_(P[k],{getInt8:function(e){return f(this,1,e)[0]<<24>>24},getUint8:function(e){return f(this,1,e)[0]},getInt16:function(e){var t=f(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=f(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return o(f(this,4,e,arguments[1]))},getUint32:function(e){return o(f(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return i(f(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return i(f(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){p(this,1,e,a,t)},setUint8:function(e,t){p(this,1,e,a,t)},setInt16:function(e,t){p(this,2,e,s,t,arguments[2])},setUint16:function(e,t){p(this,2,e,s,t,arguments[2])},setInt32:function(e,t){p(this,4,e,u,t,arguments[2])},setUint32:function(e,t){p(this,4,e,u,t,arguments[2])},setFloat32:function(e,t){p(this,4,e,l,t,arguments[2])},setFloat64:function(e,t){p(this,8,e,c,t,arguments[2])}});A(x,"ArrayBuffer"),A(P,"DataView"),y(P[k],g.VIEW,!0),t.ArrayBuffer=x,t.DataView=P},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,u){if(i(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,s,u],h=0;c=new Error(t.replace(/%s/g,function(){return l[h++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.createLocation=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(155),a=r(o),s=n(156),u=r(s),c=n(61);t.createLocation=function(e,t,n,r){var o=void 0;"string"==typeof e?(o=(0,c.parsePath)(e),o.state=t):(o=i({},e),void 0===o.pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=(0,a.default)(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o},t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,u.default)(e.state,t.state)}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(){var e=null,t=function(t){return(0,i.default)(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},n=function(t,n,r,o){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof r?r(a,o):((0,i.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==a)}else o(!0)},r=[];return{setPrompt:t,confirmTransitionTo:n,appendListener:function(e){var t=!0,n=function(){t&&e.apply(void 0,arguments)};return r.push(n),function(){t=!1,r=r.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach(function(e){return e.apply(void 0,t)})}}};t.default=o},function(e,t,n){"use strict";var r=n(112);t.a=r.a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(13),s=n.n(a),u=n(27),c=n.n(u),l=n(1),h=n.n(l),f=n(11),p=n.n(f),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(u))),o.state={match:o.computeMatch(o.props.history.location.pathname)},a=n,i(o,a)}return o(t,e),t.prototype.getChildContext=function(){return{router:d({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;c()(null==n||1===h.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){e.setState({match:e.computeMatch(r.location.pathname)})})},t.prototype.componentWillReceiveProps=function(e){s()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?h.a.Children.only(e):null},t}(h.a.Component);m.propTypes={history:p.a.object.isRequired,children:p.a.node},m.contextTypes={router:p.a.object},m.childContextTypes={router:p.a.object.isRequired},t.a=m},function(e,t,n){"use strict";var r=n(398),i=n.n(r),o={},a=0,s=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=o[n]||(o[n]={});if(r[e])return r[e];var s=[],u=i()(e,s,t),c={re:u,keys:s};return a<1e4&&(r[e]=c,a++),c},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof t&&(t={path:t});var n=t,r=n.path,i=void 0===r?"/":r,o=n.exact,a=void 0!==o&&o,u=n.strict,c=void 0!==u&&u,l=n.sensitive,h=void 0!==l&&l,f=s(i,{end:a,strict:c,sensitive:h}),p=f.re,d=f.keys,m=p.exec(e);if(!m)return null;var v=m[0],g=m.slice(1),y=e===v;return a&&!y?null:{path:i,url:"/"===i&&""===v?"/":v,isExact:y,params:d.reduce(function(e,t,n){return e[t.name]=g[n],e},{})}};t.a=u},function(e,t,n){"use strict";var r=n(13),i=n.n(r),o=function(){var e=null,t=function(t){return i()(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},n=function(t,n,r,o){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof r?r(a,o):(i()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==a)}else o(!0)},r=[];return{setPrompt:t,confirmTransitionTo:n,appendListener:function(e){var t=!0,n=function(){t&&e.apply(void 0,arguments)};return r.push(n),function(){t=!1,r=r.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach(function(e){return e.apply(void 0,t)})}}};t.a=o},function(e,t,n){"use strict";e.exports=n(439).default},function(e,t,n){e.exports=n.p+"images/sprite.gif"},function(e,t,n){e.exports=!n(7)&&!n(4)(function(){return 7!=Object.defineProperty(n(82)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){t.f=n(6)},function(e,t,n){var r=n(16),i=n(20),o=n(66)(!1),a=n(84)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(8),i=n(2),o=n(44);e.exports=n(7)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(20),i=n(47).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){"use strict";var r=n(44),i=n(67),o=n(59),a=n(10),s=n(58),u=Object.assign;e.exports=!u||n(4)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,c=1,l=i.f,h=o.f;u>c;)for(var f,p=s(arguments[c++]),d=l?r(p).concat(l(p)):r(p),m=d.length,v=0;m>v;)h.call(p,f=d[v++])&&(n[f]=p[f]);return n}:u},function(e,t,n){"use strict";var r=n(14),i=n(5),o=n(124),a=[].slice,s={},u=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?u(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(3).parseInt,i=n(54).trim,o=n(88),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var r=n(3).parseFloat,i=n(54).trim;e.exports=1/r(n(88)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(25);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(5),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var r=n(91),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126),c=function(e){return e+1/o-1/o};e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),l=r(e);return i<u?l*c(i/u/a)*u*a:(t=(1+a/o)*i,n=t-(t-i),n>s||n!=n?l*(1/0):l*n)}},function(e,t,n){var r=n(2);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(14),i=n(10),o=n(58),a=n(9);e.exports=function(e,t,n,s,u){r(t);var c=i(e),l=o(c),h=a(c.length),f=u?h-1:0,p=u?-1:1;if(n<2)for(;;){if(f in l){s=l[f],f+=p;break}if(f+=p,u?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:h>f;f+=p)f in l&&(s=t(s,l[f],f,c));return s}},function(e,t,n){"use strict";var r=n(10),i=n(45),o=n(9);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),u=i(t,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:i(c,a))-u,a-s),h=1;for(u<s&&s<u+l&&(h=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=h,u+=h;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){n(7)&&"g"!=/./g.flags&&n(8).f(RegExp.prototype,"flags",{configurable:!0,get:n(71)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(2),i=n(5),o=n(106);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(139),i=n(56);e.exports=n(74)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(8).f,i=n(46),o=n(51),a=n(24),s=n(49),u=n(50),c=n(94),l=n(134),h=n(48),f=n(7),p=n(39).fastKey,d=n(56),m=f?"_s":"size",v=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=r&&u(r,n,e[c],e)});return o(l.prototype,{clear:function(){for(var e=d(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=d(this,t),r=v(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){d(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(d(this,t),e)}}),f&&r(l.prototype,"size",{get:function(){return d(this,t)[m]}}),l},def:function(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=d(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?l(0,n.k):"values"==t?l(0,n.v):l(0,[n.k,n.v]):(e._t=void 0,l(1))},n?"entries":"values",!n,!0),h(t)}}},function(e,t,n){"use strict";var r=n(139),i=n(56);e.exports=n(74)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,i=n(34)(0),o=n(18),a=n(39),s=n(122),u=n(142),c=n(5),l=n(4),h=n(56),f=a.getWeak,p=Object.isExtensible,d=u.ufstore,m={},v=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(e){if(c(e)){var t=f(e);return!0===t?d(h(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(h(this,"WeakMap"),e,t)}},y=e.exports=n(74)("WeakMap",v,g,u,!0,!0);l(function(){return 7!=(new y).set((Object.freeze||Object)(m),7).get(m)})&&(r=u.getConstructor(v,"WeakMap"),s(r.prototype,g),a.NEED=!0,i(["delete","has","get","set"],function(e){var t=y.prototype,n=t[e];o(t,e,function(t,i){if(c(t)&&!p(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)})}))},function(e,t,n){"use strict";var r=n(51),i=n(39).getWeak,o=n(2),a=n(5),s=n(49),u=n(50),c=n(34),l=n(16),h=n(56),f=c(5),p=c(6),d=0,m=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},g=function(e,t){return f(e.a,function(e){return e[0]===t})};v.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var n=g(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var c=e(function(e,r){s(e,c,t,"_i"),e._t=t,e._i=d++,e._l=void 0,void 0!=r&&u(r,n,e[o],e)});return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(h(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(h(this,t)).has(e):n&&l(n,this._i)}}),c},def:function(e,t,n){var r=i(o(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e},ufstore:m}},function(e,t,n){var r=n(32),i=n(9);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(47),i=n(67),o=n(2),a=n(3).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";function r(e,t,n,c,l,h,f,p){for(var d,m,v=l,g=0,y=!!f&&s(f,p,3);g<c;){if(g in n){if(d=y?y(n[g],g,t):n[g],m=!1,o(d)&&(m=d[u],m=void 0!==m?!!m:i(d)),m&&h>0)v=r(e,t,d,a(d.length),v,h-1)-1;else{if(v>=9007199254740991)throw TypeError();e[v]=d}v++}g++}return v}var i=n(68),o=n(5),a=n(9),s=n(24),u=n(6)("isConcatSpreadable");e.exports=r},function(e,t,n){var r=n(9),i=n(90),o=n(31);e.exports=function(e,t,n,a){var s=String(o(e)),u=s.length,c=void 0===n?" ":String(n),l=r(t);if(l<=u||""==c)return s;var h=l-u,f=i.call(c,Math.ceil(h/c.length));return f.length>h&&(f=f.slice(0,h)),a?f+s:s+f}},function(e,t,n){var r=n(44),i=n(20),o=n(59).f;e.exports=function(e){return function(t){for(var n,a=i(t),s=r(a),u=s.length,c=0,l=[];u>c;)o.call(a,n=s[c++])&&l.push(e?[n,a[n]]:a[n]);return l}}},function(e,t,n){var r=n(60),i=n(149);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(50);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t){e.exports=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r}},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)o.call(n,l)&&(u[l]=n[l]);if(i){s=i(n);for(var h=0;h<s.length;h++)a.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(380)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(13),s=r(a),u=n(27),c=r(u),l=n(109),h=n(61),f=n(110),p=r(f),d=n(157),m=function(){try{return window.history.state||{}}catch(e){return{}}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.default)(d.canUseDOM,"Browser history needs a DOM");var t=window.history,n=(0,d.supportsHistory)(),r=!(0,d.supportsPopStateOnHashChange)(),a=e.forceRefresh,u=void 0!==a&&a,f=e.getUserConfirmation,v=void 0===f?d.getConfirmation:f,g=e.keyLength,y=void 0===g?6:g,_=e.basename?(0,h.stripTrailingSlash)((0,h.addLeadingSlash)(e.basename)):"",b=function(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname,a=i.search,u=i.hash,c=o+a+u;return(0,s.default)(!_||(0,h.hasBasename)(c,_),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+c+'" to begin with "'+_+'".'),_&&(c=(0,h.stripBasename)(c,_)),(0,l.createLocation)(c,r,n)},w=function(){return Math.random().toString(36).substr(2,y)},E=(0,p.default)(),T=function(e){o(B,e),B.length=t.length,E.notifyListeners(B.location,B.action)},S=function(e){(0,d.isExtraneousPopstateEvent)(e)||O(b(e.state))},C=function(){O(b(m()))},I=!1,O=function(e){I?(I=!1,T()):E.confirmTransitionTo(e,"POP",v,function(t){t?T({action:"POP",location:e}):A(e)})},A=function(e){var t=B.location,n=N.indexOf(t.key);-1===n&&(n=0);var r=N.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(I=!0,L(i))},k=b(m()),N=[k.key],x=function(e){return _+(0,h.createPath)(e)},P=function(e,r){(0,s.default)(!("object"===(void 0===e?"undefined":i(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o=(0,l.createLocation)(e,r,w(),B.location);E.confirmTransitionTo(o,"PUSH",v,function(e){if(e){var r=x(o),i=o.key,a=o.state;if(n)if(t.pushState({key:i,state:a},null,r),u)window.location.href=r;else{var c=N.indexOf(B.location.key),l=N.slice(0,-1===c?0:c+1);l.push(o.key),N=l,T({action:"PUSH",location:o})}else(0,s.default)(void 0===a,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},R=function(e,r){(0,s.default)(!("object"===(void 0===e?"undefined":i(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=(0,l.createLocation)(e,r,w(),B.location);E.confirmTransitionTo(o,"REPLACE",v,function(e){if(e){var r=x(o),i=o.key,a=o.state;if(n)if(t.replaceState({key:i,state:a},null,r),u)window.location.replace(r);else{var c=N.indexOf(B.location.key);-1!==c&&(N[c]=o.key),T({action:"REPLACE",location:o})}else(0,s.default)(void 0===a,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},L=function(e){t.go(e)},D=function(){return L(-1)},M=function(){return L(1)},j=0,U=function(e){j+=e,1===j?((0,d.addEventListener)(window,"popstate",S),r&&(0,d.addEventListener)(window,"hashchange",C)):0===j&&((0,d.removeEventListener)(window,"popstate",S),r&&(0,d.removeEventListener)(window,"hashchange",C))},F=!1,q=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=E.setPrompt(e);return F||(U(1),F=!0),function(){return F&&(F=!1,U(-1)),t()}},V=function(e){var t=E.appendListener(e);return U(1),function(){U(-1),t()}},B={length:t.length,action:"POP",location:k,createHref:x,push:P,replace:R,go:L,goBack:D,goForward:M,block:q,listen:V};return B};t.default=v},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],o=t&&t.split("/")||[],a=e&&r(e),s=t&&r(t),u=a||s;if(e&&r(e)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var c=void 0;if(o.length){var l=o[o.length-1];c="."===l||".."===l||""===l}else c=!1;for(var h=0,f=o.length;f>=0;f--){var p=o[f];"."===p?i(o,f):".."===p?(i(o,f),h++):h&&(i(o,f),h--)}if(!u)for(;h--;h)o.unshift("..");!u||""===o[0]||o[0]&&r(o[0])||o.unshift("");var d=o.join("/");return c&&"/"!==d.substr(-1)&&(d+="/"),d}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});var n=void 0===e?"undefined":i(e);if(n!==(void 0===t?"undefined":i(t)))return!1;if("object"===n){var o=e.valueOf(),a=t.valueOf();if(o!==e||a!==t)return r(o,a);var s=Object.keys(e),u=Object.keys(t);return s.length===u.length&&s.every(function(n){return r(e[n],t[n])})}return!1}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r},function(e,t,n){"use strict";t.__esModule=!0,t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.getConfirmation=function(e,t){return t(window.confirm(e))},t.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history},t.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},t.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),u=n.n(s),c=n(11),l=n.n(c),h=n(27),f=n.n(h),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},m=function(e){function t(){var n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,e.call.apply(e,[this].concat(u))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!d(e)){e.preventDefault();var t=r.context.router.history,n=r.props,i=n.replace,o=n.to;i?t.replace(o):t.push(o)}},a=n,o(r,a)}return a(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,i=r(e,["replace","to","innerRef"]);f()(this.context.router,"You should not use <Link> outside a <Router>");var o=this.context.router.history.createHref("string"==typeof t?{pathname:t}:t);return u.a.createElement("a",p({},i,{onClick:this.handleClick,href:o,ref:n}))},t}(u.a.Component);m.propTypes={onClick:l.a.func,target:l.a.string,replace:l.a.bool,to:l.a.oneOfType([l.a.string,l.a.object]).isRequired,innerRef:l.a.oneOfType([l.a.string,l.a.func])},m.defaultProps={replace:!1},m.contextTypes={router:l.a.shape({history:l.a.shape({push:l.a.func.isRequired,replace:l.a.func.isRequired,createHref:l.a.func.isRequired}).isRequired}).isRequired},t.a=m},function(e,t,n){"use strict";var r=n(160);t.a=r.a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(13),s=n.n(a),u=n(27),c=n.n(u),l=n(1),h=n.n(l),f=n(11),p=n.n(f),d=n(113),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(e){return 0===h.a.Children.count(e)},g=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(u))),o.state={match:o.computeMatch(o.props,o.context.router)},a=n,i(o,a)}return o(t,e),t.prototype.getChildContext=function(){return{router:m({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,i=e.path,o=e.strict,a=e.exact,s=e.sensitive;if(n)return n;c()(t,"You should not use <Route> or withRouter() outside a <Router>");var u=t.route,l=(r||u.location).pathname;return i?Object(d.a)(l,{path:i,strict:o,exact:a,sensitive:s}):u.match},t.prototype.componentWillMount=function(){s()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),s()(!(this.props.component&&this.props.children&&!v(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),s()(!(this.props.render&&this.props.children&&!v(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){s()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),s()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,i=t.render,o=this.context.router,a=o.history,s=o.route,u=o.staticContext,c=this.props.location||s.location,l={match:e,location:c,history:a,staticContext:u};return r?e?h.a.createElement(r,l):null:i?e?i(l):null:n?"function"==typeof n?n(l):v(n)?null:h.a.Children.only(n):null},t}(h.a.Component);g.propTypes={computedMatch:p.a.object,path:p.a.string,exact:p.a.bool,strict:p.a.bool,sensitive:p.a.bool,component:p.a.func,render:p.a.func,children:p.a.oneOfType([p.a.func,p.a.node]),location:p.a.object},g.contextTypes={router:p.a.shape({history:p.a.object.isRequired,route:p.a.object.isRequired,staticContext:p.a.object})},g.childContextTypes={router:p.a.object.isRequired},t.a=g},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"g",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"f",function(){return c}),n.d(t,"d",function(){return l});var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},o=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},a=function(e,t){return t(window.confirm(e))},s=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history},u=function(){return-1===window.navigator.userAgent.indexOf("Trident")},c=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},l=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?d=p.concat(d):v=-1,d.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=d.length;t;){for(p=d,d=[];++v<t;)p&&p[v].run();v=-1,t=d.length}p=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,h,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(e){h=r}}();var p,d=[],m=!1,v=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new u(e,t)),1!==d.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){!function(e,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var i,o=new Promise(function(o,a){i=e[t].apply(e,r),n(i).then(o,a)});return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then(function(e){if(e)return new l(e,i.request)})}function o(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function a(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function s(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function u(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})})}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function p(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function d(e){this._db=e}function m(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new p(o.result,e.oldVersion,o.transaction))}),i.then(function(e){return new d(e)})}function v(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new l(e,t._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[h,c].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[c,h].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){return e?(r.push(e.value),void 0!==t&&r.length==t?void i(r):void e.continue()):void i(r)})})})}),e.openDb=m,e.deleteDb=v,Object.defineProperty(e,"__esModule",{value:!0})}(t)}()},function(e,t,n){e.exports=n.p+"images/stopwatch.png"},function(e,t,n){e.exports=n.p+"images/heart.png"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(12),c=n(435),l=(n.n(c),n(167)),h=n.n(l),f=n(164),p=(n.n(f),n(165)),d=(n.n(p),n(436)),m=n.n(d),v=n(437),g=n.n(v),y=n(438),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={visible:"init false",openBonus:"init false"},n}return o(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){e.visible!=this.state.visible&&this.setState({visible:e.visible})}},{key:"closeModal",value:function(){this.setState({visible:"init false",openBonus:"init false"}),this.props.closeModal&&this.props.closeModal()}},{key:"openModal",value:function(){this.setState({visible:!0})}},{key:"openBonus",value:function(){this.setState({openBonus:!0})}},{key:"render",value:function(){var e=this,t=this.props.score,n=this.props.level,r=this.props.accuracy,i=this.props.bonus,o=s.a.createElement("div",{className:"modal-btns"},s.a.createElement("button",{onClick:function(){return e.closeModal()},className:"modal-btn again-btn"},"Try Again")," ",s.a.createElement(u.b,{className:"modal-btn back-btn",to:"/navigation"},"Main Menu"));this.props.gameplayBtns||(o="");var a=s.a.createElement("div",{className:"header-img-wrapper"},s.a.createElement("img",{src:h.a,width:"125",height:"125"})),c=i>0;c&&(a=s.a.createElement("div",{className:"header-img-wrapper shake"},s.a.createElement("img",{src:g.a,onClick:function(){e.openBonus()},width:"125",height:"125"}))),this.props.gameplayBtns||(a=""),c&&1==this.state.openBonus&&(a=s.a.createElement("div",{className:"header-img-wrapper"},s.a.createElement("img",{src:m.a,width:"125",height:"125"})));var l=s.a.createElement("div",{className:"blankBonus"});return c&&(l=s.a.createElement(y.a,{charm:this.props.charm,snackbar:function(t){e.props.snackbar(t)},level:n,openBonus:this.state.openBonus,score:t,operator:this.props.operator,bonus:i,accuracy:r})),s.a.createElement("div",{className:"modal-wrapper "+this.state.visible},s.a.createElement("div",{className:"modal-overlay"},s.a.createElement("div",{className:"modal-content"},a,s.a.createElement("h2",null,this.props.title),s.a.createElement("div",{className:"font-normal",dangerouslySetInnerHTML:{__html:this.props.body}}),o)),l)}}]),t}(s.a.Component),w=b;t.a=w,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(b,"Modal","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Modal/Modal.jsx"),__REACT_HOT_LOADER__.register(w,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Modal/Modal.jsx"))}()},function(e,t,n){e.exports=n.p+"images/icon_sunglasses.png"},function(e,t,n){!function(t,r){e.exports=function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(t){t.exports=e},function(e,t,n){e.exports=n(2)()},function(e,t,n){"use strict";function r(){}var i=n(3);e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n}},function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.r(t);var p=n(0),d=n.n(p),m=(n(1),function(e){return d.a.createElement("div",{style:{marginRight:10,background:e.active?"#eee":"#fff",padding:10,borderRadius:2}},d.a.createElement("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg"},d.a.createElement("g",{fill:"#000",fillRule:"evenodd"},d.a.createElement("path",{d:"M9 3.48c1.69 0 2.83.73 3.48 1.34l2.54-2.48C13.46.89 11.43 0 9 0 5.48 0 2.44 2.02.96 4.96l2.91 2.26C4.6 5.05 6.62 3.48 9 3.48z",fill:"#EA4335"}),d.a.createElement("path",{d:"M17.64 9.2c0-.74-.06-1.28-.19-1.84H9v3.34h4.96c-.1.83-.64 2.08-1.84 2.92l2.84 2.2c1.7-1.57 2.68-3.88 2.68-6.62z",fill:"#4285F4"}),d.a.createElement("path",{d:"M3.88 10.78A5.54 5.54 0 0 1 3.58 9c0-.62.11-1.22.29-1.78L.96 4.96A9.008 9.008 0 0 0 0 9c0 1.45.35 2.82.96 4.04l2.92-2.26z",fill:"#FBBC05"}),d.a.createElement("path",{d:"M9 18c2.43 0 4.47-.8 5.96-2.18l-2.84-2.2c-.76.53-1.78.9-3.12.9-2.38 0-4.4-1.57-5.12-3.74L.97 13.04C2.45 15.98 5.48 18 9 18z",fill:"#34A853"}),d.a.createElement("path",{fill:"none",d:"M0 0h18v18H0z"}))))}),v=function(e){return d.a.createElement("span",{style:{paddingRight:10,fontWeight:500,paddingLeft:e.icon?0:10,paddingTop:10,paddingBottom:10}},e.children)},g=function(){function e(t){var n,i;return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),(n=!(i=o(e).call(this,t))||"object"!==r(i)&&"function"!=typeof i?s(this):i).signIn=n.signIn.bind(s(s(n))),n.enableButton=n.enableButton.bind(s(s(n))),n.state={disabled:!0,hovered:!1,active:!1},n}var t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(e,p.Component),t=e,(n=[{key:"componentDidMount",value:function(){var e,t,n,r=this,i=this.props,o=i.clientId,a=i.cookiePolicy,s=i.loginHint,u=i.hostedDomain,c=i.autoLoad,l=i.isSignedIn,h=i.fetchBasicProfile,f=i.redirectUri,p=i.discoveryDocs,d=i.onFailure,m=i.uxMode,v=i.scope,g=i.accessType,y=i.responseType,_=i.jsSrc;n=t=(e=document).getElementsByTagName("script")[0],(n=e.createElement("script")).id="google-login",n.src=_,t&&t.parentNode?t.parentNode.insertBefore(n,t):e.head.appendChild(n),n.onload=function(){var e={client_id:o,cookie_policy:a,login_hint:s,hosted_domain:u,fetch_basic_profile:h,discoveryDocs:p,ux_mode:m,redirect_uri:f,scope:v,access_type:g};"code"===y&&(e.access_type="offline"),window.gapi.load("auth2",function(){r.enableButton(),window.gapi.auth2.getAuthInstance()||window.gapi.auth2.init(e).then(function(e){l&&e.isSignedIn.get()&&r.handleSigninSuccess(e.currentUser.get())},function(e){return d(e)}),c&&r.signIn()})}}},{key:"componentWillUnmount",value:function(){this.enableButton=function(){}}},{key:"enableButton",value:function(){this.setState({disabled:!1})}},{key:"signIn",value:function(e){var t=this;if(e&&e.preventDefault(),!this.state.disabled){var n=window.gapi.auth2.getAuthInstance(),r=this.props,i=r.onSuccess,o=r.onFailure,a=r.responseType,s={prompt:r.prompt};(0,r.onRequest)(),"code"===a?n.grantOfflineAccess(s).then(function(e){return i(e)},function(e){return o(e)}):n.signIn(s).then(function(e){return t.handleSigninSuccess(e)},function(e){return o(e)})}}},{key:"handleSigninSuccess",value:function(e){var t=e.getBasicProfile(),n=e.getAuthResponse();e.googleId=t.getId(),e.tokenObj=n,e.tokenId=n.id_token,e.accessToken=n.access_token,e.profileObj={googleId:t.getId(),imageUrl:t.getImageUrl(),email:t.getEmail(),name:t.getName(),givenName:t.getGivenName(),familyName:t.getFamilyName()},this.props.onSuccess(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.tag,r=t.type,i=t.className,o=t.disabledStyle,a=t.buttonText,s=t.children,u=t.render,c=t.theme,l=t.icon,h=this.state.disabled||this.props.disabled;if(u)return u({onClick:this.signIn});var f={backgroundColor:"dark"===c?"rgb(66, 133, 244)":"#fff",display:"inline-flex",alignItems:"center",color:"dark"===c?"#fff":"rgba(0, 0, 0, .54)",boxShadow:"0 2px 2px 0 rgba(0, 0, 0, .24), 0 0 1px 0 rgba(0, 0, 0, .24)",padding:0,borderRadius:2,border:"1px solid transparent",fontSize:14,fontWeight:"500",fontFamily:"Roboto, sans-serif"},p={cursor:"pointer",backgroundColor:"dark"===c?"#3367D6":"#eee",color:"dark"===c?"#fff":"rgba(0, 0, 0, .54)",opacity:1},g=h?Object.assign({},f,o):e.state.active?Object.assign({},f,p):e.state.hovered?Object.assign({},f,{cursor:"pointer",opacity:.9}):f;return d.a.createElement(n,{onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1,active:!1})},onMouseDown:function(){return e.setState({active:!0})},onMouseUp:function(){return e.setState({active:!1})},onClick:this.signIn,style:g,type:r,disabled:h,className:i},[l&&d.a.createElement(m,{key:1,active:this.state.active}),d.a.createElement(v,{icon:l,key:2},s||a)])}}])&&i(t.prototype,n),e}();g.defaultProps={type:"button",tag:"button",buttonText:"Sign in with Google",scope:"profile email",accessType:"online",prompt:"",cookiePolicy:"single_host_origin",fetchBasicProfile:!0,isSignedIn:!1,uxMode:"popup",disabledStyle:{opacity:.6},icon:!0,theme:"light",onRequest:function(){},jsSrc:"https://apis.google.com/js/client:platform.js"};var y=g,_=function(){function e(t){var n,r;return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),(n=!(r=l(e).call(this,t))||"object"!==u(r)&&"function"!=typeof r?f(this):r).signOut=n.signOut.bind(f(f(n))),n.enableButton=n.enableButton.bind(f(f(n))),n.state={disabled:!0,hovered:!1,active:!1},n}var t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(e,p.Component),t=e,(n=[{key:"componentDidMount",value:function(){var e,t,n,r=this,i=this.props.jsSrc;n=t=(e=document).getElementsByTagName("script")[0],(n=e.createElement("script")).id="google-login",n.src=i,t&&t.parentNode?t.parentNode.insertBefore(n,t):e.head.appendChild(n),n.onload=function(){r.enableButton()}}},{key:"componentWillUnmount",value:function(){this.enableButton=function(){}}},{key:"enableButton",value:function(){this.setState({disabled:!1})}},{key:"signOut",value:function(){var e=window.gapi.auth2.getAuthInstance();null!=e&&e.signOut().then(this.props.onLogoutSuccess)}},{key:"render",value:function(){var e=this,t=this.props,n=t.tag,r=t.type,i=t.className,o=t.disabledStyle,a=t.buttonText,s=t.children,u=t.render,c=t.theme,l=t.icon;if(u)return u({onClick:this.signOut});var h=this.state.disabled||this.props.disabled,f={backgroundColor:"dark"===c?"rgb(66, 133, 244)":"#fff",display:"inline-flex",alignItems:"center",color:"dark"===c?"#fff":"rgba(0, 0, 0, .54)",boxShadow:"0 2px 2px 0 rgba(0, 0, 0, .24), 0 0 1px 0 rgba(0, 0, 0, .24)",padding:0,borderRadius:2,border:"1px solid transparent",fontSize:14,fontWeight:"500",fontFamily:"Roboto, sans-serif"},p={cursor:"pointer",backgroundColor:"dark"===c?"#3367D6":"#eee",color:"dark"===c?"#fff":"rgba(0, 0, 0, .54)",opacity:1},g=h?Object.assign({},f,o):e.state.active?Object.assign({},f,p):e.state.hovered?Object.assign({},f,{cursor:"pointer",opacity:.9}):f;return d.a.createElement(n,{onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1,active:!1})},onMouseDown:function(){return e.setState({active:!0})},onMouseUp:function(){return e.setState({active:!1})},onClick:this.signOut,style:g,type:r,disabled:h,className:i},[l&&d.a.createElement(m,{key:1,active:this.state.active}),d.a.createElement(v,{icon:l,key:2},s||a)])}}])&&c(t.prototype,n),e}();_.defaultProps={type:"button",tag:"button",buttonText:"Logout of Google",disabledStyle:{opacity:.6},icon:!0,theme:"light",jsSrc:"https://apis.google.com/js/client:platform.js"};var b=_;n.d(t,"default",function(){return y}),n.d(t,"GoogleLogin",function(){return y}),n.d(t,"GoogleLogout",function(){return b})}])}(n(1))}(window)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(11),c=n.n(u),l=n(568),h=(n.n(l),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),h(t,[{key:"render",value:function(){var e=this,t="correct"==this.props.status,n="battle"==this.props.gamemode;return n&&(t=this.props.value),s.a.createElement("button",{onClick:function(r){n||r.target.setAttribute("id","selected"),e.props.onAnswer(t)},className:"answer "+(this.props.answered?"":"unanswered")+" "+this.props.status},this.props.value)}}]),t}(s.a.Component),p=f;t.a=p,f.defaultProps={status:"incorrect"},f.propTypes={status:c.a.string},function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"Answer","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Answer/Answer.jsx"),__REACT_HOT_LOADER__.register(p,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Answer/Answer.jsx"))}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(578),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={CAROUSEL:function(e){return(0,i.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,t){return(0,i.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":"horizontal"===t,"axis-vertical":"horizontal"!==t})},SLIDER:function(e,t){return(0,i.default)({thumbs:!e,slider:e,animated:!t})},ITEM:function(e,t){return(0,i.default)({thumb:!e,slide:e,selected:t})},ARROW_PREV:function(e){return(0,i.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,i.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,i.default)({dot:!0,selected:e})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return"translate3d("+("horizontal"===t?[e,0,0]:[0,e,0]).join(",")+")"}},function(e,t,n){var r,i,o;!function(a,s){i=[t,n(579)],r=s,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t);e.default=n.default})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),l=r(c),h=n(11),f=r(h),p=n(170),d=r(p),m=n(580),v=n(171),g=r(v),y=n(172),_=r(y),b=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return w.call(n),n.state={selectedItem:e.selectedItem,hasMount:!1,firstItem:0,itemSize:null,visibleItems:0,lastPosition:0,showArrows:!1,images:n.getImages()},n}return a(t,e),u(t,[{key:"componentDidMount",value:function(e){this.setupThumbs()}},{key:"componentWillReceiveProps",value:function(e,t){e.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:e.selectedItem,firstItem:this.getFirstItem(e.selectedItem)}),e.children!==this.props.children&&this.setState({images:this.getImages()})}},{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){window.addEventListener("resize",this.updateSizes),window.addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){window.removeEventListener("resize",this.updateSizes),window.removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getImages",value:function(){var e=c.Children.map(this.props.children,function(e,t){var n=e;return"img"!==e.type&&(n=c.Children.toArray(e.props.children).filter(function(e){return"img"===e.type})[0]),n&&0!==n.length?n:null});return 0===e.filter(function(e){return null!==e}).length?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),null):e}},{key:"getFirstItem",value:function(e){var t=e;return e>=this.state.lastPosition&&(t=this.state.lastPosition),e<this.state.firstItem+this.state.visibleItems&&(t=this.state.firstItem),e<this.state.firstItem&&(t=e),t}},{key:"renderItems",value:function(){var e=this;return this.state.images.map(function(t,n){var r=d.default.ITEM(!1,n===e.state.selectedItem&&e.state.hasMount),i={key:n,ref:function(t){return e.setThumbsRef(t,n)},className:r,onClick:e.handleClickItem.bind(e,n,e.props.children[n]),onKeyDown:e.handleClickItem.bind(e,n,e.props.children[n])};return 0===n&&(t=l.default.cloneElement(t,{onLoad:e.setMountState})),l.default.createElement("li",s({},i,{role:"button",tabIndex:0}),t)})}},{key:"render",value:function(){if(!this.props.children)return null;var e=this.state.showArrows&&this.state.firstItem>0,t=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,n={},r=-this.state.firstItem*this.state.itemSize+"px",i=(0,g.default)(r,this.props.axis),o=this.props.transitionTime+"ms";return n={WebkitTransform:i,MozTransform:i,MsTransform:i,OTransform:i,transform:i,msTransform:i,WebkitTransitionDuration:o,MozTransitionDuration:o,MsTransitionDuration:o,OTransitionDuration:o,transitionDuration:o,msTransitionDuration:o},l.default.createElement("div",{className:d.default.CAROUSEL(!1)},l.default.createElement("div",{className:d.default.WRAPPER(!1),ref:this.setItemsWrapperRef},l.default.createElement("button",{type:"button",className:d.default.ARROW_PREV(!e),onClick:this.slideRight}),l.default.createElement(_.default,{tagName:"ul",selectedItem:this.state.selectedItem,className:d.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:n,ref:this.setItemsListRef},this.renderItems()),l.default.createElement("button",{type:"button",className:d.default.ARROW_NEXT(!t),onClick:this.slideLeft})))}}]),t}(c.Component);b.displayName="Thumbs",b.propsTypes={children:f.default.element.isRequired,transitionTime:f.default.number,selectedItem:f.default.number,thumbWidth:f.default.number},b.defaultProps={selectedItem:0,transitionTime:350,axis:"horizontal"};var w=function(){var e=this;this.setItemsWrapperRef=function(t){e.itemsWrapperRef=t},this.setItemsListRef=function(t){e.itemsListRef=t},this.setThumbsRef=function(t,n){e.thumbsRef||(e.thumbsRef=[]),e.thumbsRef[n]=t},this.updateSizes=function(){if(e.props.children&&e.itemsWrapperRef){var t=e.props.children.length,n=e.itemsWrapperRef.clientWidth,r=e.props.thumbWidth?e.props.thumbWidth:(0,m.outerWidth)(e.thumbsRef[0]),i=Math.floor(n/r),o=t-i,a=i<t;e.setState(function(t,n){return{itemSize:r,visibleItems:i,firstItem:a?e.getFirstItem(n.selectedItem):0,lastPosition:o,showArrows:a}})}},this.setMountState=function(){e.setState({hasMount:!0}),e.updateSizes()},this.handleClickItem=function(t,n,r){if(!r.keyCode||"Enter"===r.key){var i=e.props.onSelectItem;"function"==typeof i&&i(t,n)}},this.onSwipeStart=function(){e.setState({swiping:!0})},this.onSwipeEnd=function(){e.setState({swiping:!1})},this.onSwipeMove=function(t){var n=-e.state.firstItem*e.state.itemSize,r=-e.state.visibleItems*e.state.itemSize;0===n&&t>0&&(t=0),n===r&&t<0&&(t=0);var i=e.itemsWrapperRef.clientWidth,o=n+100/(i/t)+"%";e.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(t){e.itemsListRef.style[t]=(0,g.default)(o,e.props.axis)})},this.slideRight=function(t){e.moveTo(e.state.firstItem-("number"==typeof t?t:1))},this.slideLeft=function(t){e.moveTo(e.state.firstItem+("number"==typeof t?t:1))},this.moveTo=function(t){t=t<0?0:t,t=t>=e.lastPosition?e.lastPosition:t,e.setState({firstItem:t,selectedItem:e.state.selectedItem})}};t.default=b},function(e,t,n){n(175),n(377),e.exports=n(378)},function(e,t,n){"use strict";(function(e){function t(e,t,n){e[t]||Object[r](e,t,{writable:!0,configurable:!0,value:n})}if(n(176),n(373),n(374),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var r="defineProperty";t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(t,n(52))},function(e,t,n){n(177),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(257),n(258),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(103),n(281),n(282),n(135),n(283),n(284),n(285),n(286),n(287),n(138),n(140),n(141),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),e.exports=n(29)},function(e,t,n){"use strict";var r=n(3),i=n(16),o=n(7),a=n(0),s=n(18),u=n(39).KEY,c=n(4),l=n(65),h=n(53),f=n(42),p=n(6),d=n(118),m=n(83),v=n(178),g=n(68),y=n(2),_=n(20),b=n(30),w=n(41),E=n(46),T=n(121),S=n(21),C=n(8),I=n(44),O=S.f,A=C.f,k=T.f,N=r.Symbol,x=r.JSON,P=x&&x.stringify,R=p("_hidden"),L=p("toPrimitive"),D={}.propertyIsEnumerable,M=l("symbol-registry"),j=l("symbols"),U=l("op-symbols"),F=Object.prototype,q="function"==typeof N,V=r.QObject,B=!V||!V.prototype||!V.prototype.findChild,H=o&&c(function(){return 7!=E(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=O(F,t);r&&delete F[t],A(e,t,n),r&&e!==F&&A(F,t,r)}:A,W=function(e){var t=j[e]=E(N.prototype);return t._k=e,t},z=q&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},G=function(e,t,n){return e===F&&G(U,t,n),y(e),t=b(t,!0),y(n),i(j,t)?(n.enumerable?(i(e,R)&&e[R][t]&&(e[R][t]=!1),n=E(n,{enumerable:w(0,!1)})):(i(e,R)||A(e,R,w(1,{})),e[R][t]=!0),H(e,t,n)):A(e,t,n)},K=function(e,t){y(e);for(var n,r=v(t=_(t)),i=0,o=r.length;o>i;)G(e,n=r[i++],t[n]);return e},Q=function(e,t){return void 0===t?E(e):K(E(e),t)},Y=function(e){var t=D.call(this,e=b(e,!0));return!(this===F&&i(j,e)&&!i(U,e))&&(!(t||!i(this,e)||!i(j,e)||i(this,R)&&this[R][e])||t)},X=function(e,t){if(e=_(e),t=b(t,!0),e!==F||!i(j,t)||i(U,t)){var n=O(e,t);return!n||!i(j,t)||i(e,R)&&e[R][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=k(_(e)),r=[],o=0;n.length>o;)i(j,t=n[o++])||t==R||t==u||r.push(t);return r},$=function(e){for(var t,n=e===F,r=k(n?U:_(e)),o=[],a=0;r.length>a;)!i(j,t=r[a++])||n&&!i(F,t)||o.push(j[t]);return o};q||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===F&&t.call(U,n),i(this,R)&&i(this[R],e)&&(this[R][e]=!1),H(this,e,w(1,n))};return o&&B&&H(F,e,{configurable:!0,set:t}),W(e)},s(N.prototype,"toString",function(){return this._k}),S.f=X,C.f=G,n(47).f=T.f=J,n(59).f=Y,n(67).f=$,o&&!n(43)&&s(F,"propertyIsEnumerable",Y,!0),d.f=function(e){return W(p(e))}),a(a.G+a.W+a.F*!q,{Symbol:N});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)p(Z[ee++]);for(var te=I(p.store),ne=0;te.length>ne;)m(te[ne++]);a(a.S+a.F*!q,"Symbol",{for:function(e){return i(M,e+="")?M[e]:M[e]=N(e)},keyFor:function(e){if(!z(e))throw TypeError(e+" is not a symbol!");for(var t in M)if(M[t]===e)return t},useSetter:function(){B=!0},useSimple:function(){B=!1}}),a(a.S+a.F*!q,"Object",{create:Q,defineProperty:G,defineProperties:K,getOwnPropertyDescriptor:X,getOwnPropertyNames:J,getOwnPropertySymbols:$}),x&&a(a.S+a.F*(!q||c(function(){var e=N();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!z(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&g(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!z(t))return t}),r[1]=t,P.apply(x,r)}}}),N.prototype[L]||n(17)(N.prototype,L,N.prototype.valueOf),h(N,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(e,t,n){var r=n(44),i=n(67),o=n(59);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(0);r(r.S,"Object",{create:n(46)})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperty:n(8).f})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperties:n(120)})},function(e,t,n){var r=n(20),i=n(21).f;n(33)("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},function(e,t,n){var r=n(10),i=n(22);n(33)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(10),i=n(44);n(33)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){n(33)("getOwnPropertyNames",function(){return n(121).f})},function(e,t,n){var r=n(5),i=n(39).onFreeze;n(33)("freeze",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(5),i=n(39).onFreeze;n(33)("seal",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(5),i=n(39).onFreeze;n(33)("preventExtensions",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(5);n(33)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(5);n(33)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(5);n(33)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(122)})},function(e,t,n){var r=n(0);r(r.S,"Object",{is:n(194)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(87).set})},function(e,t,n){"use strict";var r=n(60),i={};i[n(6)("toStringTag")]="z",i+""!="[object z]"&&n(18)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(0);r(r.P,"Function",{bind:n(123)})},function(e,t,n){var r=n(8).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(7)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(5),i=n(22),o=n(6)("hasInstance"),a=Function.prototype;o in a||n(8).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(0),i=n(125);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){var r=n(0),i=n(126);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(e,t,n){"use strict";var r=n(3),i=n(16),o=n(25),a=n(89),s=n(30),u=n(4),c=n(47).f,l=n(21).f,h=n(8).f,f=n(54).trim,p=r.Number,d=p,m=p.prototype,v="Number"==o(n(46)(m)),g="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=g?t.trim():f(t,3);var n,r,i,o=t.charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,u=t.slice(2),c=0,l=u.length;c<l;c++)if((a=u.charCodeAt(c))<48||a>i)return NaN;return parseInt(u,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(v?u(function(){m.valueOf.call(n)}):"Number"!=o(n))?a(new d(y(t)),n,p):y(t)};for(var _,b=n(7)?c(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)i(d,_=b[w])&&!i(p,_)&&h(p,_,l(d,_));p.prototype=m,m.constructor=p,n(18)(r,"Number",p)}},function(e,t,n){"use strict";var r=n(0),i=n(32),o=n(127),a=n(90),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",h=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*c[n],c[n]=r%1e7,r=u(r/1e7)},f=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=u(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},d=function(e,t,n){return 0===t?n:t%2==1?d(e,t-1,n*e):d(e*e,t/2,n)},m=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(4)(function(){s.call({})})),"Number",{toFixed:function(e){var t,n,r,s,u=o(this,l),c=i(e),v="",g="0";if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(v="-",u=-u),u>1e-21)if(t=m(u*d(2,69,1))-69,n=t<0?u*d(2,-t,1):u/d(2,t,1),n*=4503599627370496,(t=52-t)>0){for(h(0,n),r=c;r>=7;)h(1e7,0),r-=7;for(h(d(10,r,1),0),r=t-1;r>=23;)f(1<<23),r-=23;f(1<<r),h(1,1),f(2),g=p()}else h(0,n),h(1<<-t,0),g=p()+a.call("0",c);return c>0?(s=g.length,g=v+(s<=c?"0."+a.call("0",c-s)+g:g.slice(0,s-c)+"."+g.slice(s-c))):g=v+g,g}})},function(e,t,n){"use strict";var r=n(0),i=n(4),o=n(127),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(0),i=n(3).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{isInteger:n(128)})},function(e,t,n){var r=n(0);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(0),i=n(128),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(0),i=n(126);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){var r=n(0),i=n(125);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,n){var r=n(0),i=n(129),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(e,t,n){function r(e){return isFinite(e=+e)&&0!=e?e<0?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var i=n(0),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},function(e,t,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(0),i=n(91);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,n){var r=n(0),i=n(92);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,n){var r=n(0);r(r.S,"Math",{fround:n(130)})},function(e,t,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)n=i(arguments[a++]),u<n?(r=u/n,o=o*r*r+1,u=n):n>0?(r=n/u,o+=r*r):o+=n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(e,t,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(4)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log1p:n(129)})},function(e,t,n){var r=n(0);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(0);r(r.S,"Math",{sign:n(91)})},function(e,t,n){var r=n(0),i=n(92),o=Math.exp;r(r.S+r.F*n(4)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(0),i=n(92),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(0),i=n(45),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(0),i=n(20),o=n(9);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){"use strict";n(54)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var r=n(93)(!0);n(94)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var r=n(0),i=n(93)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(0),i=n(9),o=n(96),a="".endsWith;r(r.P+r.F*n(97)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),u=String(e);return a?a.call(t,u,s):t.slice(s-u.length,s)===u}})},function(e,t,n){"use strict";var r=n(0),i=n(96);r(r.P+r.F*n(97)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(0);r(r.P,"String",{repeat:n(90)})},function(e,t,n){"use strict";var r=n(0),i=n(9),o=n(96),a="".startsWith;r(r.P+r.F*n(97)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(19)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){"use strict";n(19)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(19)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(19)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(19)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(19)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(19)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){"use strict";n(19)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(19)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";n(19)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(19)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(19)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(19)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(30);r(r.P+r.F*n(4)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(0),i=n(256);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,n){"use strict";var r=n(4),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(e,t,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(18)(r,"toString",function(){var e=o.call(this);return e===e?i.call(this):"Invalid Date"})},function(e,t,n){var r=n(6)("toPrimitive"),i=Date.prototype;r in i||n(17)(i,r,n(259))},function(e,t,n){"use strict";var r=n(2),i=n(30);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!=e)}},function(e,t,n){var r=n(0);r(r.S,"Array",{isArray:n(68)})},function(e,t,n){"use strict";var r=n(24),i=n(0),o=n(10),a=n(131),s=n(98),u=n(9),c=n(99),l=n(100);i(i.S+i.F*!n(70)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,h,f=o(e),p="function"==typeof this?this:Array,d=arguments.length,m=d>1?arguments[1]:void 0,v=void 0!==m,g=0,y=l(f);if(v&&(m=r(m,d>2?arguments[2]:void 0,2)),void 0==y||p==Array&&s(y))for(t=u(f.length),n=new p(t);t>g;g++)c(n,g,v?m(f[g],g):f[g]);else for(h=y.call(f),n=new p;!(i=h.next()).done;g++)c(n,g,v?a(h,m,[i.value,g],!0):i.value);return n.length=g,n}})},function(e,t,n){"use strict";var r=n(0),i=n(99);r(r.S+r.F*n(4)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(0),i=n(20),o=[].join;r(r.P+r.F*(n(58)!=Object||!n(26)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(0),i=n(86),o=n(25),a=n(45),s=n(9),u=[].slice;r(r.P+r.F*n(4)(function(){i&&u.call(i)}),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return u.call(this,e,t);for(var i=a(e,n),c=a(t,n),l=s(c-i),h=Array(l),f=0;f<l;f++)h[f]="String"==r?this.charAt(i+f):this[i+f];return h}})},function(e,t,n){"use strict";var r=n(0),i=n(14),o=n(10),a=n(4),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(26)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},function(e,t,n){"use strict";var r=n(0),i=n(34)(0),o=n(26)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(5),i=n(68),o=n(6)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(0),i=n(34)(1);r(r.P+r.F*!n(26)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(34)(2);r(r.P+r.F*!n(26)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(34)(3);r(r.P+r.F*!n(26)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(34)(4);r(r.P+r.F*!n(26)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(132);r(r.P+r.F*!n(26)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(0),i=n(132);r(r.P+r.F*!n(26)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(0),i=n(66)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(26)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(20),o=n(32),a=n(9),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(26)(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(0);r(r.P,"Array",{copyWithin:n(133)}),n(40)("copyWithin")},function(e,t,n){var r=n(0);r(r.P,"Array",{fill:n(102)}),n(40)("fill")},function(e,t,n){"use strict";var r=n(0),i=n(34)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(40)("find")},function(e,t,n){"use strict";var r=n(0),i=n(34)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(40)(o)},function(e,t,n){n(48)("Array")},function(e,t,n){var r=n(3),i=n(89),o=n(8).f,a=n(47).f,s=n(69),u=n(71),c=r.RegExp,l=c,h=c.prototype,f=/a/g,p=/a/g,d=new c(f)!==f;if(n(7)&&(!d||n(4)(function(){return p[n(6)("match")]=!1,c(f)!=f||c(p)==p||"/a/i"!=c(f,"i")}))){c=function(e,t){var n=this instanceof c,r=s(e),o=void 0===t;return!n&&r&&e.constructor===c&&o?e:i(d?new l(r&&!o?e.source:e,t):l((r=e instanceof c)?e.source:e,r&&o?u.call(e):t),n?this:h,c)};for(var m=a(l),v=0;m.length>v;)!function(e){e in c||o(c,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})}(m[v++]);h.constructor=c,c.prototype=h,n(18)(r,"RegExp",c)}n(48)("RegExp")},function(e,t,n){"use strict";n(135);var r=n(2),i=n(71),o=n(7),a=/./.toString,s=function(e){n(18)(RegExp.prototype,"toString",e,!0)};n(4)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(e,t,n){n(72)("match",1,function(e,t,n){return[function(n){"use strict";var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(72)("replace",2,function(e,t,n){return[function(r,i){"use strict";var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]})},function(e,t,n){n(72)("search",1,function(e,t,n){return[function(n){"use strict";var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(72)("split",2,function(e,t,r){"use strict";var i=n(69),o=r,a=[].push,s="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[s]||2!="ab".split(/(?:ab)*/)[s]||4!=".".split(/(.?)(.?)/)[s]||".".split(/()()/)[s]>1||"".split(/.?/)[s]){var u=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return o.call(n,e,t);var r,c,l,h,f,p=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,v=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,d+"g");for(u||(r=new RegExp("^"+g.source+"$(?!\\s)",d));(c=g.exec(n))&&!((l=c.index+c[0][s])>m&&(p.push(n.slice(m,c.index)),!u&&c[s]>1&&c[0].replace(r,function(){for(f=1;f<arguments[s]-2;f++)void 0===arguments[f]&&(c[f]=void 0)}),c[s]>1&&c.index<n[s]&&a.apply(p,c.slice(1)),h=c[0][s],m=l,p[s]>=v));)g.lastIndex===c.index&&g.lastIndex++;return m===n[s]?!h&&g.test("")||p.push(""):p.push(n.slice(m)),p[s]>v?p.slice(0,v):p}}else"0".split(void 0,0)[s]&&(r=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(n,i){var o=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},r]})},function(e,t,n){"use strict";var r,i,o,a,s=n(43),u=n(3),c=n(24),l=n(60),h=n(0),f=n(5),p=n(14),d=n(49),m=n(50),v=n(73),g=n(104).set,y=n(105)(),_=n(106),b=n(136),w=n(137),E=u.TypeError,T=u.process,S=u.Promise,C="process"==l(T),I=function(){},O=i=_.f,A=!!function(){try{var e=S.resolve(1),t=(e.constructor={})[n(6)("species")]=function(e){e(I,I)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(I)instanceof t}catch(e){}}(),k=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},N=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,i=1==e._s,o=0;n.length>o;)!function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject,c=t.domain;try{a?(i||(2==e._h&&R(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?u(E("Promise-chain cycle")):(o=k(n))?o.call(n,s,u):s(n)):u(r)}catch(e){u(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&x(e)})}},x=function(e){g.call(u,function(){var t,n,r,i=e._v,o=P(e);if(o&&(t=b(function(){C?T.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=C||P(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},P=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!P(t.promise))return!1;return!0},R=function(e){g.call(u,function(){var t;C?T.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},L=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},D=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=k(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,c(D,r,1),c(L,r,1))}catch(e){L.call(r,e)}}):(n._v=e,n._s=1,N(n,!1))}catch(e){L.call({_w:n,_d:!1},e)}}};A||(S=function(e){d(this,S,"Promise","_h"),p(e),r.call(this);try{e(c(D,this,1),c(L,this,1))}catch(e){L.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(51)(S.prototype,{then:function(e,t){var n=O(v(this,S));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=C?T.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(D,e,1),this.reject=c(L,e,1)},_.f=O=function(e){return e===S||e===a?new o(e):i(e)}),h(h.G+h.W+h.F*!A,{Promise:S}),n(53)(S,"Promise"),n(48)("Promise"),a=n(29).Promise,h(h.S+h.F*!A,"Promise",{reject:function(e){var t=O(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(s||!A),"Promise",{resolve:function(e){return w(s&&this===a?S:this,e)}}),h(h.S+h.F*!(A&&n(70)(function(e){S.all(e).catch(I)})),"Promise",{all:function(e){var t=this,n=O(t),r=n.resolve,i=n.reject,o=b(function(){var n=[],o=0,a=1;m(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=O(t),r=n.reject,i=b(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){"use strict";var r=n(142),i=n(56);n(74)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(0),i=n(75),o=n(107),a=n(2),s=n(45),u=n(9),c=n(5),l=n(3).ArrayBuffer,h=n(73),f=o.ArrayBuffer,p=o.DataView,d=i.ABV&&l.isView,m=f.prototype.slice,v=i.VIEW;r(r.G+r.W+r.F*(l!==f),{ArrayBuffer:f}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return d&&d(e)||c(e)&&v in e}}),r(r.P+r.U+r.F*n(4)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(h(this,f))(u(i-r)),c=new p(this),l=new p(o),d=0;r<i;)l.setUint8(d++,c.getUint8(r++));return o}}),n(48)("ArrayBuffer")},function(e,t,n){var r=n(0);r(r.G+r.W+r.F*!n(75).ABV,{DataView:n(107).DataView})},function(e,t,n){n(36)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(36)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(36)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(36)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(36)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(36)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(36)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(36)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(36)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){var r=n(0),i=n(14),o=n(2),a=(n(3).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(4)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var r=i(e),u=o(n);return a?a(r,t,u):s.call(r,t,u)}})},function(e,t,n){var r=n(0),i=n(46),o=n(14),a=n(2),s=n(5),u=n(4),c=n(123),l=(n(3).Reflect||{}).construct,h=u(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),f=!u(function(){l(function(){})});r(r.S+r.F*(h||f),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(f&&!h)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),d=Function.apply.call(e,p,t);return s(d)?d:p}})},function(e,t,n){var r=n(8),i=n(0),o=n(2),a=n(30);i(i.S+i.F*n(4)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(0),i=n(21).f,o=n(2);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(0),i=n(2),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(95)(o,"Object",function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,n){function r(e,t){var n,s,l=arguments.length<3?e:arguments[2];return c(e)===l?e[t]:(n=i.f(e,t))?a(n,"value")?n.value:void 0!==n.get?n.get.call(l):void 0:u(s=o(e))?r(s,t,l):void 0}var i=n(21),o=n(22),a=n(16),s=n(0),u=n(5),c=n(2);s(s.S,"Reflect",{get:r})},function(e,t,n){var r=n(21),i=n(0),o=n(2);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},function(e,t,n){var r=n(0),i=n(22),o=n(2);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(0),i=n(2),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(144)})},function(e,t,n){var r=n(0),i=n(2),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,n){function r(e,t,n){var u,f,p=arguments.length<4?e:arguments[3],d=o.f(l(e),t);if(!d){if(h(f=a(e)))return r(f,t,n,p);d=c(0)}return s(d,"value")?!(!1===d.writable||!h(p)||(u=o.f(p,t)||c(0),u.value=n,i.f(p,t,u),0)):void 0!==d.set&&(d.set.call(p,n),!0)}var i=n(8),o=n(21),a=n(22),s=n(16),u=n(0),c=n(41),l=n(2),h=n(5);u(u.S,"Reflect",{set:r})},function(e,t,n){var r=n(0),i=n(87);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r=n(0),i=n(66)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(40)("includes")},function(e,t,n){"use strict";var r=n(0),i=n(145),o=n(10),a=n(9),s=n(14),u=n(101);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return s(e),t=a(r.length),n=u(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(40)("flatMap")},function(e,t,n){"use strict";var r=n(0),i=n(145),o=n(10),a=n(9),s=n(32),u=n(101);r(r.P,"Array",{flatten:function(){var e=arguments[0],t=o(this),n=a(t.length),r=u(t,0);return i(r,t,t,n,0,void 0===e?1:s(e)),r}}),n(40)("flatten")},function(e,t,n){"use strict";var r=n(0),i=n(93)(!0);r(r.P,"String",{at:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(0),i=n(146);r(r.P,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var r=n(0),i=n(146);r(r.P,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";n(54)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(54)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";var r=n(0),i=n(31),o=n(9),a=n(69),s=n(71),u=RegExp.prototype,c=function(e,t){this._r=e,this._s=t};n(95)(c,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function(e){if(i(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in u?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(e.lastIndex),new c(r,t)}})},function(e,t,n){n(83)("asyncIterator")},function(e,t,n){n(83)("observable")},function(e,t,n){var r=n(0),i=n(144),o=n(20),a=n(21),s=n(99);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),u=a.f,c=i(r),l={},h=0;c.length>h;)void 0!==(n=u(r,t=c[h++]))&&s(l,t,n);return l}})},function(e,t,n){var r=n(0),i=n(147)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){var r=n(0),i=n(147)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(14),a=n(8);n(7)&&r(r.P+n(76),"Object",{__defineGetter__:function(e,t){a.f(i(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(14),a=n(8);n(7)&&r(r.P+n(76),"Object",{__defineSetter__:function(e,t){a.f(i(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(30),a=n(22),s=n(21).f;n(7)&&r(r.P+n(76),"Object",{__lookupGetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.get}while(n=a(n))}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(30),a=n(22),s=n(21).f;n(7)&&r(r.P+n(76),"Object",{__lookupSetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.set}while(n=a(n))}})},function(e,t,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(148)("Map")})},function(e,t,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(148)("Set")})},function(e,t,n){n(77)("Map")},function(e,t,n){n(77)("Set")},function(e,t,n){n(77)("WeakMap")},function(e,t,n){n(77)("WeakSet")},function(e,t,n){n(78)("Map")},function(e,t,n){n(78)("Set")},function(e,t,n){n(78)("WeakMap")},function(e,t,n){n(78)("WeakSet")},function(e,t,n){var r=n(0);r(r.G,{global:n(3)})},function(e,t,n){var r=n(0);r(r.S,"System",{global:n(3)})},function(e,t,n){var r=n(0),i=n(25);r(r.S,"Error",{isError:function(e){return"Error"===i(e)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var r=n(0),i=180/Math.PI;r(r.S,"Math",{degrees:function(e){return e*i}})},function(e,t,n){var r=n(0),i=n(150),o=n(130);r(r.S,"Math",{fscale:function(e,t,n,r,a){return o(i(e,t,n,r,a))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{iaddh:function(e,t,n,r){var i=e>>>0,o=t>>>0,a=n>>>0;return o+(r>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},function(e,t,n){var r=n(0);r(r.S,"Math",{isubh:function(e,t,n,r){var i=e>>>0,o=t>>>0,a=n>>>0;return o-(r>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},function(e,t,n){var r=n(0);r(r.S,"Math",{imulh:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r,a=n>>16,s=r>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>16)+((i*s>>>0)+(65535&u)>>16)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var r=n(0),i=Math.PI/180;r(r.S,"Math",{radians:function(e){return e*i}})},function(e,t,n){var r=n(0);r(r.S,"Math",{scale:n(150)})},function(e,t,n){var r=n(0);r(r.S,"Math",{umulh:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r,a=n>>>16,s=r>>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>>16)+((i*s>>>0)+(65535&u)>>>16)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,n){"use strict";var r=n(0),i=n(29),o=n(3),a=n(73),s=n(137);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(0),i=n(106),o=n(136);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var r=n(37),i=n(2),o=r.key,a=r.set;r.exp({defineMetadata:function(e,t,n,r){a(e,t,i(n),o(r))}})},function(e,t,n){var r=n(37),i=n(2),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var u=s.get(t);return u.delete(n),!!u.size||s.delete(t)}})},function(e,t,n){var r=n(37),i=n(2),o=n(22),a=r.has,s=r.get,u=r.key,c=function(e,t,n){if(a(e,t,n))return s(e,t,n);var r=o(t);return null!==r?c(e,r,n):void 0};r.exp({getMetadata:function(e,t){return c(e,i(t),arguments.length<3?void 0:u(arguments[2]))}})},function(e,t,n){var r=n(140),i=n(149),o=n(37),a=n(2),s=n(22),u=o.keys,c=o.key,l=function(e,t){var n=u(e,t),o=s(e);if(null===o)return n;var a=l(o,t);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(e){return l(a(e),arguments.length<2?void 0:c(arguments[1]))}})},function(e,t,n){var r=n(37),i=n(2),o=r.get,a=r.key;r.exp({getOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var r=n(37),i=n(2),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(e){return o(i(e),arguments.length<2?void 0:a(arguments[1]))}})},function(e,t,n){var r=n(37),i=n(2),o=n(22),a=r.has,s=r.key,u=function(e,t,n){if(a(e,t,n))return!0;var r=o(t);return null!==r&&u(e,r,n)};r.exp({hasMetadata:function(e,t){return u(e,i(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){var r=n(37),i=n(2),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var r=n(37),i=n(2),o=n(14),a=r.key,s=r.set;r.exp({metadata:function(e,t){return function(n,r){s(e,t,(void 0!==r?i:o)(n),a(r))}}})},function(e,t,n){var r=n(0),i=n(105)(),o=n(3).process,a="process"==n(25)(o);r(r.G,{asap:function(e){var t=a&&o.domain;i(t?t.bind(e):e)}})},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(29),a=n(105)(),s=n(6)("observable"),u=n(14),c=n(2),l=n(49),h=n(51),f=n(17),p=n(50),d=p.RETURN,m=function(e){return null==e?void 0:u(e)},v=function(e){var t=e._c;t&&(e._c=void 0,t())},g=function(e){return void 0===e._o},y=function(e){g(e)||(e._o=void 0,v(e))},_=function(e,t){c(e),this._c=void 0,this._o=e,e=new b(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(t){return void e.error(t)}g(this)&&v(this)};_.prototype=h({},{unsubscribe:function(){y(this)}});var b=function(e){this._s=e};b.prototype=h({},{next:function(e){var t=this._s;if(!g(t)){var n=t._o;try{var r=m(n.next);if(r)return r.call(n,e)}catch(e){try{y(t)}finally{throw e}}}},error:function(e){var t=this._s;if(g(t))throw e;var n=t._o;t._o=void 0;try{var r=m(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{v(t)}finally{throw e}}return v(t),e},complete:function(e){var t=this._s;if(!g(t)){var n=t._o;t._o=void 0;try{var r=m(n.complete);e=r?r.call(n,e):void 0}catch(e){try{v(t)}finally{throw e}}return v(t),e}}});var w=function(e){l(this,w,"Observable","_f")._f=u(e)};h(w.prototype,{subscribe:function(e){return new _(e,this._f)},forEach:function(e){var t=this;return new(o.Promise||i.Promise)(function(n,r){u(e);var i=t.subscribe({next:function(t){try{return e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n})})}}),h(w,{from:function(e){var t="function"==typeof this?this:w,n=m(c(e)[s]);if(n){var r=c(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return a(function(){if(!n){try{if(p(e,!1,function(e){if(t.next(e),n)return d})===d)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:w)(function(e){var t=!1;return a(function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}}),function(){t=!0}})}}),f(w.prototype,s,function(){return this}),r(r.G,{Observable:w}),n(48)("Observable")},function(e,t,n){var r=n(3),i=n(0),o=r.navigator,a=[].slice,s=!!o&&/MSIE .\./.test(o.userAgent),u=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(e,t,n){var r=n(0),i=n(104);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){for(var r=n(103),i=n(44),o=n(18),a=n(3),s=n(17),u=n(55),c=n(6),l=c("iterator"),h=c("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),m=0;m<d.length;m++){var v,g=d[m],y=p[g],_=a[g],b=_&&_.prototype;if(b&&(b[l]||s(b,l,f),b[h]||s(b,h,g),u[g]=f,y))for(v in r)b[v]||o(b,v,r[v],!0)}},function(e,t,n){(function(t){!function(t){"use strict";function n(e,t,n,r){var o=t&&t.prototype instanceof i?t:i,a=Object.create(o.prototype),s=new p(r||[]);return a._invoke=c(e,n,s),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function n(t,i,o,a){var s=r(e[t],e,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(e){n("next",e,o,a)},function(e){n("throw",e,o,a)}):Promise.resolve(c).then(function(e){u.value=e,o(u)},a)}a(s.arg)}function i(e,t){function r(){return new Promise(function(r,i){n(e,t,r,i)})}return o=o?o.then(r,r):r()}"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n));var o;this._invoke=i}function c(e,t,n){var i=C;return function(o,a){if(i===O)throw new Error("Generator is already running");if(i===A){if("throw"===o)throw a;return m()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=l(s,n);if(u){if(u===k)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===C)throw i=A,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=O;var c=r(e,t,n);if("normal"===c.type){if(i=n.done?A:I,c.arg===k)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=A,n.method="throw",n.arg=c.arg)}}}function l(e,t){var n=e.iterator[t.method];if(n===v){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=v,l(e,t),"throw"===t.method))return k;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var i=r(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,k;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,k):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,k)}function h(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(h,this),this.reset(!0)}function d(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(y.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=v,t.done=!0,t};return r.next=r}}return{next:m}}function m(){return{value:v,done:!0}}var v,g=Object.prototype,y=g.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},b=_.iterator||"@@iterator",w=_.asyncIterator||"@@asyncIterator",E=_.toStringTag||"@@toStringTag",T="object"==typeof e,S=t.regeneratorRuntime;if(S)return void(T&&(e.exports=S));S=t.regeneratorRuntime=T?e.exports:{},S.wrap=n;var C="suspendedStart",I="suspendedYield",O="executing",A="completed",k={},N={};N[b]=function(){return this};var x=Object.getPrototypeOf,P=x&&x(x(d([])));P&&P!==g&&y.call(P,b)&&(N=P);var R=a.prototype=i.prototype=Object.create(N);o.prototype=R.constructor=a,a.constructor=o,a[E]=o.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,E in e||(e[E]="GeneratorFunction")),e.prototype=Object.create(R),e},S.awrap=function(e){return{__await:e}},s(u.prototype),u.prototype[w]=function(){return this},S.AsyncIterator=u,S.async=function(e,t,r,i){var o=new u(n(e,t,r,i));return S.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},s(R),R[E]="Generator",R[b]=function(){return this},R.toString=function(){return"[object Generator]"},S.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},S.values=d,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(f),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=v),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=y.call(i,"catchLoc"),s=y.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,k):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),k},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),f(n),k}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;f(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:d(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=v),k}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,n(52))},function(e,t,n){n(375),e.exports=n(29).RegExp.escape},function(e,t,n){var r=n(0),i=n(376)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},function(e,t){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return g.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(g.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(g.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(g.arrayBuffer&&g.blob&&_(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!b(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function m(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function v(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var g={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(g.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=function(e){return e&&DataView.prototype.isPrototypeOf(e)},b=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},g.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},h.call(p.prototype),h.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];v.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=p,e.Response=v,e.fetch=function(e,t){return new Promise(function(n,r){var i=new p(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new v(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&g.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n.n(r),o=n(153),a=n.n(o),s=n(12),u=n(416),c=(n.n(u),n(421)),l=function(e){a.a.render(i.a.createElement(u.AppContainer,null,i.a.createElement(s.a,null,i.a.createElement(c.a,null))),document.getElementById("root"))};l(c.a),function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(l,"render","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/index.jsx")}()},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function i(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||b}function o(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||b}function a(){}function s(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||b}function u(e,t,n,r,i,o,a){return{$$typeof:I,type:e,key:t,ref:n,props:a,_owner:o}}function c(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function l(e,t,n,r){if(x.length){var i=x.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function h(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>x.length&&x.push(e)}function f(e,t,n,i){var o=typeof e;if("undefined"!==o&&"boolean"!==o||(e=null),null===e||"string"===o||"number"===o||"object"===o&&e.$$typeof===k)return n(i,e,""===t?"."+p(e,0):t),1;var a=0;if(t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){o=e[s];var u=t+p(o,s);a+=f(o,u,n,i)}else if("function"==typeof(u=A&&e[A]||e["@@iterator"]))for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=t+p(o,s++),a+=f(o,u,n,i);else"object"===o&&(n=""+e,r("31","[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}function p(e,t){return"object"==typeof e&&null!==e&&null!=e.key?c(e.key):t.toString(36)}function d(e,t){e.func.call(e.context,t,e.count++)}function m(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?v(e,r,n,_.thatReturnsArgument):null!=e&&(u.isValidElement(e)&&(e=u.cloneAndReplaceKey(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(N,"$&/")+"/")+n)),r.push(e))}function v(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(N,"$&/")+"/"),t=l(t,o,r,i),null==e||f(e,"",m,t),h(t)}var g=n(151),y=n(152);n(108);var _=n(79),b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};i.prototype.isReactComponent={},i.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&r("85"),this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},a.prototype=i.prototype;var w=o.prototype=new a;w.constructor=o,g(w,i.prototype),w.isPureReactComponent=!0;var E=s.prototype=new a;E.constructor=s,g(E,i.prototype),E.unstable_isAsyncReactComponent=!0,E.render=function(){return this.props.children};var T={Component:i,PureComponent:o,AsyncComponent:s},S={current:null},C=Object.prototype.hasOwnProperty,I="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,O={key:!0,ref:!0,__self:!0,__source:!0};u.createElement=function(e,t,n){var r,i={},o=null,a=null,s=null,c=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),s=void 0===t.__self?null:t.__self,c=void 0===t.__source?null:t.__source,t)C.call(t,r)&&!O.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var h=Array(l),f=0;f<l;f++)h[f]=arguments[f+2];i.children=h}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return u(e,o,a,s,c,S.current,i)},u.createFactory=function(e){var t=u.createElement.bind(null,e);return t.type=e,t},u.cloneAndReplaceKey=function(e,t){return u(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},u.cloneElement=function(e,t,n){var r=g({},e.props),i=e.key,o=e.ref,a=e._self,s=e._source,c=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,c=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(h in t)C.call(t,h)&&!O.hasOwnProperty(h)&&(r[h]=void 0===t[h]&&void 0!==l?l[h]:t[h])}var h=arguments.length-2;if(1===h)r.children=n;else if(1<h){l=Array(h);for(var f=0;f<h;f++)l[f]=arguments[f+2];r.children=l}return u(e.type,i,o,a,s,c,r)},u.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===I};var A="function"==typeof Symbol&&Symbol.iterator,k="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,N=/\/+/g,x=[],P={forEach:function(e,t,n){if(null==e)return e;t=l(null,null,t,n),null==e||f(e,"",d,t),h(t)},map:function(e,t,n){if(null==e)return e;var r=[];return v(e,r,null,t,n),r},count:function(e){return null==e?0:f(e,"",_.thatReturnsNull,null)},toArray:function(e){var t=[];return v(e,t,null,_.thatReturnsArgument),t}};e.exports={Children:{map:P.map,forEach:P.forEach,count:P.count,toArray:P.toArray,only:function(e){return u.isValidElement(e)||r("143"),e}},Component:T.Component,PureComponent:T.PureComponent,unstable_AsyncComponent:T.AsyncComponent,createElement:u.createElement,cloneElement:u.cloneElement,isValidElement:u.isValidElement,createFactory:u.createFactory,version:"16.0.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:S,assign:g}}},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function i(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function o(){if(At)for(var e in kt){var t=kt[e],n=At.indexOf(e);if(-1<n||r("96",e),!Nt.plugins[n]){t.extractEvents||r("97",e),Nt.plugins[n]=t,n=t.eventTypes;for(var i in n){var o=void 0,s=n[i],u=t,c=i;Nt.eventNameDispatchConfigs.hasOwnProperty(c)&&r("99",c),Nt.eventNameDispatchConfigs[c]=s;var l=s.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&a(l[o],u,c);o=!0}else s.registrationName?(a(s.registrationName,u,c),o=!0):o=!1;o||r("98",i,e)}}}}function a(e,t,n){Nt.registrationNameModules[e]&&r("100",e),Nt.registrationNameModules[e]=t,Nt.registrationNameDependencies[e]=t.eventTypes[n].dependencies}function s(e,t){return(e&t)===t}function u(e){for(var t;t=e._renderedComponent;)e=t;return e}function c(e,t){e=u(e),e._hostNode=t,t[zt]=e}function l(e,t){if(!(e._flags&Ht.hasCachedChildNodes)){var n=e._renderedChildren;t=t.firstChild;var i;e:for(i in n)if(n.hasOwnProperty(i)){var o=n[i],a=u(o)._domID;if(0!==a){for(;null!==t;t=t.nextSibling){var s=t,l=a;if(s.nodeType===qt&&s.getAttribute(Bt)===""+l||s.nodeType===Vt&&s.nodeValue===" react-text: "+l+" "||s.nodeType===Vt&&s.nodeValue===" react-empty: "+l+" "){c(o,t);continue e}}r("32",a)}}e._flags|=Ht.hasCachedChildNodes}}function h(e){if(e[zt])return e[zt];for(var t=[];!e[zt];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}var n=e[zt];if(n.tag===Ut||n.tag===Ft)return n;for(;e&&(n=e[zt]);e=t.pop()){var r=n;t.length&&l(n,e)}return r}function f(e){if("function"==typeof e.getName)return e.getName();if("number"==typeof e.tag){if("string"==typeof(e=e.type))return e;if("function"==typeof e)return e.displayName||e.name}return null}function p(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if((t.effectTag&nn)!==tn)return 1;for(;t.return;)if(t=t.return,(t.effectTag&nn)!==tn)return 1}return t.tag===$t?2:3}function d(e){2!==p(e)&&r("188")}function m(e){var t=e.alternate;if(!t)return t=p(e),3===t&&r("188"),1===t?null:e;for(var n=e,i=t;;){var o=n.return,a=o?o.alternate:null;if(!o||!a)break;if(o.child===a.child){for(var s=o.child;s;){if(s===n)return d(o),e;if(s===i)return d(o),t;s=s.sibling}r("188")}if(n.return!==i.return)n=o,i=a;else{s=!1;for(var u=o.child;u;){if(u===n){s=!0,n=o,i=a;break}if(u===i){s=!0,i=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,i=o;break}if(u===i){s=!0,i=a,n=o;break}u=u.sibling}s||r("189")}}n.alternate!==i&&r("190")}return n.tag!==$t&&r("188"),n.stateNode.current===n?e:t}function v(e,t,n,r,i,o,a,s,u){on._hasCaughtError=!1,on._caughtError=null;var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){on._caughtError=e,on._hasCaughtError=!0}}function g(){if(on._hasRethrowError){var e=on._rethrowError;throw on._rethrowError=null,on._hasRethrowError=!1,e}}function y(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=sn.getNodeFromInstance(r),an.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function _(e){if(e=un.getInstanceFromNode(e))if("number"==typeof e.tag){cn&&"function"==typeof cn.restoreControlledState||r("194");var t=un.getFiberCurrentPropsFromNode(e.stateNode);cn.restoreControlledState(e.stateNode,e.type,t)}else"function"!=typeof e.restoreControlledState&&r("195"),e.restoreControlledState()}function b(e,t,n,r,i,o){return e(t,n,r,i,o)}function w(e,t){return e(t)}function E(e,t){return w(e,t)}function T(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===mn?e.parentNode:e}function S(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n=t;if("number"==typeof n.tag){for(;n.return;)n=n.return;n=n.tag!==vn?null:n.stateNode.containerInfo}else{for(;n._hostParent;)n=n._hostParent;n=Kt.getNodeFromInstance(n).parentNode}if(!n)break;e.ancestors.push(t),t=Kt.getClosestInstanceFromNode(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],yn._handleTopLevel(e.topLevelType,t,e.nativeEvent,T(e.nativeEvent))}function C(e,t){return null==t&&r("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function I(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function O(e,t){e&&(un.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))}function A(e){return O(e,!0)}function k(e){return O(e,!1)}function N(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||"button"!==t&&"input"!==t&&"select"!==t&&"textarea"!==t);default:return!1}}function x(e,t){if(!vt.canUseDOM||t&&!("addEventListener"in document))return!1;t="on"+e;var n=t in document;return n||(n=document.createElement("div"),n.setAttribute(t,"return;"),n="function"==typeof n[t]),!n&&It&&"wheel"===e&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}function P(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function R(e){if(Tn[e])return Tn[e];if(!En[e])return e;var t,n=En[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sn)return Tn[e]=n[t];return""}function L(e){return Object.prototype.hasOwnProperty.call(e,An)||(e[An]=On++,In[e[An]]={}),In[e[An]]}function D(e){return!!qn.hasOwnProperty(e)||!Fn.hasOwnProperty(e)&&(Un.test(e)?qn[e]=!0:(Fn[e]=!0,!1))}function M(){return null}function j(e){var t="";return mt.Children.forEach(e,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)}),t}function U(e,t,n){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r)}else{for(n=""+n,t=null,r=0;r<e.length;r++){if(e[r].value===n)return void(e[r].selected=!0);null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function F(e,t){t&&($n[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&r("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||r("61")),null!=t.style&&"object"!=typeof t.style&&r("62",""))}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"function"==typeof n.get&&"function"==typeof n.set)return Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=""+e,n.set.call(this,e)}}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}function B(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function H(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===rr)return void(n.nodeValue=t)}e.textContent=t}function W(e,t){sr(t,e.nodeType===or||e.nodeType===ar?e:e.ownerDocument)}function z(e,t){return e!==Pr&&e!==xr||t!==Pr&&t!==xr?e===Nr&&t!==Nr?-255:e!==Nr&&t===Nr?255:e-t:0}function G(){return{first:null,last:null,hasForceUpdate:!1,callbackList:null}}function K(e,t,n,r){null!==n?n.next=t:(t.next=e.first,e.first=t),null!==r?t.next=r:e.last=t}function Q(e,t){t=t.priorityLevel;var n=null;if(null!==e.last&&0>=z(e.last.priorityLevel,t))n=e.last;else for(e=e.first;null!==e&&0>=z(e.priorityLevel,t);)n=e,e=e.next;return n}function Y(e,t){var n=e.alternate,r=e.updateQueue;null===r&&(r=e.updateQueue=G()),null!==n?null===(e=n.updateQueue)&&(e=n.updateQueue=G()):e=null,Dr=r,Mr=e!==r?e:null;var i=Dr;n=Mr;var o=Q(i,t),a=null!==o?o.next:i.first;return null===n?(K(i,t,o,a),null):(r=Q(n,t),e=null!==r?r.next:n.first,K(i,t,o,a),a===e&&null!==a||o===r&&null!==o?(null===r&&(n.first=t),null===e&&(n.last=null),null):(t={priorityLevel:t.priorityLevel,partialState:t.partialState,callback:t.callback,isReplace:t.isReplace,isForced:t.isForced,isTopLevelUnmount:t.isTopLevelUnmount,next:null},K(n,t,r,e),t))}function X(e,t,n,r){return e=e.partialState,"function"==typeof e?e.call(t,n,r):e}function J(e,t,n){e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n}function $(e){return e.tag===Br&&null!=e.type.childContextTypes}function Z(e,t){var n=e.stateNode,i=e.type.childContextTypes;if("function"!=typeof n.getChildContext)return t;n=n.getChildContext();for(var o in n)o in i||r("108",f(e)||"Unknown",o);return gt({},t,n)}function ee(e,t,n){this.tag=e,this.key=t,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=n,this.effectTag=ci,this.lastEffect=this.firstEffect=this.nextEffect=null,this.pendingWorkPriority=si,this.alternate=null}function te(e,t,n){var i=void 0;return"function"==typeof e?(i=e.prototype&&e.prototype.isReactComponent?new ee(Zr,t,n):new ee($r,t,n),i.type=e):"string"==typeof e?(i=new ee(ti,t,n),i.type=e):"object"==typeof e&&null!==e&&"number"==typeof e.tag?i=e:r("130",null==e?e:typeof e,""),i}function ne(e){return null===e||void 0===e?null:(e=qi&&e[qi]||e["@@iterator"],"function"==typeof e?e:null)}function re(e,t){var n=t.ref;if(null!==n&&"function"!=typeof n){if(t._owner){t=t._owner;var i=void 0;t&&("number"==typeof t.tag?(t.tag!==xi&&r("110"),i=t.stateNode):i=t.getPublicInstance()),i||r("147",n);var o=""+n;return null!==e&&null!==e.ref&&e.ref._stringRef===o?e.ref:(e=function(e){var t=i.refs===bt?i.refs={}:i.refs;null===e?delete t[o]:t[o]=e},e._stringRef=o,e)}"string"!=typeof n&&r("148"),t._owner||r("149",n)}return n}function ie(e,t){"textarea"!==e.type&&r("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function oe(e,t){function n(n,r){if(t){if(!e){if(null===r.alternate)return;r=r.alternate}var i=n.lastEffect;null!==i?(i.nextEffect=r,n.lastEffect=r):n.firstEffect=n.lastEffect=r,r.nextEffect=null,r.effectTag=Fi}}function i(e,r){if(!t)return null;for(;null!==r;)n(e,r),r=r.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(t,n){return e?(t=Ei(t,n),t.index=0,t.sibling=null,t):(t.pendingWorkPriority=n,t.effectTag=ji,t.index=0,t.sibling=null,t)}function s(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index,r<n?(e.effectTag=Ui,n):r):(e.effectTag=Ui,n):n}function u(e){return t&&null===e.alternate&&(e.effectTag=Ui),e}function c(e,t,n,r){return null===t||t.tag!==Pi?(n=Ci(n,e.internalContextTag,r),n.return=e,n):(t=a(t,r),t.pendingProps=n,t.return=e,t)}function l(e,t,n,r){return null===t||t.type!==n.type?(r=Ti(n,e.internalContextTag,r),r.ref=re(t,n),r.return=e,r):(r=a(t,r),r.ref=re(t,n),r.pendingProps=n.props,r.return=e,r)}function h(e,t,n,r){return null===t||t.tag!==Li?(n=Ii(n,e.internalContextTag,r),n.return=e,n):(t=a(t,r),t.pendingProps=n,t.return=e,t)}function f(e,t,n,r){return null===t||t.tag!==Di?(t=Oi(n,e.internalContextTag,r),t.type=n.value,t.return=e,t):(t=a(t,r),t.type=n.value,t.return=e,t)}function p(e,t,n,r){return null===t||t.tag!==Ri||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(n=Ai(n,e.internalContextTag,r),n.return=e,n):(t=a(t,r),t.pendingProps=n.children||[],t.return=e,t)}function d(e,t,n,r){return null===t||t.tag!==Mi?(n=Si(n,e.internalContextTag,r),n.return=e,n):(t=a(t,r),t.pendingProps=n,t.return=e,t)}function m(e,t,n){if("string"==typeof t||"number"==typeof t)return t=Ci(""+t,e.internalContextTag,n),t.return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Vi:return n=Ti(t,e.internalContextTag,n),n.ref=re(null,t),n.return=e,n;case _i:return t=Ii(t,e.internalContextTag,n),t.return=e,t;case bi:return n=Oi(t,e.internalContextTag,n),n.type=t.value,n.return=e,n;case wi:return t=Ai(t,e.internalContextTag,n),t.return=e,t}if(ki(t)||ne(t))return t=Si(t,e.internalContextTag,n),t.return=e,t;ie(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Vi:return n.key===i?l(e,t,n,r):null;case _i:return n.key===i?h(e,t,n,r):null;case bi:return null===i?f(e,t,n,r):null;case wi:return n.key===i?p(e,t,n,r):null}if(ki(n)||ne(n))return null!==i?null:d(e,t,n,r);ie(e,n)}return null}function g(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return e=e.get(n)||null,c(t,e,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Vi:return e=e.get(null===r.key?n:r.key)||null,l(t,e,r,i);case _i:return e=e.get(null===r.key?n:r.key)||null,h(t,e,r,i);case bi:return e=e.get(n)||null,f(t,e,r,i);case wi:return e=e.get(null===r.key?n:r.key)||null,p(t,e,r,i)}if(ki(r)||ne(r))return e=e.get(n)||null,d(t,e,r,i);ie(t,r)}return null}function y(e,r,a,u){for(var c=null,l=null,h=r,f=r=0,p=null;null!==h&&f<a.length;f++){h.index>f?(p=h,h=null):p=h.sibling;var d=v(e,h,a[f],u);if(null===d){null===h&&(h=p);break}t&&h&&null===d.alternate&&n(e,h),r=s(d,r,f),null===l?c=d:l.sibling=d,l=d,h=p}if(f===a.length)return i(e,h),c;if(null===h){for(;f<a.length;f++)(h=m(e,a[f],u))&&(r=s(h,r,f),null===l?c=h:l.sibling=h,l=h);return c}for(h=o(e,h);f<a.length;f++)(p=g(h,e,f,a[f],u))&&(t&&null!==p.alternate&&h.delete(null===p.key?f:p.key),r=s(p,r,f),null===l?c=p:l.sibling=p,l=p);return t&&h.forEach(function(t){return n(e,t)}),c}function _(e,a,u,c){var l=ne(u);"function"!=typeof l&&r("150"),null==(u=l.call(u))&&r("151");for(var h=l=null,f=a,p=a=0,d=null,y=u.next();null!==f&&!y.done;p++,y=u.next()){f.index>p?(d=f,f=null):d=f.sibling;var _=v(e,f,y.value,c);if(null===_){f||(f=d);break}t&&f&&null===_.alternate&&n(e,f),a=s(_,a,p),null===h?l=_:h.sibling=_,h=_,f=d}if(y.done)return i(e,f),l;if(null===f){for(;!y.done;p++,y=u.next())null!==(y=m(e,y.value,c))&&(a=s(y,a,p),null===h?l=y:h.sibling=y,h=y);return l}for(f=o(e,f);!y.done;p++,y=u.next())null!==(y=g(f,e,p,y.value,c))&&(t&&null!==y.alternate&&f.delete(null===y.key?p:y.key),a=s(y,a,p),null===h?l=y:h.sibling=y,h=y);return t&&f.forEach(function(t){return n(e,t)}),l}return function(e,t,o,s){var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case Vi:e:{var l=o.key;for(c=t;null!==c;){if(c.key===l){if(c.type===o.type){i(e,c.sibling),t=a(c,s),t.ref=re(c,o),t.pendingProps=o.props,t.return=e,e=t;break e}i(e,c);break}n(e,c),c=c.sibling}s=Ti(o,e.internalContextTag,s),s.ref=re(t,o),s.return=e,e=s}return u(e);case _i:e:{for(c=o.key;null!==t;){if(t.key===c){if(t.tag===Li){i(e,t.sibling),t=a(t,s),t.pendingProps=o,t.return=e,e=t;break e}i(e,t);break}n(e,t),t=t.sibling}o=Ii(o,e.internalContextTag,s),o.return=e,e=o}return u(e);case bi:e:{if(null!==t){if(t.tag===Di){i(e,t.sibling),t=a(t,s),t.type=o.value,t.return=e,e=t;break e}i(e,t)}t=Oi(o,e.internalContextTag,s),t.type=o.value,t.return=e,e=t}return u(e);case wi:e:{for(c=o.key;null!==t;){if(t.key===c){if(t.tag===Ri&&t.stateNode.containerInfo===o.containerInfo&&t.stateNode.implementation===o.implementation){i(e,t.sibling),t=a(t,s),t.pendingProps=o.children||[],t.return=e,e=t;break e}i(e,t);break}n(e,t),t=t.sibling}o=Ai(o,e.internalContextTag,s),o.return=e,e=o}return u(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==t&&t.tag===Pi?(i(e,t.sibling),t=a(t,s),t.pendingProps=o,t.return=e,e=t):(i(e,t),o=Ci(o,e.internalContextTag,s),o.return=e,e=o),u(e);if(ki(o))return y(e,t,o,s);if(ne(o))return _(e,t,o,s);if(c&&ie(e,o),void 0===o)switch(e.tag){case xi:case Ni:o=e.type,r("152",o.displayName||o.name||"Component")}return i(e,t)}}function ae(e,t,n,i){function o(e,t){t.updater=a,e.stateNode=t,Qt.set(t,e)}var a={isMounted:ro,enqueueSetState:function(n,r,i){n=Qt.get(n);var o=t(n,!1);$i(n,r,void 0===i?null:i,o),e(n,o)},enqueueReplaceState:function(n,r,i){n=Qt.get(n);var o=t(n,!1);Zi(n,r,void 0===i?null:i,o),e(n,o)},enqueueForceUpdate:function(n,r){n=Qt.get(n);var i=t(n,!1);eo(n,void 0===r?null:r,i),e(n,i)}};return{adoptClassInstance:o,constructClassInstance:function(e,t){var n=e.type,r=Xi(e),i=Ji(e),a=i?Yi(e,r):bt;return t=new n(t,a),o(e,t),i&&Qi(e,r,a),t},mountClassInstance:function(e,t){var n=e.alternate,i=e.stateNode,o=i.state||null,s=e.pendingProps;s||r("158");var u=Xi(e);i.props=s,i.state=o,i.refs=bt,i.context=Yi(e,u),Or.enableAsyncSubtreeAPI&&null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent&&(e.internalContextTag|=Ki),"function"==typeof i.componentWillMount&&(u=i.state,i.componentWillMount(),u!==i.state&&a.enqueueReplaceState(i,i.state,null),null!==(u=e.updateQueue)&&(i.state=to(n,e,u,i,o,s,t))),"function"==typeof i.componentDidMount&&(e.effectTag|=Gi)},updateClassInstance:function(e,t,o){var s=t.stateNode;s.props=t.memoizedProps,s.state=t.memoizedState;var u=t.memoizedProps,c=t.pendingProps;c||null==(c=u)&&r("159");var l=s.context,h=Xi(t);if(h=Yi(t,h),"function"!=typeof s.componentWillReceiveProps||u===c&&l===h||(l=s.state,s.componentWillReceiveProps(c,h),s.state!==l&&a.enqueueReplaceState(s,s.state,null)),l=t.memoizedState,o=null!==t.updateQueue?to(e,t,t.updateQueue,s,l,c,o):l,!(u!==c||l!==o||no()||null!==t.updateQueue&&t.updateQueue.hasForceUpdate))return"function"!=typeof s.componentDidUpdate||u===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=Gi),!1;var f=c;if(null===u||null!==t.updateQueue&&t.updateQueue.hasForceUpdate)f=!0;else{var p=t.stateNode,d=t.type;f="function"==typeof p.shouldComponentUpdate?p.shouldComponentUpdate(f,o,h):!(d.prototype&&d.prototype.isPureReactComponent&&wt(u,f)&&wt(l,o))}return f?("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(c,o,h),"function"==typeof s.componentDidUpdate&&(t.effectTag|=Gi)):("function"!=typeof s.componentDidUpdate||u===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=Gi),n(t,c),i(t,o)),s.props=c,s.state=o,s.context=h,f}}}function se(e,t,n,i,o){function a(e,t,n){s(e,t,n,t.pendingWorkPriority)}function s(e,t,n,r){t.child=null===e?io(t,t.child,n,r):e.child===t.child?oo(t,t.child,n,r):ao(t,t.child,n,r)}function u(e,t){var n=t.ref;null===n||e&&e.ref===n||(t.effectTag|=Ro)}function c(e,t,n,r){if(u(e,t),!n)return r&&mo(t,!1),h(e,t);n=t.stateNode,Lo.current=t;var i=n.render();return t.effectTag|=ko,a(e,t,i),t.memoizedState=n.state,t.memoizedProps=n.props,r&&mo(t,!0),t.child}function l(e){var t=e.stateNode;t.pendingContext?po(e,t.pendingContext,t.pendingContext!==t.context):t.context&&po(e,t.context,!1),g(e,t.containerInfo)}function h(e,t){return so(e,t),t.child}function f(e,t){switch(t.tag){case _o:l(t);break;case yo:fo(t);break;case Eo:g(t,t.stateNode.containerInfo)}return null}var p=e.shouldSetTextContent,d=e.useSyncScheduling,m=e.shouldDeprioritizeSubtree,v=t.pushHostContext,g=t.pushHostContainer,y=n.enterHydrationState,_=n.resetHydrationState,b=n.tryToClaimNextHydratableInstance;e=ae(i,o,function(e,t){e.memoizedProps=t},function(e,t){e.memoizedState=t});var w=e.adoptClassInstance,E=e.constructClassInstance,T=e.mountClassInstance,S=e.updateClassInstance;return{beginWork:function(e,t,n){if(t.pendingWorkPriority===Oo||t.pendingWorkPriority>n)return f(e,t);switch(t.tag){case vo:null!==e&&r("155");var i=t.type,o=t.pendingProps,s=lo(t);return s=co(t,s),i=i(o,s),t.effectTag|=ko,"object"==typeof i&&null!==i&&"function"==typeof i.render?(t.tag=yo,o=fo(t),w(t,i),T(t,n),t=c(e,t,!0,o)):(t.tag=go,a(e,t,i),t.memoizedProps=o,t=t.child),t;case go:e:{if(o=t.type,n=t.pendingProps,i=t.memoizedProps,ho())null===n&&(n=i);else if(null===n||i===n){t=h(e,t);break e}i=lo(t),i=co(t,i),o=o(n,i),t.effectTag|=ko,a(e,t,o),t.memoizedProps=n,t=t.child}return t;case yo:return o=fo(t),i=void 0,null===e?t.stateNode?r("153"):(E(t,t.pendingProps),T(t,n),i=!0):i=S(e,t,n),c(e,t,i,o);case _o:return l(t),i=t.updateQueue,null!==i?(o=t.memoizedState,i=uo(e,t,i,null,o,null,n),o===i?(_(),t=h(e,t)):(o=i.element,null!==e&&null!==e.child||!y(t)?(_(),a(e,t,o)):(t.effectTag|=No,t.child=io(t,t.child,o,n)),t.memoizedState=i,t=t.child)):(_(),t=h(e,t)),t;case bo:v(t),null===e&&b(t),o=t.type;var C=t.memoizedProps;return i=t.pendingProps,null===i&&null===(i=C)&&r("154"),s=null!==e?e.memoizedProps:null,ho()||null!==i&&C!==i?(C=i.children,p(o,i)?C=null:s&&p(o,s)&&(t.effectTag|=xo),u(e,t),n!==Ao&&!d&&m(o,i)?(t.pendingWorkPriority=Ao,t=null):(a(e,t,C),t.memoizedProps=i,t=t.child)):t=h(e,t),t;case wo:return null===e&&b(t),e=t.pendingProps,null===e&&(e=t.memoizedProps),t.memoizedProps=e,null;case So:t.tag=To;case To:return n=t.pendingProps,ho()?null===n&&null===(n=e&&e.memoizedProps)&&r("154"):null!==n&&t.memoizedProps!==n||(n=t.memoizedProps),o=n.children,i=t.pendingWorkPriority,t.stateNode=null===e?io(t,t.stateNode,o,i):e.child===t.child?oo(t,t.stateNode,o,i):ao(t,t.stateNode,o,i),t.memoizedProps=n,t.stateNode;case Co:return null;case Eo:e:{if(g(t,t.stateNode.containerInfo),n=t.pendingWorkPriority,o=t.pendingProps,ho())null===o&&null==(o=e&&e.memoizedProps)&&r("154");else if(null===o||t.memoizedProps===o){t=h(e,t);break e}null===e?t.child=ao(t,t.child,o,n):a(e,t,o),t.memoizedProps=o,t=t.child}return t;case Io:e:{if(n=t.pendingProps,ho())null===n&&(n=t.memoizedProps);else if(null===n||t.memoizedProps===n){t=h(e,t);break e}a(e,t,n),t.memoizedProps=n,t=t.child}return t;default:r("156")}},beginFailedWork:function(e,t,n){switch(t.tag){case yo:fo(t);break;case _o:l(t);break;default:r("157")}return t.effectTag|=Po,null===e?t.child=null:t.child!==e.child&&(t.child=e.child),t.pendingWorkPriority===Oo||t.pendingWorkPriority>n?f(e,t):(t.firstEffect=null,t.lastEffect=null,s(e,t,null,n),t.tag===yo&&(e=t.stateNode,t.memoizedProps=e.props,t.memoizedState=e.state),t.child)}}}function ue(e,t,n){var i=e.createInstance,o=e.createTextInstance,a=e.appendInitialChild,s=e.finalizeInitialChildren,u=e.prepareUpdate,c=t.getRootHostContainer,l=t.popHostContext,h=t.getHostContext,f=t.popHostContainer,p=n.prepareToHydrateHostInstance,d=n.prepareToHydrateHostTextInstance,m=n.popHydrationState;return{completeWork:function(e,t,n){var v=t.pendingProps;switch(null===v?v=t.memoizedProps:t.pendingWorkPriority===$o&&n!==$o||(t.pendingProps=null),t.tag){case Fo:return null;case qo:return Mo(t),null;case Vo:return f(t),jo(t),v=t.stateNode,v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),null!==e&&null!==e.child||(m(t),t.effectTag&=~Yo),null;case Bo:l(t),n=c();var g=t.type;if(null!==e&&null!=t.stateNode){var y=e.memoizedProps,_=t.stateNode,b=h();v=u(_,g,y,v,n,b),(t.updateQueue=v)&&(t.effectTag|=Jo),e.ref!==t.ref&&(t.effectTag|=Xo)}else{if(!v)return null===t.stateNode&&r("166"),null;if(e=h(),m(t))p(t,n,e)&&(t.effectTag|=Jo);else{e=i(g,v,n,e,t);e:for(y=t.child;null!==y;){if(y.tag===Bo||y.tag===Ho)a(e,y.stateNode);else if(y.tag!==Wo&&null!==y.child){y=y.child;continue}if(y===t)break e;for(;null===y.sibling;){if(null===y.return||y.return===t)break e;y=y.return}y=y.sibling}s(e,g,v,n)&&(t.effectTag|=Jo),t.stateNode=e}null!==t.ref&&(t.effectTag|=Xo)}return null;case Ho:if(e&&null!=t.stateNode)e.memoizedProps!==v&&(t.effectTag|=Jo);else{if("string"!=typeof v)return null===t.stateNode&&r("166"),null;e=c(),n=h(),m(t)?d(t)&&(t.effectTag|=Jo):t.stateNode=o(v,e,n,t)}return null;case zo:(v=t.memoizedProps)||r("165"),t.tag=Go,n=[];e:for((g=t.stateNode)&&(g.return=t);null!==g;){if(g.tag===Bo||g.tag===Ho||g.tag===Wo)r("164");else if(g.tag===Ko)n.push(g.type);else if(null!==g.child){g.child.return=g,g=g.child;continue}for(;null===g.sibling;){if(null===g.return||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}return g=v.handler,v=g(v.props,n),t.child=Do(t,null!==e?e.child:null,v,t.pendingWorkPriority),t.child;case Go:return t.tag=zo,null;case Ko:case Qo:return null;case Wo:return t.effectTag|=Jo,f(t),null;case Uo:r("167");default:r("156")}}}}function ce(e){return function(t){try{return e(t)}catch(e){}}}function le(e,t){function n(e){var n=e.ref;if(null!==n)try{n(null)}catch(n){t(e,n)}}function i(e){return e.tag===ia||e.tag===ra||e.tag===aa}function o(e){for(var t=e;;)if(s(t),null!==t.child&&t.tag!==aa)t.child.return=t,t=t.child;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function a(e){for(var t=e,n=!1,i=void 0,a=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&r("160"),n.tag){case ia:i=n.stateNode,a=!1;break e;case ra:case aa:i=n.stateNode.containerInfo,a=!0;break e}n=n.return}n=!0}if(t.tag===ia||t.tag===oa)o(t),a?g(i,t.stateNode):v(i,t.stateNode);else if(t.tag===aa?i=t.stateNode.containerInfo:s(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,t.tag===aa&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function s(e){switch("function"==typeof ca&&ca(e),e.tag){case na:n(e);var r=e.stateNode;if("function"==typeof r.componentWillUnmount)try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(n){t(e,n)}break;case ia:n(e);break;case sa:o(e.stateNode);break;case aa:a(e)}}var u=e.commitMount,c=e.commitUpdate,l=e.resetTextContent,h=e.commitTextUpdate,f=e.appendChild,p=e.appendChildToContainer,d=e.insertBefore,m=e.insertInContainerBefore,v=e.removeChild,g=e.removeChildFromContainer,y=e.getPublicInstance;return{commitPlacement:function(e){e:{for(var t=e.return;null!==t;){if(i(t)){var n=t;break e}t=t.return}r("160"),n=void 0}var o=t=void 0;switch(n.tag){case ia:t=n.stateNode,o=!1;break;case ra:case aa:t=n.stateNode.containerInfo,o=!0;break;default:r("161")}n.effectTag&pa&&(l(t),n.effectTag&=~pa);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||i(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==ia&&n.tag!==oa;){if(n.effectTag&la)continue t;if(null===n.child||n.tag===aa)continue t;n.child.return=n,n=n.child}if(!(n.effectTag&la)){n=n.stateNode;break e}}for(var a=e;;){if(a.tag===ia||a.tag===oa)n?o?m(t,a.stateNode,n):d(t,a.stateNode,n):o?p(t,a.stateNode):f(t,a.stateNode);else if(a.tag!==aa&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},commitDeletion:function(e){a(e),e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)},commitWork:function(e,t){switch(t.tag){case na:break;case ia:var n=t.stateNode;if(null!=n){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var o=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&c(n,a,o,e,i,t)}break;case oa:null===t.stateNode&&r("162"),n=t.memoizedProps,h(t.stateNode,null!==e?e.memoizedProps:n,n);break;case ra:case aa:break;default:r("163")}},commitLifeCycles:function(e,t){switch(t.tag){case na:var n=t.stateNode;if(t.effectTag&ha)if(null===e)n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidMount();else{var i=e.memoizedProps;e=e.memoizedState,n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidUpdate(i,e)}t.effectTag&fa&&null!==t.updateQueue&&ua(t,t.updateQueue,n);break;case ra:null!==(e=t.updateQueue)&&ua(t,e,t.child&&t.child.stateNode);break;case ia:n=t.stateNode,null===e&&t.effectTag&ha&&u(n,t.type,t.memoizedProps,t);break;case oa:case aa:break;default:r("163")}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case ia:t(y(n));break;default:t(n)}}},commitDetachRef:function(e){null!==(e=e.ref)&&e(null)}}}function he(e){function t(e){return e===ga&&r("174"),e}var n=e.getChildHostContext,i=e.getRootHostContext,o=da(ga),a=da(ga),s=da(ga);return{getHostContext:function(){return t(o.current)},getRootHostContainer:function(){return t(s.current)},popHostContainer:function(e){ma(o,e),ma(a,e),ma(s,e)},popHostContext:function(e){a.current===e&&(ma(o,e),ma(a,e))},pushHostContainer:function(e,t){va(s,t,e),t=i(t),va(a,e,e),va(o,t,e)},pushHostContext:function(e){var r=t(s.current),i=t(o.current);r=n(i,e.type,r),i!==r&&(va(a,e,e),va(o,r,e))},resetHostContainer:function(){o.current=ga,s.current=ga}}}function fe(e){function t(e,t){var n=Ta();n.stateNode=t,n.return=e,n.effectTag=wa,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function n(e,t){switch(e.tag){case ya:return a(t,e.type,e.pendingProps);case _a:return s(t,e.pendingProps);default:return!1}}function i(e){for(e=e.return;null!==e&&e.tag!==ya&&e.tag!==ba;)e=e.return;d=e}var o=e.shouldSetTextContent,a=e.canHydrateInstance,s=e.canHydrateTextInstance,u=e.getNextHydratableSibling,c=e.getFirstHydratableChild,l=e.hydrateInstance,h=e.hydrateTextInstance,f=e.didNotHydrateInstance,p=e.didNotFindHydratableInstance;if(e=e.didNotFindHydratableTextInstance,!(a&&s&&u&&c&&l&&h&&f&&p&&e))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){r("175")},prepareToHydrateHostTextInstance:function(){r("176")},popHydrationState:function(){return!1}};var d=null,m=null,v=!1;return{enterHydrationState:function(e){return m=c(e.stateNode.containerInfo),d=e,v=!0},resetHydrationState:function(){m=d=null,v=!1},tryToClaimNextHydratableInstance:function(e){if(v){var r=m;if(r){if(!n(e,r)){if(!(r=u(r))||!n(e,r))return e.effectTag|=Ea,v=!1,void(d=e);t(d,m)}e.stateNode=r,d=e,m=c(r)}else e.effectTag|=Ea,v=!1,d=e}},prepareToHydrateHostInstance:function(e,t,n){return t=l(e.stateNode,e.type,e.memoizedProps,t,n,e),e.updateQueue=t,null!==t},prepareToHydrateHostTextInstance:function(e){return h(e.stateNode,e.memoizedProps,e)},popHydrationState:function(e){if(e!==d)return!1;if(!v)return i(e),v=!0,!1;var n=e.type;if(e.tag!==ya||"head"!==n&&"body"!==n&&!o(n,e.memoizedProps))for(n=m;n;)t(e,n),n=u(n);return i(e),m=d?u(e.stateNode):null,!0}}}function pe(e){function t(){for(;null!==G&&G.current.pendingWorkPriority===Na;){G.isScheduled=!1;var e=G.nextScheduledRoot;if(G.nextScheduledRoot=null,G===K)return K=G=null,H=Na,null;G=e}e=G;for(var t=null,n=Na;null!==e;)e.current.pendingWorkPriority!==Na&&(n===Na||n>e.current.pendingWorkPriority)&&(n=e.current.pendingWorkPriority,t=e),e=e.nextScheduledRoot;null!==t?(H=n,Ca(),Ja(),E(),B=Oa(t.current,n),t!==ie&&(re=0,ie=t)):(H=Na,ie=B=null)}function n(n){ee=!0,z=null;var i=n.stateNode;if(i.current===n&&r("177"),H!==xa&&H!==Pa||re++,Ia.current=null,n.effectTag>ja)if(null!==n.lastEffect){n.lastEffect.nextEffect=n;var o=n.firstEffect}else o=n;else o=n.firstEffect;for(D(),W=o;null!==W;){var a=!1,s=void 0;try{for(;null!==W;){var u=W.effectTag;if(u&Ba&&e.resetTextContent(W.stateNode),u&za){var c=W.alternate;null!==c&&P(c)}switch(u&~(Ha|Wa|Ba|za|ja)){case Ua:O(W),W.effectTag&=~Ua;break;case qa:O(W),W.effectTag&=~Ua,k(W.alternate,W);break;case Fa:k(W.alternate,W);break;case Va:te=!0,A(W),te=!1}W=W.nextEffect}}catch(e){a=!0,s=e}a&&(null===W&&r("178"),h(W,s),null!==W&&(W=W.nextEffect))}for(M(),i.current=n,W=o;null!==W;){i=!1,o=void 0;try{for(;null!==W;){var l=W.effectTag;if(l&(Fa|Ha)&&N(W.alternate,W),l&za&&x(W),l&Wa)switch(a=W,s=void 0,null!==Y&&(s=Y.get(a),Y.delete(a),null==s&&null!==a.alternate&&(a=a.alternate,s=Y.get(a),Y.delete(a))),null==s&&r("184"),a.tag){case Ya:a.stateNode.componentDidCatch(s.error,{componentStack:s.componentStack});break;case Ga:null===$&&($=s.error);break;default:r("157")}var f=W.nextEffect;W.nextEffect=null,W=f}}catch(e){i=!0,o=e}i&&(null===W&&r("178"),h(W,o),null!==W&&(W=W.nextEffect))}ee=!1,"function"==typeof ka&&ka(n.stateNode),J&&(J.forEach(g),J=null),t()}function i(e){for(;;){var t=I(e.alternate,e,H),n=e.return,r=e.sibling,i=e;if(!(i.pendingWorkPriority!==Na&&i.pendingWorkPriority>H)){for(var o=Xa(i),a=i.child;null!==a;)o=Aa(o,a.pendingWorkPriority),a=a.sibling;i.pendingWorkPriority=o}if(null!==t)return t;if(null!==n&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),e.effectTag>ja&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){z=e;break}e=n}return null}function o(e){var t=S(e.alternate,e,H);return null===t&&(t=i(e)),Ia.current=null,t}function a(e){var t=C(e.alternate,e,H);return null===t&&(t=i(e)),Ia.current=null,t}function s(e){l(Da,e)}function u(){if(null!==Y&&0<Y.size&&H===Pa)for(;null!==B;){var e=B;if(null===(B=null!==Y&&(Y.has(e)||null!==e.alternate&&Y.has(e.alternate))?a(B):o(B))&&(null===z&&r("179"),j=Pa,n(z),j=H,null===Y||0===Y.size||H!==Pa))break}}function c(e,i){if(null!==z?(j=Pa,n(z),u()):null===B&&t(),!(H===Na||H>e)){j=H;e:for(;;){if(H<=Pa)for(;null!==B&&!(null===(B=o(B))&&(null===z&&r("179"),j=Pa,n(z),j=H,u(),H===Na||H>e||H>Pa)););else if(null!==i)for(;null!==B&&!F;)if(1<i.timeRemaining()){if(null===(B=o(B)))if(null===z&&r("179"),1<i.timeRemaining()){if(j=Pa,n(z),j=H,u(),H===Na||H>e||H<Ra)break}else F=!0}else F=!0;switch(H){case xa:case Pa:if(H<=e)continue e;break e;case Ra:case La:case Da:if(null===i)break e;if(!F&&H<=e)continue e;break e;case Na:break e;default:r("181")}}}}function l(e,t){U&&r("182"),U=!0;var n=j,i=!1,o=null;try{c(e,t)}catch(e){i=!0,o=e}for(;i;){if(Z){$=o;break}var u=B;if(null===u)Z=!0;else{var l=h(u,o);if(null===l&&r("183"),!Z){try{i=l,o=e,l=t;for(var f=i;null!==u;){switch(u.tag){case Ya:Sa(u);break;case Ka:w(u);break;case Ga:b(u);break;case Qa:b(u)}if(u===f||u.alternate===f)break;u=u.return}B=a(i),c(o,l)}catch(e){i=!0,o=e;continue}break}}}if(j=n,null!==t&&(Q=!1),H>Pa&&!Q&&(R(s),Q=!0),e=$,Z=F=U=!1,ie=X=Y=$=null,re=0,null!==e)throw e}function h(e,t){var n=Ia.current=null,r=!1,i=!1,o=null;if(e.tag===Ga)n=e,p(e)&&(Z=!0);else for(var a=e.return;null!==a&&null===n;){if(a.tag===Ya?"function"==typeof a.stateNode.componentDidCatch&&(r=!0,o=f(a),n=a,i=!0):a.tag===Ga&&(n=a),p(a)){if(te||null!==J&&(J.has(a)||null!==a.alternate&&J.has(a.alternate)))return null;n=null,i=!1}a=a.return}if(null!==n){null===X&&(X=new Set),X.add(n);var s="";a=e;do{e:switch(a.tag){case fi:case pi:case di:case mi:var u=a._debugOwner,c=a._debugSource,l=f(a),h=null;u&&(h=f(u)),u=c,l="\n    in "+(l||"Unknown")+(u?" (at "+u.fileName.replace(/^.*[\\\/]/,"")+":"+u.lineNumber+")":h?" (created by "+h+")":"");break e;default:l=""}s+=l,a=a.return}while(a);a=s,e=f(e),null===Y&&(Y=new Map),t={componentName:e,componentStack:a,error:t,errorBoundary:r?n.stateNode:null,errorBoundaryFound:r,errorBoundaryName:o,willRetry:i},Y.set(n,t);try{console.error(t.error)}catch(e){console.error(e)}return ee?(null===J&&(J=new Set),J.add(n)):g(n),n}return null===$&&($=t),null}function p(e){return null!==X&&(X.has(e)||null!==e.alternate&&X.has(e.alternate))}function d(e,t){return m(e,t,!1)}function m(e,t){re>ne&&(Z=!0,r("185")),!U&&t<=H&&(B=null);for(var n=!0;null!==e&&n;){if(n=!1,(e.pendingWorkPriority===Na||e.pendingWorkPriority>t)&&(n=!0,e.pendingWorkPriority=t),null!==e.alternate&&(e.alternate.pendingWorkPriority===Na||e.alternate.pendingWorkPriority>t)&&(n=!0,e.alternate.pendingWorkPriority=t),null===e.return){if(e.tag!==Ga)break;var i=e.stateNode;if(t===Na||i.isScheduled||(i.isScheduled=!0,K?K.nextScheduledRoot=i:G=i,K=i),!U)switch(t){case xa:V?l(xa,null):l(Pa,null);break;case Pa:q||r("186");break;default:Q||(R(s),Q=!0)}}e=e.return}}function v(e,t){var n=j;return n===Na&&(n=!L||e.internalContextTag&Ma||t?La:xa),n===xa&&(U||q)?Pa:n}function g(e){m(e,Pa,!0)}var y=he(e),_=fe(e),b=y.popHostContainer,w=y.popHostContext,E=y.resetHostContainer,T=se(e,y,_,d,v),S=T.beginWork,C=T.beginFailedWork,I=ue(e,y,_).completeWork;y=le(e,h);var O=y.commitPlacement,A=y.commitDeletion,k=y.commitWork,N=y.commitLifeCycles,x=y.commitAttachRef,P=y.commitDetachRef,R=e.scheduleDeferredCallback,L=e.useSyncScheduling,D=e.prepareForCommit,M=e.resetAfterCommit,j=Na,U=!1,F=!1,q=!1,V=!1,B=null,H=Na,W=null,z=null,G=null,K=null,Q=!1,Y=null,X=null,J=null,$=null,Z=!1,ee=!1,te=!1,ne=1e3,re=0,ie=null;return{scheduleUpdate:d,getPriorityContext:v,batchedUpdates:function(e,t){var n=q;q=!0;try{return e(t)}finally{q=n,U||q||l(Pa,null)}},unbatchedUpdates:function(e){var t=V,n=q;V=q,q=!1;try{return e()}finally{q=n,V=t}},flushSync:function(e){var t=q,n=j;q=!0,j=xa;try{return e()}finally{q=t,j=n,U&&r("187"),l(Pa,null)}},deferredUpdates:function(e){var t=j;j=La;try{return e()}finally{j=t}}}}function de(){r("196")}function me(e){return e?(e=Qt.get(e),"number"==typeof e.tag?de(e):e._processChildContext(e._context)):bt}function ve(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ge(e,t){var n=ve(e);e=0;for(var r;n;){if(n.nodeType===os){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ve(n)}}function ye(){return!as&&vt.canUseDOM&&(as="textContent"in document.documentElement?"textContent":"innerText"),as}function _e(){r("211")}function be(){r("212")}function we(e){if(null==e)return null;if(e.nodeType===hs)return e;var t=Qt.get(e);if(t)return"number"==typeof t.tag?_e(t):be(t);"function"==typeof e.render?r("188"):r("213",Object.keys(e))}function Ee(e){if(void 0!==e._hostParent)return e._hostParent;if("number"==typeof e.tag){do{e=e.return}while(e&&e.tag!==fs);if(e)return e}return null}function Te(e,t){for(var n=0,r=e;r;r=Ee(r))n++;r=0;for(var i=t;i;i=Ee(i))r++;for(;0<n-r;)e=Ee(e),n--;for(;0<r-n;)t=Ee(t),r--;for(;n--;){if(e===t||e===t.alternate)return e;e=Ee(e),t=Ee(t)}return null}function Se(e,t,n){(t=ds(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function Ce(e){e&&e.dispatchConfig.phasedRegistrationNames&&ps.traverseTwoPhase(e._targetInst,Se,e)}function Ie(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;t=t?ps.getParentInstance(t):null,ps.traverseTwoPhase(t,Se,e)}}function Oe(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=ds(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function Ae(e){e&&e.dispatchConfig.registrationName&&Oe(e._targetInst,null,e)}function ke(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?_t.thatReturnsTrue:_t.thatReturnsFalse,this.isPropagationStopped=_t.thatReturnsFalse,this}function Ne(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function xe(e){e instanceof this||r("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Pe(e){e.eventPool=[],e.getPooled=Ne,e.release=xe}function Re(e,t,n,r){return ke.call(this,e,t,n,r)}function Le(e,t,n,r){return ke.call(this,e,t,n,r)}function De(e,t){switch(e){case"topKeyUp":return-1!==ws.indexOf(t.keyCode);case"topKeyDown":return 229!==t.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function Me(e){return e=e.detail,"object"==typeof e&&"data"in e?e.data:null}function je(e,t){switch(e){case"topCompositionEnd":return Me(t);case"topKeyPress":return 32!==t.which?null:(Ns=!0,As);case"topTextInput":return e=t.data,e===As&&Ns?null:e;default:return null}}function Ue(e,t){if(xs)return"topCompositionEnd"===e||!Es&&De(e,t)?(e=ys.getData(),ys.reset(),xs=!1,e):null;switch(e){case"topPaste":return null;case"topKeyPress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return Os?null:t.data;default:return null}}function Fe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rs[e.type]:"textarea"===t}function qe(e,t,n){return e=ke.getPooled(Ls.change,e,t,n),e.type="change",fn.enqueueStateRestore(n),ms.accumulateTwoPhaseDispatches(e),e}function Ve(e){wn.enqueueEvents(e),wn.processEventQueue(!1)}function Be(e){var t=Kt.getNodeFromInstance(e);if(Zn.updateValueIfChanged(t))return e}function He(e,t){if("topChange"===e)return t}function We(){Ds&&(Ds.detachEvent("onpropertychange",ze),Ms=Ds=null)}function ze(e){"value"===e.propertyName&&Be(Ms)&&(e=qe(Ms,e,T(e)),dn.batchedUpdates(Ve,e))}function Ge(e,t,n){"topFocus"===e?(We(),Ds=t,Ms=n,Ds.attachEvent("onpropertychange",ze)):"topBlur"===e&&We()}function Ke(e){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return Be(Ms)}function Qe(e,t){if("topClick"===e)return Be(t)}function Ye(e,t){if("topInput"===e||"topChange"===e)return Be(t)}function Xe(e,t,n,r){return ke.call(this,e,t,n,r)}function Je(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Fs[e])&&!!t[e]}function $e(){return Je}function Ze(e,t,n,r){return ke.call(this,e,t,n,r)}function et(e,t){if(Qs||null==zs||zs!==St())return null;var n=zs;return"selectionStart"in n&&ls.hasSelectionCapabilities(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,Ks&&wt(Ks,n)?null:(Ks=n,e=ke.getPooled(Ws.select,Gs,e,t),e.type="select",e.target=zs,ms.accumulateTwoPhaseDispatches(e),e)}function tt(e,t,n,r){return ke.call(this,e,t,n,r)}function nt(e,t,n,r){return ke.call(this,e,t,n,r)}function rt(e,t,n,r){return ke.call(this,e,t,n,r)}function it(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,32<=e||13===e?e:0}function ot(e,t,n,r){return ke.call(this,e,t,n,r)}function at(e,t,n,r){return ke.call(this,e,t,n,r)}function st(e,t,n,r){return ke.call(this,e,t,n,r)}function ut(e,t,n,r){return ke.call(this,e,t,n,r)}function ct(e,t,n,r){return ke.call(this,e,t,n,r)}function lt(e){return e[1].toUpperCase()}function ht(e){return!(!e||e.nodeType!==pu&&e.nodeType!==vu&&e.nodeType!==gu&&(e.nodeType!==mu||" react-mount-point-unstable "!==e.nodeValue))}function ft(e){return!(!(e=e?e.nodeType===vu?e.documentElement:e.firstChild:null)||e.nodeType!==pu||!e.hasAttribute(yu))}function pt(e,t,n,i,o){ht(n)||r("200");var a=n._reactRootContainer;if(a)Du.updateContainer(t,a,e,o);else{if(!i&&!ft(n))for(i=void 0;i=n.lastChild;)n.removeChild(i);var s=Du.createContainer(n);a=n._reactRootContainer=s,Du.unbatchedUpdates(function(){Du.updateContainer(t,s,e,o)})}return Du.getPublicRootInstance(a)}function dt(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return ht(t)||r("200"),yi.createPortal(e,t,null,n)}var mt=n(1);n(108);var vt=n(381),gt=n(151),yt=n(382),_t=n(79),bt=n(152),wt=n(383),Et=n(384),Tt=n(387),St=n(388);mt||r("227");var Ct,It,Ot={Namespaces:{html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},getIntrinsicNamespace:i,getChildNamespace:function(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?i(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}},At=null,kt={},Nt={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){At&&r("101"),At=Array.prototype.slice.call(e),o()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];kt.hasOwnProperty(t)&&kt[t]===i||(kt[t]&&r("102",t),kt[t]=i,n=!0)}n&&o()}},xt=Nt,Pt={children:!0,dangerouslySetInnerHTML:!0,autoFocus:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,style:!0},Rt={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=Rt,n=e.Properties||{},i=e.DOMAttributeNamespaces||{},o=e.DOMAttributeNames||{};e=e.DOMMutationMethods||{};for(var a in n){Lt.properties.hasOwnProperty(a)&&r("48",a);var u=a.toLowerCase(),c=n[a];u={attributeName:u,attributeNamespace:null,propertyName:a,mutationMethod:null,mustUseProperty:s(c,t.MUST_USE_PROPERTY),hasBooleanValue:s(c,t.HAS_BOOLEAN_VALUE),hasNumericValue:s(c,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:s(c,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:s(c,t.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:s(c,t.HAS_STRING_BOOLEAN_VALUE)},1>=u.hasBooleanValue+u.hasNumericValue+u.hasOverloadedBooleanValue||r("50",a),o.hasOwnProperty(a)&&(u.attributeName=o[a]),i.hasOwnProperty(a)&&(u.attributeNamespace=i[a]),e.hasOwnProperty(a)&&(u.mutationMethod=e[a]),Lt.properties[a]=u}}},Lt={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",ATTRIBUTE_NAME_CHAR:":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},shouldSetAttribute:function(e,t){if(Lt.isReservedProp(e)||!("o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1]))return!1;if(null===t)return!0;switch(typeof t){case"boolean":return Lt.shouldAttributeAcceptBooleanValue(e);case"undefined":case"number":case"string":case"object":return!0;default:return!1}},getPropertyInfo:function(e){return Lt.properties.hasOwnProperty(e)?Lt.properties[e]:null},shouldAttributeAcceptBooleanValue:function(e){if(Lt.isReservedProp(e))return!0;var t=Lt.getPropertyInfo(e);return t?t.hasBooleanValue||t.hasStringBooleanValue||t.hasOverloadedBooleanValue:"data-"===(e=e.toLowerCase().slice(0,5))||"aria-"===e},isReservedProp:function(e){return Pt.hasOwnProperty(e)},injection:Rt},Dt=Lt,Mt={IndeterminateComponent:0,FunctionalComponent:1,ClassComponent:2,HostRoot:3,HostPortal:4,HostComponent:5,HostText:6,CoroutineComponent:7,CoroutineHandlerPhase:8,YieldComponent:9,Fragment:10},jt={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11},Ut=Mt.HostComponent,Ft=Mt.HostText,qt=jt.ELEMENT_NODE,Vt=jt.COMMENT_NODE,Bt=Dt.ID_ATTRIBUTE_NAME,Ht={hasCachedChildNodes:1},Wt=Math.random().toString(36).slice(2),zt="__reactInternalInstance$"+Wt,Gt="__reactEventHandlers$"+Wt,Kt={getClosestInstanceFromNode:h,getInstanceFromNode:function(e){var t=e[zt];return t?t.tag===Ut||t.tag===Ft?t:t._hostNode===e?t:null:(t=h(e),null!=t&&t._hostNode===e?t:null)},getNodeFromInstance:function(e){if(e.tag===Ut||e.tag===Ft)return e.stateNode;if(void 0===e._hostNode&&r("33"),e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent||r("34"),e=e._hostParent;for(;t.length;e=t.pop())l(e,e._hostNode);return e._hostNode},precacheChildNodes:l,precacheNode:c,uncacheNode:function(e){var t=e._hostNode;t&&(delete t[zt],e._hostNode=null)},precacheFiberNode:function(e,t){t[zt]=e},getFiberCurrentPropsFromNode:function(e){return e[Gt]||null},updateFiberProps:function(e,t){e[Gt]=t}},Qt={remove:function(e){e._reactInternalFiber=void 0},get:function(e){return e._reactInternalFiber},has:function(e){return void 0!==e._reactInternalFiber},set:function(e,t){e._reactInternalFiber=t}},Yt={ReactCurrentOwner:mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner},Xt={NoEffect:0,PerformedWork:1,Placement:2,Update:4,PlacementAndUpdate:6,Deletion:8,ContentReset:16,Callback:32,Err:64,Ref:128},Jt=Mt.HostComponent,$t=Mt.HostRoot,Zt=Mt.HostPortal,en=Mt.HostText,tn=Xt.NoEffect,nn=Xt.Placement,rn={isFiberMounted:function(e){return 2===p(e)},isMounted:function(e){return!!(e=Qt.get(e))&&2===p(e)},findCurrentFiberUsingSlowPath:m,findCurrentHostFiber:function(e){if(!(e=m(e)))return null;for(var t=e;;){if(t.tag===Jt||t.tag===en)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null},findCurrentHostFiberWithNoPortals:function(e){if(!(e=m(e)))return null;for(var t=e;;){if(t.tag===Jt||t.tag===en)return t;if(t.child&&t.tag!==Zt)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}},on={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(e){"function"!=typeof e.invokeGuardedCallback&&r("197"),v=e.invokeGuardedCallback}},invokeGuardedCallback:function(e,t,n,r,i,o,a,s,u){v.apply(on,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,i,o,a,s,u){if(on.invokeGuardedCallback.apply(this,arguments),on.hasCaughtError()){var c=on.clearCaughtError();on._hasRethrowError||(on._hasRethrowError=!0,on._rethrowError=c)}},rethrowCaughtError:function(){return g.apply(on,arguments)},hasCaughtError:function(){return on._hasCaughtError},clearCaughtError:function(){if(on._hasCaughtError){var e=on._caughtError;return on._caughtError=null,on._hasCaughtError=!1,e}r("198")}},an=on,sn={isEndish:function(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e},isMoveish:function(e){return"topMouseMove"===e||"topTouchMove"===e},isStartish:function(e){return"topMouseDown"===e||"topTouchStart"===e},executeDirectDispatch:function(e){var t=e._dispatchListeners,n=e._dispatchInstances;return Array.isArray(t)&&r("103"),e.currentTarget=t?sn.getNodeFromInstance(n):null,t=t?t(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,t},executeDispatchesInOrder:function(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)y(e,t,n[i],r[i]);else n&&y(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null},executeDispatchesInOrderStopAtTrue:function(e){e:{var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r])){t=n[r];break e}}else if(t&&t(e,n)){t=n;break e}t=null}return e._dispatchInstances=null,e._dispatchListeners=null,t},hasDispatches:function(e){return!!e._dispatchListeners},getFiberCurrentPropsFromNode:function(e){return Ct.getFiberCurrentPropsFromNode(e)},getInstanceFromNode:function(e){return Ct.getInstanceFromNode(e)},getNodeFromInstance:function(e){return Ct.getNodeFromInstance(e)},injection:{injectComponentTree:function(e){Ct=e}}},un=sn,cn=null,ln=null,hn=null,fn={injection:{injectFiberControlledHostComponent:function(e){cn=e}},enqueueStateRestore:function(e){ln?hn?hn.push(e):hn=[e]:ln=e},restoreStateIfNeeded:function(){if(ln){var e=ln,t=hn;if(hn=ln=null,_(e),t)for(e=0;e<t.length;e++)_(t[e])}}},pn=!1,dn={batchedUpdates:function(e,t){if(pn)return b(E,e,t);pn=!0;try{return b(E,e,t)}finally{pn=!1,fn.restoreStateIfNeeded()}},injection:{injectStackBatchedUpdates:function(e){b=e},injectFiberBatchedUpdates:function(e){w=e}}},mn=jt.TEXT_NODE,vn=Mt.HostRoot,gn=[],yn={_enabled:!0,_handleTopLevel:null,setHandleTopLevel:function(e){yn._handleTopLevel=e},setEnabled:function(e){yn._enabled=!!e},isEnabled:function(){return yn._enabled},trapBubbledEvent:function(e,t,n){return n?yt.listen(n,t,yn.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?yt.capture(n,t,yn.dispatchEvent.bind(null,e)):null},dispatchEvent:function(e,t){if(yn._enabled){var n=T(t);if(n=Kt.getClosestInstanceFromNode(n),null===n||"number"!=typeof n.tag||rn.isFiberMounted(n)||(n=null),gn.length){var r=gn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{dn.batchedUpdates(S,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>gn.length&&gn.push(e)}}}},_n=yn,bn=null,wn={injection:{injectEventPluginOrder:xt.injectEventPluginOrder,injectEventPluginsByName:xt.injectEventPluginsByName},getListener:function(e,t){if("number"==typeof e.tag){var n=e.stateNode;if(!n)return null;var i=un.getFiberCurrentPropsFromNode(n);if(!i)return null;if(n=i[t],N(t,e.type,i))return null}else{if("string"==typeof(i=e._currentElement)||"number"==typeof i||!e._rootNodeID)return null;if(e=i.props,n=e[t],N(t,i.type,e))return null}return n&&"function"!=typeof n&&r("231",t,typeof n),n},extractEvents:function(e,t,n,r){for(var i,o=xt.plugins,a=0;a<o.length;a++){var s=o[a];s&&(s=s.extractEvents(e,t,n,r))&&(i=C(i,s))}return i},enqueueEvents:function(e){e&&(bn=C(bn,e))},processEventQueue:function(e){var t=bn;bn=null,e?I(t,A):I(t,k),bn&&r("95"),an.rethrowCaughtError()}};vt.canUseDOM&&(It=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var En={animationend:P("Animation","AnimationEnd"),animationiteration:P("Animation","AnimationIteration"),animationstart:P("Animation","AnimationStart"),transitionend:P("Transition","TransitionEnd")},Tn={},Sn={};vt.canUseDOM&&(Sn=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);var Cn={topAbort:"abort",topAnimationEnd:R("animationend")||"animationend",topAnimationIteration:R("animationiteration")||"animationiteration",topAnimationStart:R("animationstart")||"animationstart",topBlur:"blur",topCancel:"cancel",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoad:"load",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:R("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},In={},On=0,An="_reactListenersID"+(""+Math.random()).slice(2),kn=gt({},{handleTopLevel:function(e,t,n,r){e=wn.extractEvents(e,t,n,r),wn.enqueueEvents(e),wn.processEventQueue(!1)}},{setEnabled:function(e){_n&&_n.setEnabled(e)},isEnabled:function(){return!(!_n||!_n.isEnabled())},listenTo:function(e,t){var n=L(t);e=xt.registrationNameDependencies[e];for(var r=0;r<e.length;r++){var i=e[r];n.hasOwnProperty(i)&&n[i]||("topWheel"===i?x("wheel")?_n.trapBubbledEvent("topWheel","wheel",t):x("mousewheel")?_n.trapBubbledEvent("topWheel","mousewheel",t):_n.trapBubbledEvent("topWheel","DOMMouseScroll",t):"topScroll"===i?_n.trapCapturedEvent("topScroll","scroll",t):"topFocus"===i||"topBlur"===i?(_n.trapCapturedEvent("topFocus","focus",t),_n.trapCapturedEvent("topBlur","blur",t),n.topBlur=!0,n.topFocus=!0):"topCancel"===i?(x("cancel",!0)&&_n.trapCapturedEvent("topCancel","cancel",t),n.topCancel=!0):"topClose"===i?(x("close",!0)&&_n.trapCapturedEvent("topClose","close",t),n.topClose=!0):Cn.hasOwnProperty(i)&&_n.trapBubbledEvent(i,Cn[i],t),n[i]=!0)}},isListeningToAllDependencies:function(e,t){t=L(t),e=xt.registrationNameDependencies[e];for(var n=0;n<e.length;n++){var r=e[n];if(!t.hasOwnProperty(r)||!t[r])return!1}return!0},trapBubbledEvent:function(e,t,n){return _n.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return _n.trapCapturedEvent(e,t,n)}}),Nn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xn=["Webkit","ms","Moz","O"];Object.keys(Nn).forEach(function(e){xn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nn[t]=Nn[e]})});var Pn={isUnitlessNumber:Nn,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}},Rn=Pn.isUnitlessNumber,Ln=!1;if(vt.canUseDOM){var Dn=document.createElement("div").style;try{Dn.font=""}catch(e){Ln=!0}}var Mn,jn={createDangerousStringForStyles:function(){},setValueForStyles:function(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=t[n];if(i=null==o||"boolean"==typeof o||""===o?"":r||"number"!=typeof o||0===o||Rn.hasOwnProperty(i)&&Rn[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r)e.setProperty(n,i);else if(i)e[n]=i;else if(r=Ln&&Pn.shorthandPropertyExpansions[n])for(var a in r)e[a]="";else e[n]=""}}},Un=new RegExp("^["+Dt.ATTRIBUTE_NAME_START_CHAR+"]["+Dt.ATTRIBUTE_NAME_CHAR+"]*$"),Fn={},qn={},Vn={setAttributeForID:function(e,t){e.setAttribute(Dt.ID_ATTRIBUTE_NAME,t)},setAttributeForRoot:function(e){e.setAttribute(Dt.ROOT_ATTRIBUTE_NAME,"")},getValueForProperty:function(){},getValueForAttribute:function(){},setValueForProperty:function(e,t,n){var r=Dt.getPropertyInfo(t);if(r&&Dt.shouldSetAttribute(t,n)){var i=r.mutationMethod;i?i(e,n):null==n||r.hasBooleanValue&&!n||r.hasNumericValue&&isNaN(n)||r.hasPositiveNumericValue&&1>n||r.hasOverloadedBooleanValue&&!1===n?Vn.deleteValueForProperty(e,t):r.mustUseProperty?e[r.propertyName]=n:(t=r.attributeName,(i=r.attributeNamespace)?e.setAttributeNS(i,t,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?e.setAttribute(t,""):e.setAttribute(t,""+n))}else Vn.setValueForAttribute(e,t,Dt.shouldSetAttribute(t,n)?n:null)},setValueForAttribute:function(e,t,n){D(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=Dt.getPropertyInfo(t);n?(t=n.mutationMethod)?t(e,void 0):n.mustUseProperty?e[n.propertyName]=!n.hasBooleanValue&&"":e.removeAttribute(n.attributeName):e.removeAttribute(t)}},Bn=Vn,Hn=Yt.ReactDebugCurrentFrame,Wn={current:null,phase:null,resetCurrentFiber:function(){Hn.getCurrentStack=null,Wn.current=null,Wn.phase=null},setCurrentFiber:function(e,t){Hn.getCurrentStack=M,Wn.current=e,Wn.phase=t},getCurrentFiberOwnerName:function(){return null},getCurrentFiberStackAddendum:M},zn=Wn,Gn={getHostProps:function(e,t){var n=t.value,r=t.checked;return gt({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked})},initWrapperState:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}},updateWrapper:function(e,t){var n=t.checked;null!=n&&Bn.setValueForProperty(e,"checked",n||!1),n=t.value,null!=n?0===n&&""===e.value?e.value="0":"number"===t.type?(t=parseFloat(e.value)||0,(n!=t||n==t&&e.value!=n)&&(e.value=""+n)):e.value!==""+n&&(e.value=""+n):(null==t.value&&null!=t.defaultValue&&e.defaultValue!==""+t.defaultValue&&(e.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked))},postMountWrapper:function(e,t){switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":e.value="",e.value=e.defaultValue;break;default:e.value=e.value}t=e.name,""!==t&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)},restoreControlledState:function(e,t){Gn.updateWrapper(e,t);var n=t.name;if("radio"===t.type&&null!=n){for(t=e;t.parentNode;)t=t.parentNode;for(n=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=Kt.getFiberCurrentPropsFromNode(i);o||r("90"),Gn.updateWrapper(i,o)}}}}},Kn=Gn,Qn={validateProps:function(){},postMountWrapper:function(e,t){null!=t.value&&e.setAttribute("value",t.value)},getHostProps:function(e,t){return e=gt({children:void 0},t),(t=j(t.children))&&(e.children=t),e}},Yn={getHostProps:function(e,t){return gt({},t,{value:void 0})},initWrapperState:function(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}},postMountWrapper:function(e,t){e.multiple=!!t.multiple;var n=t.value;null!=n?U(e,!!t.multiple,n):null!=t.defaultValue&&U(e,!!t.multiple,t.defaultValue)},postUpdateWrapper:function(e,t){e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!t.multiple;var r=t.value;null!=r?U(e,!!t.multiple,r):n!==!!t.multiple&&(null!=t.defaultValue?U(e,!!t.multiple,t.defaultValue):U(e,!!t.multiple,t.multiple?[]:""))},restoreControlledState:function(e,t){var n=t.value;null!=n&&U(e,!!t.multiple,n)}},Xn={getHostProps:function(e,t){return null!=t.dangerouslySetInnerHTML&&r("91"),gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})},initWrapperState:function(e,t){var n=t.value,i=n;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null!=n&&r("92"),Array.isArray(t)&&(1>=t.length||r("93"),t=t[0]),n=""+t),null==n&&(n=""),i=n),e._wrapperState={initialValue:""+i}},updateWrapper:function(e,t){var n=t.value;null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)},restoreControlledState:function(e,t){Xn.updateWrapper(e,t)}},Jn=Xn,$n=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Zn={_getTrackerFromNode:function(e){return e._valueTracker},track:function(e){e._valueTracker||(e._valueTracker=V(e))},updateValueIfChanged:function(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)},stopTracking:function(e){(e=e._valueTracker)&&e.stopTracking()}},er=Ot.Namespaces,tr=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==er.svg||"innerHTML"in e)e.innerHTML=t;else for(Mn=Mn||document.createElement("div"),Mn.innerHTML="<svg>"+t+"</svg>",t=Mn.firstChild;t.firstChild;)e.appendChild(t.firstChild)}),nr=/["'&<>]/,rr=jt.TEXT_NODE;vt.canUseDOM&&("textContent"in document.documentElement||(H=function(e,t){if(e.nodeType===rr)e.nodeValue=t;else{if("boolean"==typeof t||"number"==typeof t)t=""+t;else{t=""+t;var n=nr.exec(t);if(n){var r,i="",o=0;for(r=n.index;r<t.length;r++){switch(t.charCodeAt(r)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}o!==r&&(i+=t.substring(o,r)),o=r+1,i+=n}t=o!==r?i+t.substring(o,r):i}}tr(e,t)}}));var ir=H,or=(zn.getCurrentFiberOwnerName,jt.DOCUMENT_NODE),ar=jt.DOCUMENT_FRAGMENT_NODE,sr=kn.listenTo,ur=xt.registrationNameModules,cr=Ot.Namespaces.html,lr=Ot.getIntrinsicNamespace,hr={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},fr={createElement:function(e,t,n,r){return n=n.nodeType===or?n:n.ownerDocument,r===cr&&(r=lr(e)),r===cr?"script"===e?(e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e},createTextNode:function(e,t){return(t.nodeType===or?t:t.ownerDocument).createTextNode(e)},setInitialProperties:function(e,t,n,r){var i=B(t,n);switch(t){case"iframe":case"object":kn.trapBubbledEvent("topLoad","load",e);var o=n;break;case"video":case"audio":for(o in hr)hr.hasOwnProperty(o)&&kn.trapBubbledEvent(o,hr[o],e);o=n;break;case"source":kn.trapBubbledEvent("topError","error",e),o=n;break;case"img":case"image":kn.trapBubbledEvent("topError","error",e),kn.trapBubbledEvent("topLoad","load",e),o=n;break;case"form":kn.trapBubbledEvent("topReset","reset",e),kn.trapBubbledEvent("topSubmit","submit",e),o=n;break;case"details":kn.trapBubbledEvent("topToggle","toggle",e),o=n;break;case"input":Kn.initWrapperState(e,n),o=Kn.getHostProps(e,n),kn.trapBubbledEvent("topInvalid","invalid",e),W(r,"onChange");break;case"option":Qn.validateProps(e,n),o=Qn.getHostProps(e,n);break;case"select":Yn.initWrapperState(e,n),o=Yn.getHostProps(e,n),kn.trapBubbledEvent("topInvalid","invalid",e),W(r,"onChange");break;case"textarea":Jn.initWrapperState(e,n),o=Jn.getHostProps(e,n),kn.trapBubbledEvent("topInvalid","invalid",e),W(r,"onChange");break;default:o=n}F(t,o);var a,s=o;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];"style"===a?jn.setValueForStyles(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&tr(e,u):"children"===a?"string"==typeof u?ir(e,u):"number"==typeof u&&ir(e,""+u):"suppressContentEditableWarning"!==a&&(ur.hasOwnProperty(a)?null!=u&&W(r,a):i?Bn.setValueForAttribute(e,a,u):null!=u&&Bn.setValueForProperty(e,a,u))}switch(t){case"input":Zn.track(e),Kn.postMountWrapper(e,n);break;case"textarea":Zn.track(e),Jn.postMountWrapper(e,n);break;case"option":Qn.postMountWrapper(e,n);break;case"select":Yn.postMountWrapper(e,n);break;default:"function"==typeof o.onClick&&(e.onclick=_t)}},diffProperties:function(e,t,n,r,i){var o=null;switch(t){case"input":n=Kn.getHostProps(e,n),r=Kn.getHostProps(e,r),o=[];break;case"option":n=Qn.getHostProps(e,n),r=Qn.getHostProps(e,r),o=[];break;case"select":n=Yn.getHostProps(e,n),r=Yn.getHostProps(e,r),o=[];break;case"textarea":n=Jn.getHostProps(e,n),r=Jn.getHostProps(e,r),o=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=_t)}F(t,r);var a,s;e=null;for(a in n)if(!r.hasOwnProperty(a)&&n.hasOwnProperty(a)&&null!=n[a])if("style"===a)for(s in t=n[a])t.hasOwnProperty(s)&&(e||(e={}),e[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&(ur.hasOwnProperty(a)?o||(o=[]):(o=o||[]).push(a,null));for(a in r){var u=r[a];if(t=null!=n?n[a]:void 0,r.hasOwnProperty(a)&&u!==t&&(null!=u||null!=t))if("style"===a)if(t){for(s in t)!t.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(e||(e={}),e[s]="");for(s in u)u.hasOwnProperty(s)&&t[s]!==u[s]&&(e||(e={}),e[s]=u[s])}else e||(o||(o=[]),o.push(a,e)),e=u;else"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,t=t?t.__html:void 0,null!=u&&t!==u&&(o=o||[]).push(a,""+u)):"children"===a?t===u||"string"!=typeof u&&"number"!=typeof u||(o=o||[]).push(a,""+u):"suppressContentEditableWarning"!==a&&(ur.hasOwnProperty(a)?(null!=u&&W(i,a),o||t===u||(o=[])):(o=o||[]).push(a,u))}return e&&(o=o||[]).push("style",e),o},updateProperties:function(e,t,n,r,i){B(n,r),r=B(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?jn.setValueForStyles(e,s):"dangerouslySetInnerHTML"===a?tr(e,s):"children"===a?ir(e,s):r?null!=s?Bn.setValueForAttribute(e,a,s):Bn.deleteValueForAttribute(e,a):null!=s?Bn.setValueForProperty(e,a,s):Bn.deleteValueForProperty(e,a)}switch(n){case"input":Kn.updateWrapper(e,i),Zn.updateValueIfChanged(e);break;case"textarea":Jn.updateWrapper(e,i);break;case"select":Yn.postUpdateWrapper(e,i)}},diffHydratedProperties:function(e,t,n,r,i){switch(t){case"iframe":case"object":kn.trapBubbledEvent("topLoad","load",e);break;case"video":case"audio":for(var o in hr)hr.hasOwnProperty(o)&&kn.trapBubbledEvent(o,hr[o],e);break;case"source":kn.trapBubbledEvent("topError","error",e);break;case"img":case"image":kn.trapBubbledEvent("topError","error",e),kn.trapBubbledEvent("topLoad","load",e);break;case"form":kn.trapBubbledEvent("topReset","reset",e),kn.trapBubbledEvent("topSubmit","submit",e);break;case"details":kn.trapBubbledEvent("topToggle","toggle",e);break;case"input":Kn.initWrapperState(e,n),kn.trapBubbledEvent("topInvalid","invalid",e),W(i,"onChange");break;case"option":Qn.validateProps(e,n);break;case"select":Yn.initWrapperState(e,n),kn.trapBubbledEvent("topInvalid","invalid",e),W(i,"onChange");break;case"textarea":Jn.initWrapperState(e,n),kn.trapBubbledEvent("topInvalid","invalid",e),W(i,"onChange")}F(t,n),r=null;for(var a in n)n.hasOwnProperty(a)&&(o=n[a],"children"===a?"string"==typeof o?e.textContent!==o&&(r=["children",o]):"number"==typeof o&&e.textContent!==""+o&&(r=["children",""+o]):ur.hasOwnProperty(a)&&null!=o&&W(i,a));switch(t){case"input":Zn.track(e),Kn.postMountWrapper(e,n);break;case"textarea":Zn.track(e),Jn.postMountWrapper(e,n);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(e.onclick=_t)}return r},diffHydratedText:function(e,t){return e.nodeValue!==t},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":Kn.restoreControlledState(e,n);break;case"textarea":Jn.restoreControlledState(e,n);break;case"select":Yn.restoreControlledState(e,n)}}},pr=void 0;if(vt.canUseDOM)if("function"!=typeof requestIdleCallback){var dr=null,mr=null,vr=!1,gr=!1,yr=0,_r=33,br=33,wr={timeRemaining:"object"==typeof performance&&"function"==typeof performance.now?function(){return yr-performance.now()}:function(){return yr-Date.now()}},Er="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){e.source===window&&e.data===Er&&(vr=!1,e=mr,mr=null,null!==e&&e(wr))},!1);var Tr=function(e){gr=!1;var t=e-yr+br;t<br&&_r<br?(8>t&&(t=8),br=t<_r?_r:t):_r=t,yr=e+br,vr||(vr=!0,window.postMessage(Er,"*")),t=dr,dr=null,null!==t&&t(e)};pr=function(e){return mr=e,gr||(gr=!0,requestAnimationFrame(Tr)),0}}else pr=requestIdleCallback;else pr=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0}})}),0};var Sr,Cr,Ir={rIC:pr},Or={enableAsyncSubtreeAPI:!0},Ar={NoWork:0,SynchronousPriority:1,TaskPriority:2,HighPriority:3,LowPriority:4,OffscreenPriority:5},kr=Xt.Callback,Nr=Ar.NoWork,xr=Ar.SynchronousPriority,Pr=Ar.TaskPriority,Rr=Mt.ClassComponent,Lr=Mt.HostRoot,Dr=void 0,Mr=void 0,jr={addUpdate:function(e,t,n,r){Y(e,{priorityLevel:r,partialState:t,callback:n,isReplace:!1,isForced:!1,isTopLevelUnmount:!1,next:null})},addReplaceUpdate:function(e,t,n,r){Y(e,{priorityLevel:r,partialState:t,callback:n,isReplace:!0,isForced:!1,isTopLevelUnmount:!1,next:null})},addForceUpdate:function(e,t,n){Y(e,{priorityLevel:n,partialState:null,callback:t,isReplace:!1,isForced:!0,isTopLevelUnmount:!1,next:null})},getUpdatePriority:function(e){var t=e.updateQueue;return null===t||e.tag!==Rr&&e.tag!==Lr?Nr:null!==t.first?t.first.priorityLevel:Nr},addTopLevelUpdate:function(e,t,n,r){var i=null===t.element;t={priorityLevel:r,partialState:t,callback:n,isReplace:!1,isForced:!1,isTopLevelUnmount:i,next:null},e=Y(e,t),i&&(i=Dr,n=Mr,null!==i&&null!==t.next&&(t.next=null,i.last=t),null!==n&&null!==e&&null!==e.next&&(e.next=null,n.last=t))},beginUpdateQueue:function(e,t,n,r,i,o,a){null!==e&&e.updateQueue===n&&(n=t.updateQueue={first:n.first,last:n.last,callbackList:null,hasForceUpdate:!1}),e=n.callbackList;for(var s=n.hasForceUpdate,u=!0,c=n.first;null!==c&&0>=z(c.priorityLevel,a);){n.first=c.next,null===n.first&&(n.last=null);var l;c.isReplace?(i=X(c,r,i,o),u=!0):(l=X(c,r,i,o))&&(i=u?gt({},i,l):gt(i,l),u=!1),c.isForced&&(s=!0),null===c.callback||c.isTopLevelUnmount&&null!==c.next||(e=null!==e?e:[],e.push(c.callback),t.effectTag|=kr),c=c.next}return n.callbackList=e,n.hasForceUpdate=s,null!==n.first||null!==e||s||(t.updateQueue=null),i},commitCallbacks:function(e,t,n){if(null!==(e=t.callbackList))for(t.callbackList=null,t=0;t<e.length;t++){var i=e[t];"function"!=typeof i&&r("191",i),i.call(n)}}},Ur=[],Fr=-1,qr={createCursor:function(e){return{current:e}},isEmpty:function(){return-1===Fr},pop:function(e){0>Fr||(e.current=Ur[Fr],Ur[Fr]=null,Fr--)},push:function(e,t){Fr++,Ur[Fr]=e.current,e.current=t},reset:function(){for(;-1<Fr;)Ur[Fr]=null,Fr--}},Vr=rn.isFiberMounted,Br=Mt.ClassComponent,Hr=Mt.HostRoot,Wr=qr.createCursor,zr=qr.pop,Gr=qr.push,Kr=Wr(bt),Qr=Wr(!1),Yr=bt,Xr={getUnmaskedContext:function(e){return $(e)?Yr:Kr.current},cacheContext:J,getMaskedContext:function(e,t){var n=e.type.contextTypes;if(!n)return bt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&J(e,t,o),o},hasContextChanged:function(){return Qr.current},isContextConsumer:function(e){return e.tag===Br&&null!=e.type.contextTypes},isContextProvider:$,popContextProvider:function(e){$(e)&&(zr(Qr,e),zr(Kr,e))},popTopLevelContextObject:function(e){zr(Qr,e),zr(Kr,e)},pushTopLevelContextObject:function(e,t,n){null!=Kr.cursor&&r("168"),Gr(Kr,t,e),Gr(Qr,n,e)},processChildContext:Z,pushContextProvider:function(e){if(!$(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||bt,Yr=Kr.current,Gr(Kr,t,e),Gr(Qr,Qr.current,e),!0},invalidateContextProvider:function(e,t){var n=e.stateNode;if(n||r("169"),t){var i=Z(e,Yr);n.__reactInternalMemoizedMergedChildContext=i,zr(Qr,e),zr(Kr,e),Gr(Kr,i,e)}else zr(Qr,e);Gr(Qr,t,e)},resetContext:function(){Yr=bt,Kr.current=bt,Qr.current=!1},findCurrentUnmaskedContext:function(e){for(Vr(e)&&e.tag===Br?void 0:r("170");e.tag!==Hr;){if($(e))return e.stateNode.__reactInternalMemoizedMergedChildContext;(e=e.return)||r("171")}return e.stateNode.context}},Jr={NoContext:0,AsyncUpdates:1},$r=Mt.IndeterminateComponent,Zr=Mt.ClassComponent,ei=Mt.HostRoot,ti=Mt.HostComponent,ni=Mt.HostText,ri=Mt.HostPortal,ii=Mt.CoroutineComponent,oi=Mt.YieldComponent,ai=Mt.Fragment,si=Ar.NoWork,ui=Jr.NoContext,ci=Xt.NoEffect,li={createWorkInProgress:function(e,t){var n=e.alternate;return null===n?(n=new ee(e.tag,e.key,e.internalContextTag),n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.effectTag=ci,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.pendingWorkPriority=t,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n},createHostRootFiber:function(){return new ee(ei,null,ui)},createFiberFromElement:function(e,t,n){return t=te(e.type,e.key,t),t.pendingProps=e.props,t.pendingWorkPriority=n,t},createFiberFromFragment:function(e,t,n){return t=new ee(ai,null,t),t.pendingProps=e,t.pendingWorkPriority=n,t},createFiberFromText:function(e,t,n){return t=new ee(ni,null,t),t.pendingProps=e,t.pendingWorkPriority=n,t},createFiberFromElementType:te,createFiberFromHostInstanceForDeletion:function(){var e=new ee(ti,null,ui);return e.type="DELETED",e},createFiberFromCoroutine:function(e,t,n){return t=new ee(ii,e.key,t),t.type=e.handler,t.pendingProps=e,t.pendingWorkPriority=n,t},createFiberFromYield:function(e,t){return new ee(oi,null,t)},createFiberFromPortal:function(e,t,n){return t=new ee(ri,e.key,t),t.pendingProps=e.children||[],t.pendingWorkPriority=n,t.stateNode={containerInfo:e.containerInfo,implementation:e.implementation},t},largerPriority:function(e,t){return e!==si&&(t===si||t>e)?e:t}},hi=li.createHostRootFiber,fi=Mt.IndeterminateComponent,pi=Mt.FunctionalComponent,di=Mt.ClassComponent,mi=Mt.HostComponent;"function"==typeof Symbol&&Symbol.for?(Sr=Symbol.for("react.coroutine"),Cr=Symbol.for("react.yield")):(Sr=60104,Cr=60105);var vi={createCoroutine:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Sr,key:null==r?null:""+r,children:e,handler:t,props:n}},createYield:function(e){return{$$typeof:Cr,value:e}},isCoroutine:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Sr},isYield:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Cr},REACT_YIELD_TYPE:Cr,REACT_COROUTINE_TYPE:Sr},gi="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.portal")||60106,yi={createPortal:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:gi,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},isPortal:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===gi},REACT_PORTAL_TYPE:gi},_i=vi.REACT_COROUTINE_TYPE,bi=vi.REACT_YIELD_TYPE,wi=yi.REACT_PORTAL_TYPE,Ei=li.createWorkInProgress,Ti=li.createFiberFromElement,Si=li.createFiberFromFragment,Ci=li.createFiberFromText,Ii=li.createFiberFromCoroutine,Oi=li.createFiberFromYield,Ai=li.createFiberFromPortal,ki=Array.isArray,Ni=Mt.FunctionalComponent,xi=Mt.ClassComponent,Pi=Mt.HostText,Ri=Mt.HostPortal,Li=Mt.CoroutineComponent,Di=Mt.YieldComponent,Mi=Mt.Fragment,ji=Xt.NoEffect,Ui=Xt.Placement,Fi=Xt.Deletion,qi="function"==typeof Symbol&&Symbol.iterator,Vi="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Bi=oe(!0,!0),Hi=oe(!1,!0),Wi=oe(!1,!1),zi={reconcileChildFibers:Bi,reconcileChildFibersInPlace:Hi,mountChildFibersInPlace:Wi,cloneChildFibers:function(e,t){if(null!==e&&t.child!==e.child&&r("153"),null!==t.child){e=t.child;var n=Ei(e,e.pendingWorkPriority);for(n.pendingProps=e.pendingProps,t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=Ei(e,e.pendingWorkPriority),n.pendingProps=e.pendingProps,n.return=t;n.sibling=null}}},Gi=Xt.Update,Ki=Jr.AsyncUpdates,Qi=Xr.cacheContext,Yi=Xr.getMaskedContext,Xi=Xr.getUnmaskedContext,Ji=Xr.isContextConsumer,$i=jr.addUpdate,Zi=jr.addReplaceUpdate,eo=jr.addForceUpdate,to=jr.beginUpdateQueue,no=Xr.hasContextChanged,ro=rn.isMounted,io=zi.mountChildFibersInPlace,oo=zi.reconcileChildFibers,ao=zi.reconcileChildFibersInPlace,so=zi.cloneChildFibers,uo=jr.beginUpdateQueue,co=Xr.getMaskedContext,lo=Xr.getUnmaskedContext,ho=Xr.hasContextChanged,fo=Xr.pushContextProvider,po=Xr.pushTopLevelContextObject,mo=Xr.invalidateContextProvider,vo=Mt.IndeterminateComponent,go=Mt.FunctionalComponent,yo=Mt.ClassComponent,_o=Mt.HostRoot,bo=Mt.HostComponent,wo=Mt.HostText,Eo=Mt.HostPortal,To=Mt.CoroutineComponent,So=Mt.CoroutineHandlerPhase,Co=Mt.YieldComponent,Io=Mt.Fragment,Oo=Ar.NoWork,Ao=Ar.OffscreenPriority,ko=Xt.PerformedWork,No=Xt.Placement,xo=Xt.ContentReset,Po=Xt.Err,Ro=Xt.Ref,Lo=Yt.ReactCurrentOwner,Do=zi.reconcileChildFibers,Mo=Xr.popContextProvider,jo=Xr.popTopLevelContextObject,Uo=Mt.IndeterminateComponent,Fo=Mt.FunctionalComponent,qo=Mt.ClassComponent,Vo=Mt.HostRoot,Bo=Mt.HostComponent,Ho=Mt.HostText,Wo=Mt.HostPortal,zo=Mt.CoroutineComponent,Go=Mt.CoroutineHandlerPhase,Ko=Mt.YieldComponent,Qo=Mt.Fragment,Yo=Xt.Placement,Xo=Xt.Ref,Jo=Xt.Update,$o=Ar.OffscreenPriority,Zo=null,ea=null,ta={injectInternals:function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.supportsFiber)return!0;try{var n=t.inject(e);Zo=ce(function(e){return t.onCommitFiberRoot(n,e)}),ea=ce(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0},onCommitRoot:function(e){"function"==typeof Zo&&Zo(e)},onCommitUnmount:function(e){"function"==typeof ea&&ea(e)}},na=Mt.ClassComponent,ra=Mt.HostRoot,ia=Mt.HostComponent,oa=Mt.HostText,aa=Mt.HostPortal,sa=Mt.CoroutineComponent,ua=jr.commitCallbacks,ca=ta.onCommitUnmount,la=Xt.Placement,ha=Xt.Update,fa=Xt.Callback,pa=Xt.ContentReset,da=qr.createCursor,ma=qr.pop,va=qr.push,ga={},ya=Mt.HostComponent,_a=Mt.HostText,ba=Mt.HostRoot,wa=Xt.Deletion,Ea=Xt.Placement,Ta=li.createFiberFromHostInstanceForDeletion,Sa=Xr.popContextProvider,Ca=qr.reset,Ia=Yt.ReactCurrentOwner,Oa=li.createWorkInProgress,Aa=li.largerPriority,ka=ta.onCommitRoot,Na=Ar.NoWork,xa=Ar.SynchronousPriority,Pa=Ar.TaskPriority,Ra=Ar.HighPriority,La=Ar.LowPriority,Da=Ar.OffscreenPriority,Ma=Jr.AsyncUpdates,ja=Xt.PerformedWork,Ua=Xt.Placement,Fa=Xt.Update,qa=Xt.PlacementAndUpdate,Va=Xt.Deletion,Ba=Xt.ContentReset,Ha=Xt.Callback,Wa=Xt.Err,za=Xt.Ref,Ga=Mt.HostRoot,Ka=Mt.HostComponent,Qa=Mt.HostPortal,Ya=Mt.ClassComponent,Xa=jr.getUpdatePriority,Ja=Xr.resetContext;me._injectFiber=function(e){de=e};var $a=jr.addTopLevelUpdate,Za=Xr.findCurrentUnmaskedContext,es=Xr.isContextProvider,ts=Xr.processChildContext,ns=Mt.HostComponent,rs=rn.findCurrentHostFiber,is=rn.findCurrentHostFiberWithNoPortals;me._injectFiber(function(e){var t=Za(e);return es(e)?ts(e,t,!1):t});var os=jt.TEXT_NODE,as=null,ss={getOffsets:function(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,i=t.focusNode,o=t.focusOffset,a=t.getRangeAt(0);try{a.startContainer.nodeType,a.endContainer.nodeType}catch(e){return null}t=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset?0:a.toString().length;var s=a.cloneRange();return s.selectNodeContents(e),s.setEnd(a.startContainer,a.startOffset),e=s.startContainer===s.endContainer&&s.startOffset===s.endOffset?0:s.toString().length,a=e+t,t=document.createRange(),t.setStart(n,r),t.setEnd(i,o),n=t.collapsed,{start:n?a:e,end:n?e:a}},setOffsets:function(e,t){if(window.getSelection){var n=window.getSelection(),r=e[ye()].length,i=Math.min(t.start,r);if(t=void 0===t.end?i:Math.min(t.end,r),!n.extend&&i>t&&(r=t,t=i,i=r),r=ge(e,i),e=ge(e,t),r&&e){var o=document.createRange();o.setStart(r.node,r.offset),n.removeAllRanges(),i>t?(n.addRange(o),n.extend(e.node,e.offset)):(o.setEnd(e.node,e.offset),n.addRange(o))}}}},us=jt.ELEMENT_NODE,cs={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=St();return{focusedElem:e,selectionRange:cs.hasSelectionCapabilities(e)?cs.getSelection(e):null}},restoreSelection:function(e){var t=St(),n=e.focusedElem;if(e=e.selectionRange,t!==n&&Et(document.documentElement,n)){for(cs.hasSelectionCapabilities(n)&&cs.setSelection(n,e),t=[],e=n;e=e.parentNode;)e.nodeType===us&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(Tt(n),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}},getSelection:function(e){return("selectionStart"in e?{start:e.selectionStart,end:e.selectionEnd}:ss.getOffsets(e))||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;void 0===r&&(r=n),"selectionStart"in e?(e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length)):ss.setOffsets(e,t)}},ls=cs,hs=jt.ELEMENT_NODE;we._injectFiber=function(e){_e=e},we._injectStack=function(e){be=e};var fs=Mt.HostComponent,ps={isAncestor:function(e,t){for(;t;){if(e===t||e===t.alternate)return!0;t=Ee(t)}return!1},getLowestCommonAncestor:Te,getParentInstance:function(e){return Ee(e)},traverseTwoPhase:function(e,t,n){for(var r=[];e;)r.push(e),e=Ee(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)},traverseEnterLeave:function(e,t,n,r,i){for(var o=e&&t?Te(e,t):null,a=[];e&&e!==o;)a.push(e),e=Ee(e);for(e=[];t&&t!==o;)e.push(t),t=Ee(t);for(t=0;t<a.length;t++)n(a[t],"bubbled",r);for(t=e.length;0<t--;)n(e[t],"captured",i)}},ds=wn.getListener,ms={accumulateTwoPhaseDispatches:function(e){I(e,Ce)},accumulateTwoPhaseDispatchesSkipTarget:function(e){I(e,Ie)},accumulateDirectDispatches:function(e){I(e,Ae)},accumulateEnterLeaveDispatches:function(e,t,n,r){ps.traverseEnterLeave(n,r,Oe,e,t)}},vs={_root:null,_startText:null,_fallbackText:null},gs={initialize:function(e){return vs._root=e,vs._startText=gs.getText(),!0},reset:function(){vs._root=null,vs._startText=null,vs._fallbackText=null},getData:function(){if(vs._fallbackText)return vs._fallbackText;var e,t,n=vs._startText,r=n.length,i=gs.getText(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return vs._fallbackText=i.slice(e,1<t?1-t:void 0),vs._fallbackText},getText:function(){return"value"in vs._root?vs._root.value:vs._root[ye()]}},ys=gs,_s="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),bs={type:null,target:null,currentTarget:_t.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};gt(ke.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=_t.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=_t.thatReturnsTrue)},persist:function(){this.isPersistent=_t.thatReturnsTrue},isPersistent:_t.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<_s.length;t++)this[_s[t]]=null}}),ke.Interface=bs,ke.augmentClass=function(e,t){function n(){}n.prototype=this.prototype;var r=new n;gt(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=gt({},this.Interface,t),e.augmentClass=this.augmentClass,Pe(e)},Pe(ke),ke.augmentClass(Re,{data:null}),ke.augmentClass(Le,{data:null});var ws=[9,13,27,32],Es=vt.canUseDOM&&"CompositionEvent"in window,Ts=null;vt.canUseDOM&&"documentMode"in document&&(Ts=document.documentMode);var Ss;if(Ss=vt.canUseDOM&&"TextEvent"in window&&!Ts){var Cs=window.opera;Ss=!("object"==typeof Cs&&"function"==typeof Cs.version&&12>=parseInt(Cs.version(),10))}var Is=Ss,Os=vt.canUseDOM&&(!Es||Ts&&8<Ts&&11>=Ts),As=String.fromCharCode(32),ks={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},Ns=!1,xs=!1,Ps={eventTypes:ks,extractEvents:function(e,t,n,r){var i;if(Es)e:{switch(e){case"topCompositionStart":var o=ks.compositionStart;break e;case"topCompositionEnd":o=ks.compositionEnd;break e;case"topCompositionUpdate":o=ks.compositionUpdate;break e}o=void 0}else xs?De(e,n)&&(o=ks.compositionEnd):"topKeyDown"===e&&229===n.keyCode&&(o=ks.compositionStart);return o?(Os&&(xs||o!==ks.compositionStart?o===ks.compositionEnd&&xs&&(i=ys.getData()):xs=ys.initialize(r)),o=Re.getPooled(o,t,n,r),i?o.data=i:null!==(i=Me(n))&&(o.data=i),ms.accumulateTwoPhaseDispatches(o),i=o):i=null,(e=Is?je(e,n):Ue(e,n))?(t=Le.getPooled(ks.beforeInput,t,n,r),t.data=e,ms.accumulateTwoPhaseDispatches(t)):t=null,[i,t]}},Rs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ls={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Ds=null,Ms=null,js=!1;vt.canUseDOM&&(js=x("input")&&(!document.documentMode||9<document.documentMode));var Us={eventTypes:Ls,_isInputEventSupported:js,extractEvents:function(e,t,n,r){var i=t?Kt.getNodeFromInstance(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=He;else if(Fe(i))if(js)a=Ye;else{a=Ke;var s=Ge}else!(o=i.nodeName)||"input"!==o.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type||(a=Qe);if(a&&(a=a(e,t)))return qe(a,n,r);s&&s(e,i,t),"topBlur"===e&&null!=t&&(e=t._wrapperState||i._wrapperState)&&e.controlled&&"number"===i.type&&(e=""+i.value,i.getAttribute("value")!==e&&i.setAttribute("value",e))}};ke.augmentClass(Xe,{view:function(e){return e.view?e.view:(e=T(e),e.window===e?e:(e=e.ownerDocument)?e.defaultView||e.parentWindow:window)},detail:function(e){return e.detail||0}});var Fs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};Xe.augmentClass(Ze,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:$e,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}});var qs={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Vs={eventTypes:qs,extractEvents:function(e,t,n,r){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==e&&"topMouseOver"!==e)return null;var i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window;if("topMouseOut"===e?(e=t,t=(t=n.relatedTarget||n.toElement)?Kt.getClosestInstanceFromNode(t):null):e=null,e===t)return null;var o=null==e?i:Kt.getNodeFromInstance(e);i=null==t?i:Kt.getNodeFromInstance(t);var a=Ze.getPooled(qs.mouseLeave,e,n,r);return a.type="mouseleave",a.target=o,a.relatedTarget=i,n=Ze.getPooled(qs.mouseEnter,t,n,r),n.type="mouseenter",n.target=i,n.relatedTarget=o,ms.accumulateEnterLeaveDispatches(a,n,e,t),[a,n]}},Bs=jt.DOCUMENT_NODE,Hs=vt.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Ws={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},zs=null,Gs=null,Ks=null,Qs=!1,Ys=kn.isListeningToAllDependencies,Xs={eventTypes:Ws,extractEvents:function(e,t,n,r){var i=r.window===r?r.document:r.nodeType===Bs?r:r.ownerDocument;if(!i||!Ys("onSelect",i))return null;switch(i=t?Kt.getNodeFromInstance(t):window,e){case"topFocus":(Fe(i)||"true"===i.contentEditable)&&(zs=i,Gs=t,Ks=null);break;case"topBlur":Ks=Gs=zs=null;break;case"topMouseDown":Qs=!0;break;case"topContextMenu":case"topMouseUp":return Qs=!1,et(n,r);case"topSelectionChange":if(Hs)break;case"topKeyDown":case"topKeyUp":return et(n,r)}return null}};ke.augmentClass(tt,{animationName:null,elapsedTime:null,pseudoElement:null}),ke.augmentClass(nt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xe.augmentClass(rt,{relatedTarget:null});var Js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};Xe.augmentClass(ot,{key:function(e){if(e.key){var t=Js[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=it(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?$s[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:$e,charCode:function(e){return"keypress"===e.type?it(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?it(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ze.augmentClass(at,{dataTransfer:null}),Xe.augmentClass(st,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:$e}),ke.augmentClass(ut,{propertyName:null,elapsedTime:null,pseudoElement:null}),Ze.augmentClass(ct,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null});var Zs={},eu={};"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t;t="top"+t,n={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[t]},Zs[e]=n,eu[t]=n});var tu={eventTypes:Zs,extractEvents:function(e,t,n,i){var o=eu[e];if(!o)return null;switch(e){case"topAbort":case"topCancel":case"topCanPlay":case"topCanPlayThrough":case"topClose":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topToggle":case"topVolumeChange":case"topWaiting":var a=ke;break;case"topKeyPress":if(0===it(n))return null;case"topKeyDown":case"topKeyUp":a=ot;break;case"topBlur":case"topFocus":a=rt;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=Ze;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=at;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=st;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=tt;break;case"topTransitionEnd":a=ut;break;case"topScroll":a=Xe;break;case"topWheel":a=ct;break;case"topCopy":case"topCut":case"topPaste":a=nt}return a||r("86",e),e=a.getPooled(o,t,n,i),ms.accumulateTwoPhaseDispatches(e),e}};_n.setHandleTopLevel(kn.handleTopLevel),wn.injection.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),un.injection.injectComponentTree(Kt),wn.injection.injectEventPluginsByName({SimpleEventPlugin:tu,EnterLeaveEventPlugin:Vs,ChangeEventPlugin:Us,SelectEventPlugin:Xs,BeforeInputEventPlugin:Ps});var nu=Dt.injection.MUST_USE_PROPERTY,ru=Dt.injection.HAS_BOOLEAN_VALUE,iu=Dt.injection.HAS_NUMERIC_VALUE,ou=Dt.injection.HAS_POSITIVE_NUMERIC_VALUE,au=Dt.injection.HAS_STRING_BOOLEAN_VALUE,su={Properties:{allowFullScreen:ru,allowTransparency:au,async:ru,autoPlay:ru,capture:ru,checked:nu|ru,cols:ou,contentEditable:au,controls:ru,default:ru,defer:ru,disabled:ru,download:Dt.injection.HAS_OVERLOADED_BOOLEAN_VALUE,draggable:au,formNoValidate:ru,hidden:ru,loop:ru,multiple:nu|ru,muted:nu|ru,noValidate:ru,open:ru,playsInline:ru,readOnly:ru,required:ru,reversed:ru,rows:ou,rowSpan:iu,scoped:ru,seamless:ru,selected:nu|ru,size:ou,start:iu,span:ou,spellCheck:au,style:0,itemScope:ru,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:au},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}},uu=Dt.injection.HAS_STRING_BOOLEAN_VALUE,cu={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},lu={Properties:{autoReverse:uu,externalResourcesRequired:uu,preserveAlpha:uu},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:cu.xlink,xlinkArcrole:cu.xlink,xlinkHref:cu.xlink,xlinkRole:cu.xlink,xlinkShow:cu.xlink,xlinkTitle:cu.xlink,xlinkType:cu.xlink,xmlBase:cu.xml,xmlLang:cu.xml,xmlSpace:cu.xml}},hu=/[\-\:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach(function(e){var t=e.replace(hu,lt);lu.Properties[t]=0,lu.DOMAttributeNames[t]=e}),Dt.injection.injectDOMPropertyConfig(su),Dt.injection.injectDOMPropertyConfig(lu);var fu=ta.injectInternals,pu=jt.ELEMENT_NODE,du=jt.TEXT_NODE,mu=jt.COMMENT_NODE,vu=jt.DOCUMENT_NODE,gu=jt.DOCUMENT_FRAGMENT_NODE,yu=Dt.ROOT_ATTRIBUTE_NAME,_u=Ot.getChildNamespace,bu=fr.createElement,wu=fr.createTextNode,Eu=fr.setInitialProperties,Tu=fr.diffProperties,Su=fr.updateProperties,Cu=fr.diffHydratedProperties,Iu=fr.diffHydratedText,Ou=fr.warnForDeletedHydratableElement,Au=fr.warnForDeletedHydratableText,ku=fr.warnForInsertedHydratedElement,Nu=fr.warnForInsertedHydratedText,xu=Kt.precacheFiberNode,Pu=Kt.updateFiberProps;fn.injection.injectFiberControlledHostComponent(fr),we._injectFiber(function(e){return Du.findHostInstance(e)});var Ru=null,Lu=null,Du=function(e){var t=e.getPublicInstance;e=pe(e);var n=e.scheduleUpdate,r=e.getPriorityContext;return{createContainer:function(e){var t=hi();return e={current:t,containerInfo:e,isScheduled:!1,nextScheduledRoot:null,context:null,pendingContext:null},t.stateNode=e},updateContainer:function(e,t,i,o){var a=t.current;i=me(i),null===t.context?t.context=i:t.pendingContext=i,t=o,o=r(a,Or.enableAsyncSubtreeAPI&&null!=e&&null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent),e={element:e},$a(a,e,void 0===t?null:t,o),n(a,o)},batchedUpdates:e.batchedUpdates,unbatchedUpdates:e.unbatchedUpdates,deferredUpdates:e.deferredUpdates,flushSync:e.flushSync,getPublicRootInstance:function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case ns:return t(e.child.stateNode);default:return e.child.stateNode}},findHostInstance:function(e){return e=rs(e),null===e?null:e.stateNode},findHostInstanceWithNoPortals:function(e){return e=is(e),null===e?null:e.stateNode}}}({getRootHostContext:function(e){if(e.nodeType===vu)e=(e=e.documentElement)?e.namespaceURI:_u(null,"");else{var t=e.nodeType===mu?e.parentNode:e;e=t.namespaceURI||null,t=t.tagName,e=_u(e,t)}return e},getChildHostContext:function(e,t){return _u(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){Ru=kn.isEnabled(),Lu=ls.getSelectionInformation(),kn.setEnabled(!1)},resetAfterCommit:function(){ls.restoreSelection(Lu),Lu=null,kn.setEnabled(Ru),Ru=null},createInstance:function(e,t,n,r,i){return e=bu(e,t,n,r),xu(i,e),Pu(e,t),e},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){Eu(e,t,n,r);e:{switch(t){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e}e=!1}return e},prepareUpdate:function(e,t,n,r,i){return Tu(e,t,n,r,i)},commitMount:function(e){e.focus()},commitUpdate:function(e,t,n,r,i){Pu(e,i),Su(e,t,n,r,i)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html},resetTextContent:function(e){e.textContent=""},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){return e=wu(e,t),xu(r,e),e},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){e.nodeType===mu?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){e.nodeType===mu?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){e.nodeType===mu?e.parentNode.removeChild(t):e.removeChild(t)},canHydrateInstance:function(e,t){return e.nodeType===pu&&t===e.nodeName.toLowerCase()},canHydrateTextInstance:function(e,t){return""!==t&&e.nodeType===du},getNextHydratableSibling:function(e){for(e=e.nextSibling;e&&e.nodeType!==pu&&e.nodeType!==du;)e=e.nextSibling;return e},getFirstHydratableChild:function(e){for(e=e.firstChild;e&&e.nodeType!==pu&&e.nodeType!==du;)e=e.nextSibling;return e},hydrateInstance:function(e,t,n,r,i,o){return xu(o,e),Pu(e,n),Cu(e,t,n,i,r)},hydrateTextInstance:function(e,t,n){return xu(n,e),Iu(e,t)},didNotHydrateInstance:function(e,t){1===t.nodeType?Ou(e,t):Au(e,t)},didNotFindHydratableInstance:function(e,t,n){ku(e,t,n)},didNotFindHydratableTextInstance:function(e,t){Nu(e,t)},scheduleDeferredCallback:Ir.rIC,useSyncScheduling:!0});dn.injection.injectFiberBatchedUpdates(Du.batchedUpdates);var Mu={createPortal:dt,hydrate:function(e,t,n){return pt(null,e,t,!0,n)},render:function(e,t,n){return pt(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){return null!=e&&Qt.has(e)||r("38"),pt(e,t,n,!1,i)},unmountComponentAtNode:function(e){return ht(e)||r("40"),!!e._reactRootContainer&&(Du.unbatchedUpdates(function(){pt(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},findDOMNode:we,unstable_createPortal:dt,unstable_batchedUpdates:dn.batchedUpdates,unstable_deferredUpdates:Du.deferredUpdates,flushSync:Du.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:wn,EventPluginRegistry:xt,EventPropagators:ms,ReactControlledComponent:fn,ReactDOMComponentTree:Kt,ReactDOMEventListener:_n}};fu({findFiberByHostInstance:Kt.getClosestInstanceFromNode,findHostInstanceByFiber:Du.findHostInstance,bundleType:0,version:"16.0.0",rendererPackageName:"react-dom"}),e.exports=Mu},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t,n){"use strict";var r=n(79),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;e.exports=i},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(385);e.exports=r},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(386);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=r},function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}e.exports=r},function(e,t,n){"use strict";function r(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(13),s=n.n(a),u=n(1),c=n.n(u),l=n(11),h=n.n(l),f=n(154),p=n.n(f),d=n(111),m=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(u))),o.history=p()(o.props),a=n,i(o,a)}return o(t,e),t.prototype.componentWillMount=function(){s()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},t.prototype.render=function(){return c.a.createElement(d.a,{history:this.history,children:this.props.children})},t}(c.a.Component);m.propTypes={basename:h.a.string,forceRefresh:h.a.bool,getUserConfirmation:h.a.func,keyLength:h.a.number,children:h.a.node},t.a=m},function(e,t,n){"use strict";var r=n(79),i=n(108),o=n(391);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(13),s=n.n(a),u=n(1),c=n.n(u),l=n(11),h=n.n(l),f=n(393),p=n.n(f),d=n(111);((function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(u))),o.history=p()(o.props),a=n,i(o,a)}return o(t,e),t.prototype.componentWillMount=function(){s()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},t.prototype.render=function(){return c.a.createElement(d.a,{history:this.history,children:this.props.children})},t})(c.a.Component)).propTypes={basename:h.a.string,getUserConfirmation:h.a.func,hashType:h.a.oneOf(["hashbang","noslash","slash"]),children:h.a.node}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(13),a=r(o),s=n(27),u=r(s),c=n(109),l=n(61),h=n(110),f=r(h),p=n(157),d={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+(0,l.stripLeadingSlash)(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:l.stripLeadingSlash,decodePath:l.addLeadingSlash},slash:{encodePath:l.addLeadingSlash,decodePath:l.addLeadingSlash}},m=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},v=function(e){return window.location.hash=e},g=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)(p.canUseDOM,"Hash history needs a DOM");var t=window.history,n=(0,p.supportsGoWithoutReloadUsingHash)(),r=e.getUserConfirmation,o=void 0===r?p.getConfirmation:r,s=e.hashType,h=void 0===s?"slash":s,y=e.basename?(0,l.stripTrailingSlash)((0,l.addLeadingSlash)(e.basename)):"",_=d[h],b=_.encodePath,w=_.decodePath,E=function(){var e=w(m());return(0,a.default)(!y||(0,l.hasBasename)(e,y),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+y+'".'),y&&(e=(0,l.stripBasename)(e,y)),(0,c.createLocation)(e)},T=(0,f.default)(),S=function(e){i(z,e),z.length=t.length,T.notifyListeners(z.location,z.action)},C=!1,I=null,O=function(){var e=m(),t=b(e);if(e!==t)g(t);else{var n=E(),r=z.location;if(!C&&(0,c.locationsAreEqual)(r,n))return;if(I===(0,l.createPath)(n))return;I=null,A(n)}},A=function(e){C?(C=!1,S()):T.confirmTransitionTo(e,"POP",o,function(t){t?S({action:"POP",location:e}):k(e)})},k=function(e){var t=z.location,n=R.lastIndexOf((0,l.createPath)(t));-1===n&&(n=0);var r=R.lastIndexOf((0,l.createPath)(e));-1===r&&(r=0);var i=n-r;i&&(C=!0,j(i))},N=m(),x=b(N);N!==x&&g(x);var P=E(),R=[(0,l.createPath)(P)],L=function(e){return"#"+b(y+(0,l.createPath)(e))},D=function(e,t){(0,a.default)(void 0===t,"Hash history cannot push state; it is ignored");var n=(0,c.createLocation)(e,void 0,void 0,z.location);T.confirmTransitionTo(n,"PUSH",o,function(e){if(e){var t=(0,l.createPath)(n),r=b(y+t);if(m()!==r){I=t,v(r);var i=R.lastIndexOf((0,l.createPath)(z.location)),o=R.slice(0,-1===i?0:i+1);o.push(t),R=o,S({action:"PUSH",location:n})}else(0,a.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),S()}})},M=function(e,t){(0,a.default)(void 0===t,"Hash history cannot replace state; it is ignored");var n=(0,c.createLocation)(e,void 0,void 0,z.location);T.confirmTransitionTo(n,"REPLACE",o,function(e){if(e){var t=(0,l.createPath)(n),r=b(y+t);m()!==r&&(I=t,g(r));var i=R.indexOf((0,l.createPath)(z.location));-1!==i&&(R[i]=t),S({action:"REPLACE",location:n})}})},j=function(e){(0,a.default)(n,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},U=function(){return j(-1)},F=function(){return j(1)},q=0,V=function(e){q+=e,1===q?(0,p.addEventListener)(window,"hashchange",O):0===q&&(0,p.removeEventListener)(window,"hashchange",O)},B=!1,H=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=T.setPrompt(e);return B||(V(1),B=!0),function(){return B&&(B=!1,V(-1)),t()}},W=function(e){var t=T.appendListener(e);return V(1),function(){V(-1),t()}},z={length:t.length,action:"POP",location:P,createHref:L,push:D,replace:M,go:j,goBack:U,goForward:F,block:H,listen:W};return z};t.default=y},function(e,t,n){"use strict";n(395).a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(13),s=n.n(a),u=n(1),c=n.n(u),l=n(11),h=n.n(l),f=n(396),p=n.n(f),d=n(112),m=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,e.call.apply(e,[this].concat(u))),o.history=p()(o.props),a=n,i(o,a)}return o(t,e),t.prototype.componentWillMount=function(){s()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},t.prototype.render=function(){return c.a.createElement(d.a,{history:this.history,children:this.props.children})},t}(c.a.Component);m.propTypes={initialEntries:h.a.array,initialIndex:h.a.number,getUserConfirmation:h.a.func,keyLength:h.a.number,children:h.a.node},t.a=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(13),s=r(a),u=n(61),c=n(109),l=n(110),h=r(l),f=function(e,t,n){return Math.min(Math.max(e,t),n)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getUserConfirmation,n=e.initialEntries,r=void 0===n?["/"]:n,a=e.initialIndex,l=void 0===a?0:a,p=e.keyLength,d=void 0===p?6:p,m=(0,h.default)(),v=function(e){o(k,e),k.length=k.entries.length,m.notifyListeners(k.location,k.action)},g=function(){return Math.random().toString(36).substr(2,d)},y=f(l,0,r.length-1),_=r.map(function(e){return"string"==typeof e?(0,c.createLocation)(e,void 0,g()):(0,c.createLocation)(e,void 0,e.key||g())}),b=u.createPath,w=function(e,n){(0,s.default)(!("object"===(void 0===e?"undefined":i(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r=(0,c.createLocation)(e,n,g(),k.location);m.confirmTransitionTo(r,"PUSH",t,function(e){if(e){var t=k.index,n=t+1,i=k.entries.slice(0);i.length>n?i.splice(n,i.length-n,r):i.push(r),v({action:"PUSH",location:r,index:n,entries:i})}})},E=function(e,n){(0,s.default)(!("object"===(void 0===e?"undefined":i(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=(0,c.createLocation)(e,n,g(),k.location);m.confirmTransitionTo(r,"REPLACE",t,function(e){e&&(k.entries[k.index]=r,v({action:"REPLACE",location:r}))})},T=function(e){var n=f(k.index+e,0,k.entries.length-1),r=k.entries[n];m.confirmTransitionTo(r,"POP",t,function(e){e?v({action:"POP",location:r,index:n}):v()})},S=function(){return T(-1)},C=function(){return T(1)},I=function(e){var t=k.index+e;return t>=0&&t<k.entries.length},O=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m.setPrompt(e)},A=function(e){return m.appendListener(e)},k={length:_.length,action:"POP",location:_[y],index:y,entries:_,createHref:b,push:w,replace:E,go:T,goBack:S,goForward:C,canGo:I,block:O,listen:A};return k};t.default=p},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(1),o=n.n(i),a=n(11),s=n.n(a),u=n(159),c=n(158),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(e){var t=e.to,n=e.exact,i=e.strict,a=e.location,s=e.activeClassName,f=e.className,p=e.activeStyle,d=e.style,m=e.isActive,v=e.ariaCurrent,g=r(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","ariaCurrent"]);return o.a.createElement(u.a,{path:"object"===(void 0===t?"undefined":h(t))?t.pathname:t,exact:n,strict:i,location:a,children:function(e){var n=e.location,r=e.match,i=!!(m?m(r,n):r);return o.a.createElement(c.a,l({to:t,className:i?[f,s].filter(function(e){return e}).join(" "):f,style:i?l({},d,p):d,"aria-current":i&&v},g))}})};f.propTypes={to:c.a.propTypes.to,exact:s.a.bool,strict:s.a.bool,location:s.a.object,activeClassName:s.a.string,className:s.a.string,activeStyle:s.a.object,style:s.a.object,isActive:s.a.func,ariaCurrent:s.a.oneOf(["page","step","location","true"])},f.defaultProps={activeClassName:"active",ariaCurrent:"true"}},function(e,t,n){function r(e,t){for(var n,r=[],i=0,o=0,a="",s=t&&t.delimiter||"/";null!=(n=y.exec(e));){var l=n[0],h=n[1],f=n.index;if(a+=e.slice(o,f),o=f+l.length,h)a+=h[1];else{var p=e[o],d=n[2],m=n[3],v=n[4],g=n[5],_=n[6],b=n[7];a&&(r.push(a),a="");var w=null!=d&&null!=p&&p!==d,E="+"===_||"*"===_,T="?"===_||"*"===_,S=n[2]||s,C=v||g;r.push({name:m||i++,prefix:d||"",delimiter:S,optional:T,repeat:E,partial:w,asterisk:!!b,pattern:C?c(C):b?".*":"[^"+u(S)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&r.push(a),r}function i(e,t){return s(r(e,t))}function o(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function a(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var i="",s=n||{},u=r||{},c=u.pretty?o:encodeURIComponent,l=0;l<e.length;l++){var h=e[l];if("string"!=typeof h){var f,p=s[h.name];if(null==p){if(h.optional){h.partial&&(i+=h.prefix);continue}throw new TypeError('Expected "'+h.name+'" to be defined')}if(g(p)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var d=0;d<p.length;d++){if(f=c(p[d]),!t[l].test(f))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received `'+JSON.stringify(f)+"`");i+=(0===d?h.prefix:h.delimiter)+f}}else{if(f=h.asterisk?a(p):c(p),!t[l].test(f))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+f+'"');i+=h.prefix+f}}else i+=h}return i}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function h(e){return e.sensitive?"":"i"}function f(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}function p(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(v(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",h(n)),t)}function d(e,t,n){return m(r(e,n),t,n)}function m(e,t,n){g(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",a=0;a<e.length;a++){var s=e[a];if("string"==typeof s)o+=u(s);else{var c=u(s.prefix),f="(?:"+s.pattern+")";t.push(s),s.repeat&&(f+="(?:"+c+f+")*"),f=s.optional?s.partial?c+"("+f+")?":"(?:"+c+"("+f+"))?":c+"("+f+")",o+=f}}var p=u(n.delimiter||"/"),d=o.slice(-p.length)===p;return r||(o=(d?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=i?"$":r&&d?"":"(?="+p+"|$)",l(new RegExp("^"+o,h(n)),t)}function v(e,t,n){return g(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?f(e,t):g(e)?p(e,t,n):d(e,t,n)}var g=n(399);e.exports=v,e.exports.parse=r,e.exports.compile=i,e.exports.tokensToFunction=s,e.exports.tokensToRegExp=m;var y=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";n(401).a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(11),c=n.n(u),l=n(27),h=n.n(l),f=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){h()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(s.a.Component);f.propTypes={when:c.a.bool,message:c.a.oneOfType([c.a.func,c.a.string]).isRequired},f.defaultProps={when:!0},f.contextTypes={router:c.a.shape({history:c.a.shape({block:c.a.func.isRequired}).isRequired}).isRequired},t.a=f},function(e,t,n){"use strict";var r=n(403);t.a=r.a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(11),c=n.n(u),l=n(13),h=n.n(l),f=n(27),p=n.n(f),d=n(404),m=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){p()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=Object(d.a)(e.to),n=Object(d.a)(this.props.to);if(Object(d.b)(t,n))return void h()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"');this.perform()},t.prototype.perform=function(){var e=this.context.router.history,t=this.props,n=t.push,r=t.to;n?e.push(r):e.replace(r)},t.prototype.render=function(){return null},t}(s.a.Component);m.propTypes={push:c.a.bool,from:c.a.string,to:c.a.oneOfType([c.a.string,c.a.object]).isRequired},m.defaultProps={push:!1},m.contextTypes={router:c.a.shape({history:c.a.shape({push:c.a.func.isRequired,replace:c.a.func.isRequired}).isRequired,staticContext:c.a.object}).isRequired},t.a=m},function(e,t,n){"use strict";var r=(n(405),n(406),n(407),n(80));n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b}),n(62)},function(e,t,n){"use strict";var r=n(13),i=(n.n(r),n(27));n.n(i),n(80),n(62),n(114),n(161),"function"==typeof Symbol&&Symbol.iterator,Object.assign},function(e,t,n){"use strict";var r=n(13),i=(n.n(r),n(27)),o=(n.n(i),n(80),n(62));n(114),n(161),Object.assign,o.f,o.a,o.a,o.a},function(e,t,n){"use strict";var r=n(13);n.n(r),n(62),n(80),n(114),"function"==typeof Symbol&&Symbol.iterator,Object.assign},function(e,t,n){"use strict";n(409).a},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(13),u=n.n(s),c=n(27),l=n.n(c),h=n(1),f=n.n(h),p=n(11),d=n.n(p),m=n(61),v=(n.n(m),n(112)),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=function(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return{pathname:n,search:"?"===i?"":i,hash:"#"===a?"":a}},_=function(e,t){return e?g({},t,{pathname:Object(m.addLeadingSlash)(e)+t.pathname}):t},b=function(e,t){if(!e)return t;var n=Object(m.addLeadingSlash)(e);return 0!==t.pathname.indexOf(n)?t:g({},t,{pathname:t.pathname.substr(n.length)})},w=function(e){return"string"==typeof e?Object(m.parsePath)(e):y(e)},E=function(e){return"string"==typeof e?e:Object(m.createPath)(e)},T=function(e){return function(){l()(!1,"You cannot %s with <StaticRouter>",e)}},S=function(){},C=function(e){function t(){var n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,e.call.apply(e,[this].concat(u))),r.createHref=function(e){return Object(m.addLeadingSlash)(r.props.basename+E(e))},r.handlePush=function(e){var t=r.props,n=t.basename,i=t.context;i.action="PUSH",i.location=_(n,w(e)),i.url=E(i.location)},r.handleReplace=function(e){var t=r.props,n=t.basename,i=t.context;i.action="REPLACE",i.location=_(n,w(e)),i.url=E(i.location)},r.handleListen=function(){return S},r.handleBlock=function(){return S},a=n,o(r,a)}return a(t,e),t.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},t.prototype.componentWillMount=function(){u()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},t.prototype.render=function(){var e=this.props,t=e.basename,n=(e.context,e.location),i=r(e,["basename","context","location"]),o={createHref:this.createHref,action:"POP",location:b(t,w(n)),push:this.handlePush,replace:this.handleReplace,go:T("go"),goBack:T("goBack"),goForward:T("goForward"),listen:this.handleListen,block:this.handleBlock};return f.a.createElement(v.a,g({},i,{history:o}))},t}(f.a.Component);C.propTypes={basename:d.a.string,context:d.a.object.isRequired,location:d.a.oneOfType([d.a.string,d.a.object])},C.defaultProps={basename:"",location:"/"},C.childContextTypes={router:d.a.object.isRequired},t.a=C},function(e,t,n){"use strict";var r=n(411);t.a=r.a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(11),c=n.n(u),l=n(13),h=n.n(l),f=n(27),p=n.n(f),d=n(113),m=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.componentWillMount=function(){p()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){h()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),h()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,r=void 0,i=void 0;return s.a.Children.forEach(t,function(t){if(s.a.isValidElement(t)){var o=t.props,a=o.path,u=o.exact,c=o.strict,l=o.sensitive,h=o.from,f=a||h;null==r&&(i=t,r=f?Object(d.a)(n.pathname,{path:f,exact:u,strict:c,sensitive:l}):e.match)}}),r?s.a.cloneElement(i,{location:n,computedMatch:r}):null},t}(s.a.Component);m.contextTypes={router:c.a.shape({route:c.a.object.isRequired}).isRequired},m.propTypes={children:c.a.node,location:c.a.object},t.a=m},function(e,t,n){"use strict";n(113).a},function(e,t,n){"use strict";n(414).a},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(1),o=n.n(i),a=n(11),s=n.n(a),u=n(415),c=n.n(u),l=n(160),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){var t=function(t){var n=t.wrappedComponentRef,i=r(t,["wrappedComponentRef"]);return o.a.createElement(l.a,{render:function(t){return o.a.createElement(e,h({},i,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:s.a.func},c()(t,e)};t.a=f},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);e.exports=function e(t,n,h){if("string"!=typeof n){if(l){var f=c(n);f&&f!==l&&e(t,f,h)}var p=a(n);s&&(p=p.concat(s(n)));for(var d=0;d<p.length;++d){var m=p[d];if(!(r[m]||i[m]||h&&h[m])){var v=u(n,m);try{o(t,m,v)}catch(e){}}}return t}return t}},function(e,t,n){e.exports=n(417)},function(e,t,n){"use strict";e.exports=n(418)},function(e,t,n){"use strict";e.exports.AppContainer=n(419)},function(e,t,n){"use strict";e.exports=n(420)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=s.Component,c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"render",value:function(){return this.props.component?s.createElement(this.props.component,this.props.props):s.Children.only(this.props.children)}}]),t}(u);e.exports=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(12),c=n(154),l=n.n(c),h=n(422),f=n(534),p=n(536),d=n(538),m=n(540),v=n(542),g=n(585),y=n(588),_=n(590),b=n(592),w=n(594),E=n(596),T=(n.n(E),n(597)),S=(n.n(T),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),I=l()(),O=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=JSON.parse(localStorage.getItem("cookiepolicy")),a=JSON.parse(localStorage.getItem("localUser")),s=!!o,u=!!a;return n.state={hasCookies:s,hasLogin:u},n}return o(t,e),C(t,[{key:"ateCookies",value:function(){console.log("ate cookies"),this.setState({hasCookies:!0})}},{key:"hasLoggedIn",value:function(){console.log("logged in"),this.setState({hasLogin:!0})}},{key:"render",value:function(){var e=this;console.log(this.state.hasLogin,this.state.hasCookies);var t=function(t){var n=t.component,r=t.rest;return s.a.createElement(u.d,S({},r,{render:function(t){return!0===e.state.hasCookies?s.a.createElement(n,S({loggedIn:e.state.hasLogin,hasLoggedIn:function(){return e.hasLoggedIn()}},t)):s.a.createElement(u.c,{to:"/"})}}))},n=function(t){var n=t.component,r=t.rest;return s.a.createElement(u.d,S({},r,{render:function(t){return!0===e.state.hasLogin?s.a.createElement(n,t):s.a.createElement(u.c,{to:"/login/"})}}))};return s.a.createElement(u.e,{history:I},s.a.createElement(u.f,null,s.a.createElement(u.d,{exact:!0,path:"/",render:function(t){return s.a.createElement(f.a,S({ateCookies:function(){return e.ateCookies()}},t))}}),s.a.createElement(t,{exact:!0,path:"/legend/",component:d.a}),s.a.createElement(t,{exact:!0,path:"/login/",component:p.a}),s.a.createElement(n,{exact:!0,path:"/chooseusername/",component:m.a}),s.a.createElement(n,{exact:!0,path:"/navigation/",component:h.a}),s.a.createElement(n,{exact:!0,path:"/math/",component:v.a}),s.a.createElement(n,{exact:!0,path:"/profile/",component:g.a}),s.a.createElement(n,{exact:!0,path:"/store/",component:y.a}),s.a.createElement(t,{exact:!0,path:"/help/",component:_.a}),s.a.createElement(n,{exact:!0,path:"/creatures/",component:b.a}),s.a.createElement(u.d,{exact:!0,path:"/cookies/",render:function(e){return s.a.createElement(w.a,e)}})))}}]),t}(s.a.Component),A=O;t.a=A,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(I,"customHistory","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/App/App.jsx"),__REACT_HOT_LOADER__.register(O,"App","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/App/App.jsx"),__REACT_HOT_LOADER__.register(A,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/App/App.jsx"))}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(12),c=n(15),l=n(434),h=(n.n(l),n(164)),f=n.n(h),p=n(165),d=n.n(p),m=n(166),v=n(63),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y="localUser",_=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=JSON.parse(localStorage.getItem(y)),a=!!o&&o.gamemath.add.unlocked1,s=!!o&&o.gamemath.sub.unlocked1,u=!!o&&o.gamemath.mul.unlocked1,c=!!o&&o.gamemath.div.unlocked1,l=!!o&&o.gamemath.ran.unlocked,h=!!o&&o.gamemath.add.unlocked2,f=!!o&&o.gamemath.sub.unlocked2,p=!!o&&o.gamemath.mul.unlocked2,d=!!o&&o.gamemath.div.unlocked2,m=!!o&&o.gamemath.ran.revealed,v=!!o&&o.gamemath.ran.unlocked,g=o.tutorials.training?"":"training",_=o.tutorials.battle?"":"battle";console.log("tut",o.tutorials.battle,o.tutorials.training);var b=o.username;return n.state={modalVisible:"init false",revealed:m,fbunlocked:v,hidden:!0,addUnlocked1:a,subUnlocked1:s,mulUnlocked1:u,divUnlocked1:c,ranUnlocked1:l,addUnlocked2:h,subUnlocked2:f,mulUnlocked2:p,divUnlocked2:d,username:b,tutTraining:g,tutBattle:_},n}return o(t,e),g(t,[{key:"componentWillMount",value:function(){var e=this;setTimeout(function(){e.setState({hidden:!1})},c.e)}},{key:"closeModal",value:function(){this.setState({modalVisible:!1})}},{key:"openModal",value:function(){this.setState({modalVisible:!0})}},{key:"render",value:function(){var e=this,t=this.state.hidden?0:1,n={opacity:t},r=this.state.tutTraining,i=this.state.tutBattle,o=!this.state.revealed&&this.state.fbunlocked?"fb-reveal":"",a='<p>Use this app daily to improve your math skills. You can choose addition, subtraction, multiplication, division or randomize the skill</p><p>There are two icons next to each of the math skills.</p><p><img className="legend" src='+d.a+' width="25" height="25"/><br/>Choose the heart and play until you make 3 mistakes.</p><p><img className="legend" src='+f.a+' width="25" height="25"/><br/>Choose the clock and answer as many as you can in 60 seconds.</p><p>The more answers you get correct in a row, the higher your score multiplier. Wrong answers will lower your overall accuracy. Good luck!!</p>';return s.a.createElement("div",{className:"main navigation "+o},s.a.createElement("div",{className:"main-fade",style:n},s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",{className:"legend-of"},s.a.createElement("p",{className:"luckiest-guy"},"The Legend of"),s.a.createElement("h1",{className:"username"},this.state.username)),s.a.createElement(v.a,{currpage:"navigation"}),s.a.createElement("div",{className:"main-menu"},s.a.createElement("div",{className:"nav-section add"},s.a.createElement("div",{className:"luckiest-guy banner"},s.a.createElement("span",null,"+")),s.a.createElement(u.b,{className:"luckiest-guy training",to:{pathname:"/math",state:{operator:"add",gamemode:"training",level:0,tutorial:r}}},s.a.createElement("span",null,"T")),s.a.createElement(u.b,{className:"luckiest-guy level1 "+(this.state.addUnlocked1?"":"inactive"),to:{pathname:"/math",state:{operator:"add",gamemode:"battle",level:1,tutorial:i}}},s.a.createElement("span",null,"L1")),s.a.createElement(u.b,{className:"luckiest-guy level2 "+(this.state.addUnlocked2?"":"inactive"),to:{pathname:"/math",state:{operator:"add",gamemode:"battle",level:2}}},s.a.createElement("span",null,"L2"))),s.a.createElement("div",{className:"nav-section sub"},s.a.createElement("div",{className:"luckiest-guy banner"},s.a.createElement("span",null,"-")),s.a.createElement(u.b,{className:"luckiest-guy training",to:{pathname:"/math",state:{operator:"sub",gamemode:"training",level:0,tutorial:r}}},s.a.createElement("span",null,"T")),s.a.createElement(u.b,{className:"luckiest-guy level1 "+(this.state.subUnlocked1?"":"inactive"),to:{pathname:"/math",state:{operator:"sub",gamemode:"battle",level:1,tutorial:i}}},s.a.createElement("span",null,"L1")),s.a.createElement(u.b,{className:"luckiest-guy level2 "+(this.state.subUnlocked2?"":"inactive"),to:{pathname:"/math",state:{operator:"sub",gamemode:"battle",level:2}}},s.a.createElement("span",null,"L2"))),s.a.createElement("div",{className:"nav-section mul"},s.a.createElement("div",{className:"luckiest-guy banner"},s.a.createElement("span",null,"x")),s.a.createElement(u.b,{className:"luckiest-guy training",to:{pathname:"/math",state:{operator:"mul",gamemode:"training",level:0,tutorial:r}}},s.a.createElement("span",null,"T")),s.a.createElement(u.b,{className:"luckiest-guy level1 "+(this.state.mulUnlocked1?"":"inactive"),to:{pathname:"/math",state:{operator:"mul",gamemode:"battle",level:1,tutorial:i}}},s.a.createElement("span",null,"L1")),s.a.createElement(u.b,{className:"luckiest-guy level2 "+(this.state.mulUnlocked2?"":"inactive"),to:{pathname:"/math",state:{operator:"mul",gamemode:"battle",level:2}}},s.a.createElement("span",null,"L2"))),s.a.createElement("div",{className:"nav-section div"},s.a.createElement("div",{className:"luckiest-guy banner"},s.a.createElement("span",null,"÷")),s.a.createElement(u.b,{className:"luckiest-guy training",to:{pathname:"/math",state:{operator:"div",gamemode:"training",level:0,tutorial:r}}},s.a.createElement("span",null,"T")),s.a.createElement(u.b,{className:"luckiest-guy level1 "+(this.state.divUnlocked1?"":"inactive"),to:{pathname:"/math",state:{operator:"div",gamemode:"battle",level:1,tutorial:i}}},s.a.createElement("span",null,"L1")),s.a.createElement(u.b,{className:"luckiest-guy level2 "+(this.state.divUnlocked2?"":"inactive"),to:{pathname:"/math",state:{operator:"div",gamemode:"battle",level:2}}},s.a.createElement("span",null,"L2"))),s.a.createElement("div",{className:"final-battle "+(this.state.revealed&&this.state.fbunlocked?"fb-ready":"fb-hide")},s.a.createElement(u.b,{className:"luckiest-guy level3 "+(this.state.ranUnlocked1?"":"inactive"),to:{pathname:"/math",state:{operator:"div",gamemode:"battle",level:3,randomize:!0}}},s.a.createElement("span",null,"FB")))),s.a.createElement("p",{className:"credit"},"© 2020 Michael Gallay"),s.a.createElement(m.a,{title:"How To Play",body:a,score:"",gameplayBtns:!1,visible:this.state.modalVisible,closeModal:function(){e.closeModal()}}))))}}]),t}(s.a.Component),b=_;t.a=b,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("appToken","appTokenKey","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Navigation/Navigation.jsx"),__REACT_HOT_LOADER__.register(y,"localUser","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Navigation/Navigation.jsx"),__REACT_HOT_LOADER__.register(_,"Navigation","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Navigation/Navigation.jsx"),__REACT_HOT_LOADER__.register(b,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Navigation/Navigation.jsx"))}()},function(e,t,n){"use strict";var r=n(28);n(424),n(425),n(426),n(428),n(429),n(430),n(431),n(432),n(433);var i=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
i.default.registerVersion("firebase","7.21.0","app"),/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),i.default.registerVersion("firebase","7.21.0"),e.exports=i.default},function(e,t,n){(function(e){(function(){function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function r(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function i(){}function o(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function a(e){var t=o(e);return"array"==t||"object"==t&&"number"==typeof e.length}function s(e){return"function"==o(e)}function u(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function c(e){return Object.prototype.hasOwnProperty.call(e,kc)&&e[kc]||(e[kc]=++Nc)}function l(e,t,n){return e.call.apply(e.bind,arguments)}function h(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function f(e,t,n){return f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l:h,f.apply(null,arguments)}function p(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.Za=t.prototype,e.prototype=new n,e.prototype.constructor=e}function m(e,t,n){this.code=Rc+e,this.message=t||Lc[e]||"",this.a=n||null}function v(e){var t=e&&e.code;return t?new m(t.substring(Rc.length),e.message,e.serverResponse):null}function g(e){for(var t in Dc)if(Dc[t].id===e)return e=Dc[t],{firebaseEndpoint:e.Ra,secureTokenEndpoint:e.Xa,identityPlatformEndpoint:e.Ua};return null}function y(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function _(e){if(Error.captureStackTrace)Error.captureStackTrace(this,_);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function b(e,t){e=e.split("%s");for(var n="",r=e.length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");_.call(this,n+e[r])}function w(e,t){throw new b("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function E(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function T(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function S(){this.b=this.a=null}function C(){var e=kl,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function I(){this.next=this.b=this.a=null}function O(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}function A(e){e:{for(var t=hi,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}function k(e,t){return 0<=Uc(e,t)}function N(e,t){t=Uc(e,t);var n;return(n=0<=t)&&Array.prototype.splice.call(e,t,1),n}function x(e,t){var n=0;O(e,function(r,i){t.call(void 0,r,i,e)&&1==Array.prototype.splice.call(e,i,1).length&&n++})}function P(e){return Array.prototype.concat.apply([],arguments)}function R(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function L(e,t){return-1!=e.indexOf(t)}function D(e,t){return e<t?-1:e>t?1:0}function M(e){return L(jc,e)}function j(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function U(e){for(var t in e)return!1;return!0}function F(e){var t,n={};for(t in e)n[t]=e[t];return n}function q(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<Zc.length;o++)n=Zc[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function V(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if(r=r||Ic,r.Element&&r.Location){var i=r;break e}}catch(e){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(u(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;w("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function B(e,t){this.a=e===tl&&t||"",this.b=el}function H(e){return e instanceof B&&e.constructor===B&&e.b===el?e.a:(w("expected object of type Const, got '"+e+"'"),"type_error:Const")}function W(e,t){this.a=e===al&&t||"",this.b=ol}function z(e){return e instanceof W&&e.constructor===W&&e.b===ol?e.a:(w("expected object of type TrustedResourceUrl, got '"+e+"' of type "+o(e)),"type_error:TrustedResourceUrl")}function G(e,t){var n=H(e);if(!il.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(rl,function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return e=t[r],e instanceof B?H(e):encodeURIComponent(String(e))}),new W(al,e)}function K(e,t){this.a=e===cl&&t||"",this.b=ul}function Q(e){return e instanceof K&&e.constructor===K&&e.b===ul?e.a:(w("expected object of type SafeUrl, got '"+e+"' of type "+o(e)),"type_error:SafeUrl")}function Y(e){return e instanceof K?e:(e="object"==typeof e&&e.ra?e.qa():String(e),sl.test(e)||(e="about:invalid#zClosurez"),new K(cl,e))}function X(){this.a="",this.b=ll}function J(e){return e instanceof X&&e.constructor===X&&e.b===ll?e.a:(w("expected object of type SafeHtml, got '"+e+"' of type "+o(e)),"type_error:SafeHtml")}function $(e){var t=new X;return t.a=e,t}function Z(e){var t=new W(al,H(nl));V(e,"HTMLIFrameElement"),e.src=z(t).toString()}function ee(e,t){V(e,"HTMLScriptElement"),e.src=z(t),null===Ac&&(t=Ic.document,Ac=(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&Oc.test(t)?t:""),(t=Ac)&&e.setAttribute("nonce",t)}function te(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function ne(e){return Xc.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(Wc,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(zc,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(Gc,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(Kc,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(Qc,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(Yc,"&#0;"))),e}function re(e){return re[" "](e),e}function ie(e,t){var n=Tl;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function oe(){var e=Ic.document;return e?e.documentMode:void 0}function ae(e){return ie(e,function(){for(var t=0,n=Hc(String(fl)).split("."),r=Hc(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=D(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||D(0==a[2].length,0==s[2].length)||D(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}function se(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function ue(e,t){j(t,function(t,n){t&&"object"==typeof t&&t.ra&&(t=t.qa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Ol.hasOwnProperty(n)?e.setAttribute(Ol[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}function ce(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!Il&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',ne(a.name),'"'),a.type){o.push(' type="',ne(a.type),'"');var s={};q(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=he(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ue(o,a)),2<r.length&&le(i,o,r),o}function le(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!a(o)||u(o)&&0<o.nodeType?r(o):Fc(fe(o)?R(o):o,r)}}function he(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function fe(e){if(e&&"number"==typeof e.length){if(u(e))return"function"==typeof e.item||"string"==typeof e.item;if(s(e))return"function"==typeof e.item}return!1}function pe(e){Ic.setTimeout(function(){throw e},0)}function de(){var e=Ic.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!M("Presto")&&(e=function(){var e=he(document,"IFRAME");e.style.display="none",Z(e),document.documentElement.appendChild(e);var t=e.contentWindow;e=t.document,e.open(),e.write(J(hl)),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=f(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!M("Trident")&&!M("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var e=n.Db;n.Db=null,e()}},function(e){r.next={Db:e},r=r.next,t.port2.postMessage(0)}}return function(e){Ic.setTimeout(e,0)}}function me(e,t){Cl||ve(),Al||(Cl(),Al=!0),kl.add(e,t)}function ve(){if(Ic.Promise&&Ic.Promise.resolve){var e=Ic.Promise.resolve(void 0);Cl=function(){e.then(ge)}}else Cl=function(){var e=ge;!s(Ic.setImmediate)||Ic.Window&&Ic.Window.prototype&&!M("Edge")&&Ic.Window.prototype.setImmediate==Ic.setImmediate?(Sl||(Sl=de()),Sl(e)):Ic.setImmediate(e)}}function ge(){for(var e;e=C();){try{e.a.call(e.b)}catch(e){pe(e)}T(Mc,e)}Al=!1}function ye(e,t){if(this.a=Nl,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=i)try{var n=this;e.call(t,function(e){ke(n,xl,e)},function(e){if(!(e instanceof je))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}ke(n,Pl,e)})}catch(e){ke(this,Pl,e)}}function _e(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}function be(e,t,n){var r=Rl.get();return r.g=e,r.b=t,r.f=n,r}function we(e){if(e instanceof ye)return e;var t=new ye(i);return ke(t,xl,e),t}function Ee(e){return new ye(function(t,n){n(e)})}function Te(e,t,n){Ne(e,t,n,null)||me(p(t,e))}function Se(e){return new ye(function(t,n){var r=e.length,i=[];if(r)for(var o,a=function(e,n){r--,i[e]=n,0==r&&t(i)},s=function(e){n(e)},u=0;u<e.length;u++)o=e[u],Te(o,p(a,u),s);else t(i)})}function Ce(e){return new ye(function(t){var n=e.length,r=[];if(n)for(var i,o=function(e,i,o){n--,r[e]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&t(r)},a=0;a<e.length;a++)i=e[a],Te(i,p(o,a,!0),p(o,a,!1));else t(r)})}function Ie(e,t){if(e.a==Nl)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Nl&&1==r?Ie(n,t):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):Re(n),Le(n,i,Pl,t)))}e.c=null}else ke(e,Pl,t)}function Oe(e,t){e.b||e.a!=xl&&e.a!=Pl||Pe(e),e.f?e.f.next=t:e.b=t,e.f=t}function Ae(e,t,n,r){var i=be(null,null,null);return i.a=new ye(function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof je?o(t):e(i)}catch(e){o(e)}}:o}),i.a.c=e,Oe(e,i),i.a}function ke(e,t,n){e.a==Nl&&(e===n&&(t=Pl,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ne(n,e.Yc,e.Zc,e)||(e.i=n,e.a=t,e.c=null,Pe(e),t!=Pl||n instanceof je||Me(e,n)))}function Ne(e,t,n,r){if(e instanceof ye)return Oe(e,be(t||i,n||null,r)),!0;if(y(e))return e.then(t,n,r),!0;if(u(e))try{var o=e.then;if(s(o))return xe(e,o,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function xe(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(e){o(e)}}function Pe(e){e.h||(e.h=!0,me(e.ec,e))}function Re(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Le(e,t,n,r){if(n==Pl&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,De(t,n,r);else try{t.c?t.g.call(t.f):De(t,n,r)}catch(e){Ll.call(null,e)}T(Rl,t)}function De(e,t,n){t==xl?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}function Me(e,t){e.g=!0,me(function(){e.g&&Ll.call(null,t)})}function je(e){_.call(this,e)}function Ue(){0!=Dl&&(Ml[c(this)]=this),this.wa=this.wa,this.na=this.na}function Fe(e){if(!e.wa&&(e.wa=!0,e.Ba(),0!=Dl)){var t=c(e);if(0!=Dl&&e.na&&0<e.na.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ml[t]}}function qe(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Ve(e,t){if(qe.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(gl){e:{try{re(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Vl[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}function Be(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Hl,this.ua=this.Na=!1}function He(e){e.ua=!0,e.listener=null,e.proxy=null,e.src=null,e.Ta=null}function We(e){this.src=e,this.a={},this.b=0}function ze(e,t){var n=t.type;n in e.a&&N(e.a[n],t)&&(He(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function Ge(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ua&&o.listener==t&&o.capture==!!n&&o.Ta==r)return i}return-1}function Ke(e,t,n,r,i){if(r&&r.once)Xe(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)Ke(e,t[o],n,r,i);else n=it(n),e&&e[Bl]?at(e,t,n,u(r)?!!r.capture:!!r,i):Qe(e,t,n,!1,r,i)}function Qe(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=u(i)?!!i.capture:!!i,s=rt(e);if(s||(e[Wl]=s=new We(e)),n=s.add(t,n,r,a,o),!n.proxy){if(r=Ye(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ql||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ze(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}Gl++}}function Ye(){var e=nt,t=Ul?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}function Xe(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Xe(e,t[o],n,r,i);else n=it(n),e&&e[Bl]?st(e,t,n,u(r)?!!r.capture:!!r,i):Qe(e,t,n,!0,r,i)}function Je(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Je(e,t[o],n,r,i);else r=u(r)?!!r.capture:!!r,n=it(n),e&&e[Bl]?(e=e.u,(t=String(t).toString())in e.a&&(o=e.a[t],-1<(n=Ge(o,n,r,i))&&(He(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=rt(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Ge(t,n,r,i)),(n=-1<e?t[e]:null)&&$e(n))}function $e(e){if("number"!=typeof e&&e&&!e.ua){var t=e.src;if(t&&t[Bl])ze(t.u,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ze(n),r):t.addListener&&t.removeListener&&t.removeListener(r),Gl--,(n=rt(t))?(ze(n,e),0==n.b&&(n.src=null,t[Wl]=null)):He(e)}}}function Ze(e){return e in zl?zl[e]:zl[e]="on"+e}function et(e,t,n,r){var i=!0;if((e=rt(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.ua&&(o=tt(o,r),i=i&&!1!==o)}return i}function tt(e,t){var n=e.listener,r=e.Ta||e.src;return e.Na&&$e(e),n.call(r,t)}function nt(e,t){if(e.ua)return!0;if(!Ul){if(!t)e:{t=["window","event"];for(var n=Ic,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(r=t,t=new Ve(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=et(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=et(r[i],e,!1,t),n=n&&o}return n}return tt(e,new Ve(t,this))}function rt(e){return e=e[Wl],e instanceof We?e:null}function it(e){return s(e)?e:(e[Kl]||(e[Kl]=function(t){return e.handleEvent(t)}),e[Kl])}function ot(){Ue.call(this),this.u=new We(this),this.Yb=this,this.eb=null}function at(e,t,n,r,i){e.u.add(String(t),n,!1,r,i)}function st(e,t,n,r,i){e.u.add(String(t),n,!0,r,i)}function ut(e,t,n,r){if(!(t=e.u.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ua&&a.capture==n){var s=a.listener,u=a.Ta||a.src;a.Na&&ze(e.u,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function ct(e,t,n){if(s(e))n&&(e=f(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=f(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ic.setTimeout(e,t||0)}function lt(e){var t=null;return new ye(function(n,r){-1==(t=ct(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).o(function(e){throw Ic.clearTimeout(t),e})}function ht(e){if(e.V&&"function"==typeof e.V)return e.V();if("string"==typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function ft(e){if(e.X&&"function"==typeof e.X)return e.X();if(!e.V||"function"!=typeof e.V){if(a(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(var r in e)t[n++]=r;return t}}function pt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"==typeof e)Fc(e,t,void 0);else for(var n=ft(e),r=ht(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}function dt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof dt)for(n=e.X(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function mt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];vt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],vt(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function vt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function gt(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function yt(e,t){this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1;var n;e instanceof yt?(this.h=void 0!==t?t:e.h,_t(this,e.f),this.i=e.i,this.b=e.b,bt(this,e.l),this.c=e.c,wt(this,Dt(e.a)),this.g=e.g):e&&(n=String(e).match(Ql))?(this.h=!!t,_t(this,n[1]||"",!0),this.i=It(n[2]||""),this.b=It(n[3]||"",!0),bt(this,n[4]),this.c=It(n[5]||"",!0),wt(this,n[6]||"",!0),this.g=It(n[7]||"")):(this.h=!!t,this.a=new kt(null,this.h))}function _t(e,t,n){e.f=n?It(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function bt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.l=t}else e.l=null}function wt(e,t,n){t instanceof kt?(e.a=t,jt(e.a,e.h)):(n||(t=Ot(t,$l)),e.a=new kt(t,e.h))}function Et(e,t,n){e.a.set(t,n)}function Tt(e,t){return e.a.get(t)}function St(e){return e instanceof yt?new yt(e):new yt(e,void 0)}function Ct(e,t){var n=new yt(null,void 0);return _t(n,"https"),e&&(n.b=e),t&&(n.c=t),n}function It(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ot(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,At),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function At(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}function kt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Nt(e){e.a||(e.a=new dt,e.b=0,e.c&&gt(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function xt(e){var t=ft(e);if(void 0===t)throw Error("Keys are undefined");var n=new kt(null,void 0);e=ht(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?Lt(n,i,o):n.add(i,o)}return n}function Pt(e,t){Nt(e),t=Mt(e,t),vt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,vt(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&mt(e)))}function Rt(e,t){return Nt(e),t=Mt(e,t),vt(e.a.b,t)}function Lt(e,t,n){Pt(e,t),0<n.length&&(e.c=null,e.a.set(Mt(e,t),R(n)),e.b+=n.length)}function Dt(e){var t=new kt;return t.c=e.c,e.a&&(t.a=new dt(e.a),t.b=e.b),t}function Mt(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function jt(e,t){t&&!e.f&&(Nt(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Pt(this,t),Lt(this,n,e))},e)),e.f=t}function Ut(e){var t=[];return qt(new Ft,e,t),t.join("")}function Ft(){}function qt(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),qt(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){n.push("{"),i="";for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&"function"!=typeof(o=t[r])&&(n.push(i),Vt(r,n),n.push(":"),qt(e,o,n),i=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":Vt(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}function Vt(e,t){t.push('"',e.replace(th,function(e){var t=eh[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),eh[e]=t),t}),'"')}function Bt(){var e=un();return dl&&!!El&&11==El||/Edge\/\d+/.test(e)}function Ht(){return Ic.window&&Ic.window.location.href||self&&self.location&&self.location.href||""}function Wt(e,t){t=t||Ic.window;var n="about:blank";e&&(n=Q(Y(e))),t.location.href=n}function zt(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<zt(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function Gt(){var e=un();return!((e=an(e)!=oh?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||dl&&El&&!(9<El))}function Kt(e){return e=(e||un()).toLowerCase(),!!(e.match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function Qt(e){e=e||Ic.window;try{e.close()}catch(e){}}function Yt(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=un().toLowerCase(),r&&(t.target=r,L(n,"crios/")&&(t.target="_blank")),an(un())==ih&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof K?n:Y(void 0!==n.href?n.href:String(n)),n=e.target||n.target,i=[];for(a in e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((M("iPhone")&&!M("iPod")&&!M("iPad")||M("iPad")||M("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=he(document,"A"),V(a,"HTMLAnchorElement"),t instanceof K||t instanceof K||(t="object"==typeof t&&t.ra?t.qa():String(t),sl.test(t)||(t="about:invalid#zClosurez"),t=new K(cl,t)),a.href=Q(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),e=document.createEvent("MouseEvent"),e.initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=r.open("",n,a),e=Q(t),a&&(vl&&L(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e=$('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ne(e)+'">'),r=a.document)&&(r.write(J(e)),r.close())):(a=r.open(Q(t),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}function Xt(e){return new ye(function(t){function n(){lt(2e3).then(function(){if(e&&!e.closed)return n();t()})}return n()})}function Jt(){var e=null;return new ye(function(t){"complete"==Ic.document.readyState?t():(e=function(){t()},Xe(window,"load",e))}).o(function(t){throw Je(window,"load",e),t})}function $t(){return Zt(void 0)?Jt().then(function(){return new ye(function(e,t){var n=Ic.document,r=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),e()},!1)})}):Ee(Error("Cordova must run in an Android or iOS file scheme."))}function Zt(e){return e=e||un(),!("file:"!==pn()&&"ionic:"!==pn()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function en(){var e=Ic.window;try{return!(!e||e==e.top)}catch(e){return!1}}function tn(){return void 0!==Ic.WorkerGlobalScope&&"function"==typeof Ic.importScripts}function nn(){return Ec.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ec.INTERNAL.hasOwnProperty("node")?"Node":tn()?"Worker":"Browser"}function rn(){var e=nn();return"ReactNative"===e||"Node"===e}function on(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}function an(e){var t=e.toLowerCase();return L(t,"opera/")||L(t,"opr/")||L(t,"opios/")?"Opera":L(t,"iemobile")?"IEMobile":L(t,"msie")||L(t,"trident/")?"IE":L(t,"edge/")?"Edge":L(t,"firefox/")?ih:L(t,"silk/")?"Silk":L(t,"blackberry")?"Blackberry":L(t,"webos")?"Webos":!L(t,"safari/")||L(t,"chrome/")||L(t,"crios/")||L(t,"android")?!L(t,"chrome/")&&!L(t,"crios/")||L(t,"edge/")?L(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":oh:"Safari"}function sn(e,t){t=t||[];var n,r=[],i={};for(n in ah)i[ah[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),t=r,t.length||(t=["FirebaseCore-web"]),r=nn(),"Browser"===r?(i=un(),r=an(i)):"Worker"===r&&(i=un(),r=an(i)+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function un(){return Ic.navigator&&Ic.navigator.userAgent||""}function cn(e,t){e=e.split("."),t=t||Ic;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function ln(){try{var e=Ic.localStorage,t=yn();if(e)return e.setItem(t,"1"),e.removeItem(t),!Bt()||!!Ic.indexedDB}catch(e){return tn()&&!!Ic.indexedDB}return!1}function hn(){return(fn()||"chrome-extension:"===pn()||Zt())&&!rn()&&ln()&&!tn()}function fn(){return"http:"===pn()||"https:"===pn()}function pn(){return Ic.location&&Ic.location.protocol||null}function dn(e){return e=e||un(),!Kt(e)&&an(e)!=ih}function mn(e){return void 0===e?null:Ut(e)}function vn(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function gn(e){if(null!==e)return JSON.parse(e)}function yn(e){return e||Math.floor(1e9*Math.random()).toString()}function _n(e){return e=e||un(),"Safari"!=an(e)&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function bn(){var e=Ic.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function wn(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=un(),t=nn(),this.b=Kt(e)||"ReactNative"===t}function En(){var e=Ic.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Tn(){var e=Ic.document,t=null;return En()||!e?we():new ye(function(n){t=function(){En()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).o(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})}function Sn(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Cn(){return!(!cn("fireauth.oauthhelper",Ic)&&!cn("fireauth.iframe",Ic))}function In(){var e=Ic.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}function On(){var e=Ic.navigator;return e&&e.serviceWorker?we().then(function(){return e.serviceWorker.ready}).then(function(e){return e.active||null}).o(function(){return null}):we(null)}function An(e){uh[e]||(uh[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}function kn(e,t,n){sh?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Nn(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&kn(e,n,t[n])}function xn(e){var t={};return Nn(t,e),t}function Pn(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Rn(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}function Ln(e){var t=e;if("object"==typeof e&&null!=e){t="length"in e?[]:{};for(var n in e)kn(t,n,Ln(e[n]))}return t}function Dn(e){var t=e&&(e[ph]?"phone":null);if(!(t&&e&&e[fh]))throw new m("internal-error","Internal assert: invalid MultiFactorInfo object");kn(this,"uid",e[fh]),kn(this,"displayName",e[lh]||null);var n=null;e[hh]&&(n=new Date(e[hh]).toUTCString()),kn(this,"enrollmentTime",n),kn(this,"factorId",t)}function Mn(e){try{var t=new jn(e)}catch(e){t=null}return t}function jn(e){Dn.call(this,e),kn(this,"phoneNumber",e[ph])}function Un(e){var t={},n=e[gh],r=e[_h],i=e[bh];if(e=Mn(e[yh]),!i||i!=mh&&i!=vh&&!n||i==vh&&!r||i==dh&&!e)throw Error("Invalid checkActionCode response!");i==vh?(t[Eh]=n||null,t[Sh]=n||null,t[wh]=r):(t[Eh]=r||null,t[Sh]=r||null,t[wh]=n||null),t[Th]=e||null,kn(this,Ih,i),kn(this,Ch,Ln(t))}function Fn(e){e=St(e);var t=Tt(e,Oh)||null,n=Tt(e,Ah)||null,r=Tt(e,xh)||null;if(r=r?Rh[r]||null:null,!t||!n||!r)throw new m("argument-error",Oh+", "+Ah+"and "+xh+" are required in a valid action code URL.");Nn(this,{apiKey:t,operation:r,code:n,continueUrl:Tt(e,kh)||null,languageCode:Tt(e,Nh)||null,tenantId:Tt(e,Ph)||null})}function qn(e){try{return new Fn(e)}catch(e){return null}}function Vn(e){var t=e[Uh];if(void 0===t)throw new m("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new m("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Lh];if(n&&"object"==typeof n){t=n[Vh];var r=n[Fh];if(n=n[qh],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new m("argument-error",Fh+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new m("argument-error",qh+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new m("argument-error",Vh+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new m("missing-android-pkg-name")}}else if(void 0!==n)throw new m("argument-error",Lh+" property must be a non null object when specified.");if(this.f=null,(t=e[jh])&&"object"==typeof t){if("string"==typeof(t=t[Bh])&&t.length)this.f=t;else if(void 0!==t)throw new m("argument-error",Bh+" property must be a non empty string when specified.")}else if(void 0!==t)throw new m("argument-error",jh+" property must be a non null object when specified.");if(void 0!==(t=e[Mh])&&"boolean"!=typeof t)throw new m("argument-error",Mh+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Dh])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new m("argument-error",Dh+" property must be a non empty string when specified.");this.i=e||null}function Bn(e){var t={};t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i;for(var n in t)null===t[n]&&delete t[n];return t}function Hn(e){return Vc(e,function(e){return e=e.toString(16),1<e.length?e:"0"+e}).join("")}function Wn(e){var t="";return zn(e,function(e){t+=String.fromCharCode(e)}),t}function zn(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Hh[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}Gn();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}function Gn(){if(!Hh){Hh={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Hh[o]&&(Hh[o]=i)}}}function Kn(e){var t=Yn(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.g=e,this.c=t.exp,this.h=t.sub,xc(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Qn(e){try{return new Kn(e)}catch(e){return null}}function Yn(e){if(!e)return null;if(e=e.split("."),3!=e.length)return null;e=e[1];for(var t=(4-e.length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(Wn(e))}catch(e){}return null}function Xn(e){for(var t in Gh)if(Gh[t].ea==e)return Gh[t];return null}function Jn(e){var t={};t["facebook.com"]=er,t["google.com"]=nr,t["github.com"]=tr,t["twitter.com"]=rr;var n=e&&e[Qh];try{if(n)return t[n]?new t[n](e):new Zn(e);if(void 0!==e[Kh])return new $n(e)}catch(e){}return null}function $n(e){var t=e[Qh];if(!t&&e[Kh]){var n=Qn(e[Kh]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),kn(this,"providerId",t),kn(this,"isNewUser",n)}function Zn(e){$n.call(this,e),e=gn(e.rawUserInfo||"{}"),kn(this,"profile",Ln(e||{}))}function er(e){if(Zn.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function tr(e){if(Zn.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");kn(this,"username",this.profile&&this.profile.login||null)}function nr(e){if(Zn.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function rr(e){if(Zn.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");kn(this,"username",e.screenName||null)}function ir(e){var t=St(e),n=Tt(t,"link"),r=Tt(St(n),"link");return t=Tt(t,"deep_link_id"),Tt(St(t),"link")||t||r||n||e}function or(e,t){if(!e&&!t)throw new m("internal-error","Internal assert: no raw session string available");if(e&&t)throw new m("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?Yh:Xh}function ar(){}function sr(e,t){return e.then(function(e){if(e[mf]){var n=Qn(e[mf]);if(!n||t!=n.h)throw new m("user-mismatch");return e}throw new m("user-mismatch")}).o(function(e){throw e&&e.code&&e.code==Rc+"user-not-found"?new m("user-mismatch"):e})}function ur(e,t){if(!t)throw new m("internal-error","failed to construct a credential");this.a=t,kn(this,"providerId",e),kn(this,"signInMethod",e)}function cr(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function lr(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new ur(e.providerId,e.pendingToken)}catch(e){}return null}function hr(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&kn(this,"idToken",t.idToken),t.accessToken&&kn(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&kn(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new m("internal-error","failed to construct a credential");kn(this,"accessToken",t.oauthToken),kn(this,"secret",t.oauthTokenSecret)}kn(this,"providerId",e),kn(this,"signInMethod",n)}function fr(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:xt(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function pr(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new hr(e.providerId,t,e.signInMethod)}catch(e){}}return null}function dr(e,t){this.Oc=t||[],Nn(this,{providerId:e,isOAuthProvider:!0}),this.Fb={},this.lb=(Xn(e)||{}).Ha||null,this.kb=null}function mr(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new m("argument-error",'SAML provider IDs must be prefixed with "saml."');dr.call(this,e,[])}function vr(e){dr.call(this,e,zh),this.a=[]}function gr(){vr.call(this,"facebook.com")}function yr(e){if(!e)throw new m("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return u(e)&&(t=e.accessToken),(new gr).credential({accessToken:t})}function _r(){vr.call(this,"github.com")}function br(e){if(!e)throw new m("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return u(e)&&(t=e.accessToken),(new _r).credential({accessToken:t})}function wr(){vr.call(this,"google.com"),this.Aa("profile")}function Er(e,t){var n=e;return u(e)&&(n=e.idToken,t=e.accessToken),(new wr).credential({idToken:n,accessToken:t})}function Tr(){dr.call(this,"twitter.com",Wh)}function Sr(e,t){var n=e;if(u(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new m("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new hr("twitter.com",n,"twitter.com")}function Cr(e,t,n){this.a=e,this.f=t,kn(this,"providerId","password"),kn(this,"signInMethod",n===Or.EMAIL_LINK_SIGN_IN_METHOD?Or.EMAIL_LINK_SIGN_IN_METHOD:Or.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ir(e){return e&&e.email&&e.password?new Cr(e.email,e.password,e.signInMethod):null}function Or(){Nn(this,{providerId:"password",isOAuthProvider:!1})}function Ar(e,t){if(!(t=kr(t)))throw new m("argument-error","Invalid email link!");return new Cr(e,t.code,Or.EMAIL_LINK_SIGN_IN_METHOD)}function kr(e){return e=ir(e),(e=qn(e))&&e.operation===mh?e:null}function Nr(e){if(!(e.bb&&e.ab||e.Ja&&e.da))throw new m("internal-error");this.a=e,kn(this,"providerId","phone"),this.ea="phone",kn(this,"signInMethod","phone")}function xr(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return Fc(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){e[n]&&(t[n]=e[n])}),new Nr(t)}return null}function Pr(e){return e.a.Ja&&e.a.da?{temporaryProof:e.a.Ja,phoneNumber:e.a.da}:{sessionInfo:e.a.bb,code:e.a.ab}}function Rr(e){try{this.a=e||Ec.auth()}catch(e){throw new m("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Nn(this,{providerId:"phone",isOAuthProvider:!1})}function Lr(e,t){if(!e)throw new m("missing-verification-id");if(!t)throw new m("missing-verification-code");return new Nr({bb:e,ab:t})}function Dr(e){if(e.temporaryProof&&e.phoneNumber)return new Nr({Ja:e.temporaryProof,da:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Er(o,n);case"facebook.com":return yr(n);case"github.com":return br(n);case"twitter.com":return Sr(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new ur(t,a):new hr(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new vr(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function Mr(e){if(!e.isOAuthProvider)throw new m("invalid-oauth-provider")}function jr(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new m("invalid-auth-event");if(this.g&&this.a)throw new m("invalid-auth-event");if(this.g&&!this.f)throw new m("invalid-auth-event")}function Ur(e){return e=e||{},e.type?new jr(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&v(e.error),e.postBody,e.tenantId):null}function Fr(){this.b=null,this.a=[]}function qr(e){var t=Jh;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=cn("universalLinks.subscribe",Ic))&&e(null,t.b))}function Vr(e){var t="unauthorized-domain",n=void 0,r=St(e);e=r.b,r=r.f,"chrome-extension"==r?n=te("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=te("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",m.call(this,t,n)}function Br(e,t,n){m.call(this,e,n),e=t||{},e.Gb&&kn(this,"email",e.Gb),e.da&&kn(this,"phoneNumber",e.da),e.credential&&kn(this,"credential",e.credential),e.Wb&&kn(this,"tenantId",e.Wb)}function Hr(e){if(e.code){var t=e.code||"";0==t.indexOf(Rc)&&(t=t.substring(Rc.length));var n={credential:Dr(e),Wb:e.tenantId};if(e.email)n.Gb=e.email;else if(e.phoneNumber)n.da=e.phoneNumber;else if(!n.credential)return new m(t,e.message||void 0);return new Br(t,n,e.message)}return null}function Wr(){}function zr(e){return e.c||(e.c=e.b())}function Gr(){}function Kr(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Qr(){}function Yr(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=f(this.oc,this),this.a.onerror=f(this.Pb,this),this.a.onprogress=f(this.pc,this),this.a.ontimeout=f(this.tc,this)}function Xr(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Jr(e,t,n){this.reset(e,t,n,void 0,void 0)}function $r(e){this.f=e,this.b=this.c=this.a=null}function Zr(e,t){this.name=e,this.value=t}function ei(e){return e.c?e.c:e.a?ei(e.a):(w("Root logger has no level set."),null)}function ti(e){af||(af=new $r(""),of[""]=af,af.c=nf);var t;if(!(t=of[e])){t=new $r(e);var n=e.lastIndexOf("."),r=e.substr(n+1);n=ti(e.substr(0,n)),n.b||(n.b={}),n.b[r]=t,t.a=n,of[e]=t}return t}function ni(e,t){e&&e.log(rf,t,void 0)}function ri(e){this.f=e}function ii(e){ot.call(this),this.s=e,this.readyState=sf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ti("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}function oi(e){e.c.read().then(e.nc.bind(e)).catch(e.Sa.bind(e))}function ai(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,si(e)}function si(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ui(e){ot.call(this),this.headers=new dt,this.D=e||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=uf,this.w=this.R=!1}function ci(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.N=!1,e.c=!0,e.a=e.D?e.D.a():$h.a(),e.B=zr(e.D?e.D:$h),e.a.onreadystatechange=f(e.Sb,e);try{ni(e.b,bi(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(t){return ni(e.b,bi(e,"Error opening Xhr: "+t.message)),void fi(e,t)}t=r||"";var o=new dt(e.headers);i&&pt(i,function(e,t){o.set(t,e)}),i=A(o.X()),r=Ic.FormData&&t instanceof Ic.FormData,!k(lf,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.R&&(e.a.withCredentials=e.R);try{vi(e),0<e.g&&(e.w=li(e.a),ni(e.b,bi(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.w)),e.w?(e.a.timeout=e.g,e.a.ontimeout=f(e.Ka,e)):e.s=ct(e.Ka,e.g,e)),ni(e.b,bi(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){ni(e.b,bi(e,"Send error: "+t.message)),fi(e,t)}}function li(e){return dl&&ae(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}function hi(e){return"content-type"==e.toLowerCase()}function fi(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,pi(e),mi(e)}function pi(e){e.N||(e.N=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function di(e){if(e.c&&void 0!==Cc)if(e.B[1]&&4==gi(e)&&2==yi(e))ni(e.b,bi(e,"Local request error detected and ignored"));else if(e.i&&4==gi(e))ct(e.Sb,0,e);else if(e.dispatchEvent("readystatechange"),4==gi(e)){ni(e.b,bi(e,"Request complete")),e.c=!1;try{var t=yi(e);e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=0===t){var o=String(e.l).match(Ql)[1]||null;if(!o&&Ic.self&&Ic.self.location){var a=Ic.self.location.protocol;o=a.substr(0,a.length-1)}i=!cf.test(o?o.toLowerCase():"")}r=i}if(r)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var s=2<gi(e)?e.a.statusText:""}catch(t){ni(e.b,"Can not get status: "+t.message),s=""}e.h=s+" ["+yi(e)+"]",pi(e)}}finally{mi(e)}}}function mi(e,t){if(e.a){vi(e);var n=e.a,r=e.B[0]?i:null;e.a=null,e.B=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(ef,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function vi(e){e.a&&e.w&&(e.a.ontimeout=null),e.s&&(Ic.clearTimeout(e.s),e.s=null)}function gi(e){return e.a?e.a.readyState:0}function yi(e){try{return 2<gi(e)?e.a.status:-1}catch(e){return-1}}function _i(e){try{return e.a?e.a.responseText:""}catch(t){return ni(e.b,"Can not get responseText: "+t.message),""}}function bi(e,t){return t+" ["+e.P+" "+e.l+" "+yi(e)+"]"}function wi(e){var t=Ri;this.g=[],this.w=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Ei(e,t,n){e.a=!0,e.c=n,e.f=!t,Oi(e)}function Ti(e){if(e.a){if(!e.u)throw new Ai(e);e.u=!1}}function Si(e,t){Ci(e,null,t,void 0)}function Ci(e,t,n,r){e.g.push([t,n,r]),e.a&&Oi(e)}function Ii(e){return Bc(e.g,function(e){return s(e[1])})}function Oi(e){if(e.h&&e.a&&Ii(e)){var t=e.h,n=hf[t];n&&(Ic.clearTimeout(n.a),delete hf[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(y(t)||"function"==typeof Ic.Promise&&t instanceof Ic.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,Ii(e)||(n=!0)}}e.c=t,r&&(s=f(e.m,e,!0),r=f(e.m,e,!1),t instanceof wi?(Ci(t,s,r),t.B=!0):t.then(s,r)),n&&(t=new Ni(t),hf[t.a]=t,e.h=t.a)}function Ai(){_.call(this)}function ki(){_.call(this)}function Ni(e){this.a=Ic.setTimeout(f(this.c,this),0),this.b=e}function xi(e){var t={},n=t.document||document,r=z(e).toString(),i=he(document,"SCRIPT"),o={Tb:i,Ka:void 0},a=new wi(o),s=null,u=null!=t.timeout?t.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){Li(i,!0);var e=new Di(pf,"Timeout reached for loading script "+r);Ti(a),Ei(a,!1,e)},u),o.Ka=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Li(i,t.ud||!1,s),Ti(a),Ei(a,!0,null))},i.onerror=function(){Li(i,!0,s);var e=new Di(ff,"Error while loading script "+r);Ti(a),Ei(a,!1,e)},o=t.attributes||{},q(o,{type:"text/javascript",charset:"UTF-8"}),ue(i,o),ee(i,e),Pi(n).appendChild(i),a}function Pi(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}function Ri(){if(this&&this.Tb){var e=this.Tb;e&&"SCRIPT"==e.tagName&&Li(e,!0,this.Ka)}}function Li(e,t,n){null!=n&&Ic.clearTimeout(n),e.onload=i,e.onerror=i,e.onreadystatechange=i,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}function Di(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),_.call(this,n),this.code=e}function Mi(e){this.f=e}function ji(e,t,n){if(this.c=e,e=t||{},this.u=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||vf,this.g=F(e.secureTokenHeaders||gf),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=e.firebaseTimeout||yf,this.a=F(e.firebaseHeaders||_f),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==nn(),!(n=Ic.XMLHttpRequest||n&&Ec.INTERNAL.node&&Ec.INTERNAL.node.XMLHttpRequest)&&!tn())throw new m("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,tn()?this.f=new ri(self):rn()?this.f=new Mi(n):this.f=new Qr,this.b=null}function Ui(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Fi(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function qi(e,t,n,r,i,o,a){Gt()||tn()?e=f(e.w,e):(df||(df=new ye(function(e,t){Vi(e,t)})),e=f(e.s,e)),e(t,n,r,i,o,a)}function Vi(e,t){((window.gapi||{}).client||{}).request?e():(Ic[wf]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},Si(xi(G(bf,{onload:wf})),function(){t(Error("CORS_UNSUPPORTED"))}))}function Bi(e,t){return new ye(function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?qi(e,e.u+"?key="+encodeURIComponent(e.c),function(e){e?e.error?r(lo(e)):e.access_token&&e.refresh_token?n(e):r(new m("internal-error")):r(new m("network-request-failed"))},"POST",xt(t).toString(),e.g,e.m.get()):r(new m("internal-error"))})}function Hi(e,t,n,r,i,o,a){var s=St(t+n);Et(s,"key",e.c),a&&Et(s,"cb",xc().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Et(s,c,i[c]);return new ye(function(t,n){qi(e,s.toString(),function(e){e?e.error?n(lo(e,o||{})):t(e):n(new m("network-request-failed"))},r,u?void 0:Ut(vn(i)),e.a,e.i.get())})}function Wi(e){if("string"!=typeof(e=e.email)||!rh.test(e))throw new m("invalid-email")}function zi(e){"email"in e&&Wi(e)}function Gi(e,t){return uo(e,If,{identifier:t,continueUri:fn()?Ht():"http://localhost"}).then(function(e){return e.signinMethods||[]})}function Ki(e){return uo(e,Uf,{}).then(function(e){return e.authorizedDomains||[]})}function Qi(e){if(!e[mf]){if(e.mfaPendingCredential)throw new m("multi-factor-auth-required",null,F(e));throw new m("internal-error")}}function Yi(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new m("internal-error")}else{if(!e.sessionInfo)throw new m("missing-verification-id");if(!e.code)throw new m("missing-verification-code")}}function Xi(e,t){return uo(e,Vf,t)}function Ji(e,t){return uo(e,zf,t).then(function(e){return e.phoneSessionInfo.sessionInfo})}function $i(e){if(!e.phoneVerificationInfo)throw new m("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new m("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new m("missing-verification-code")}function Zi(e,t){return uo(e,Gf,t).then(function(e){return e.phoneResponseInfo.sessionInfo})}function eo(e,t,n){return uo(e,Af,{idToken:t,deleteProvider:n})}function to(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new m("internal-error")}function no(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(e=new kt(e.postBody),Rt(e,"nonce")&&(t.nonce=e.get("nonce")))),t}function ro(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Hr(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Hr(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Hr(e)):e.errorMessage&&(t=co(e.errorMessage)),t)throw t;Qi(e)}function io(e,t){return t.returnIdpCredential=!0,uo(e,Kf,t)}function oo(e,t){return t.returnIdpCredential=!0,uo(e,Yf,t)}function ao(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,uo(e,Qf,t)}function so(e){if(!e.oobCode)throw new m("invalid-action-code")}function uo(e,t,n){if(!Rn(n,t.M))return Ee(new m("internal-error"));var r,i=!!t.La,o=t.Rb||"POST";return we(n).then(t.A).then(function(){return t.U&&(n.returnSecureToken=!0),t.C&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),i?Hi(e,e.l,t.endpoint,o,n,t.Eb,t.hb||!1):Hi(e,e.h,t.endpoint,o,n,t.Eb,t.hb||!1)}).then(function(e){return r=e,t.Wa?t.Wa(n,r):r}).then(t.G).then(function(){if(!t.Y)return r;if(!(t.Y in r))throw new m("internal-error");return r[t.Y]})}function co(e){return lo({error:{errors:[{message:e}],code:400,message:e}})}function lo(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new m(r[n]):null)return n;n=e.error&&e.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},q(r,t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new m(r[i],t);return!t&&e&&(t=mn(e)),new m("internal-error",t)}function ho(e){this.b=e,this.a=null,this.nb=fo(this)}function fo(e){return vo().then(function(){return new ye(function(t,n){cn("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:cn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},ip.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}function po(e,t){return e.nb.then(function(){return new ye(function(n){e.a.send(t.type,t,n,cn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function mo(e,t){e.nb.then(function(){e.a.register("authEvent",t,cn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}function vo(){return op||(op=new ye(function(e,t){function n(){bn(),cn("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){bn(),t(Error("Network Error"))},timeout:rp.get()})}if(cn("gapi.iframes.Iframe"))e();else if(cn("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();Ic[r]=function(){cn("gapi.load")?n():t(Error("Network Error"))},r=G(np,{onload:r}),we(xi(r)).o(function(){t(Error("Network Error"))})}}).o(function(e){throw op=null,e}))}function go(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=Ct(this.i,"/__/auth/iframe"),Et(this.a,"apiKey",this.g),Et(this.a,"appName",this.h),this.b=null,this.c=[]}function yo(e,t,n,r,i){this.s=e,this.m=t,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function _o(e){try{return Ec.app(e).auth().Ea()}catch(e){return[]}}function bo(e,t,n,r,i){this.u=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function wo(e){var t=Ht();return Ki(e).then(function(e){e:{var n=St(t),r=n.f;n=n.b;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=St(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:nh.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Vr(Ht())})}function Eo(e){return e.l?e.l:(e.l=Jt().then(function(){if(!e.s){var t=e.c,n=e.h,r=_o(e.b),i=new go(e.u,e.f,e.b);i.f=t,i.b=n,i.c=R(r||[]),e.s=i.toString()}e.i=new ho(e.s),Co(e)}),e.l)}function To(e){return e.m||(e.w=e.c?sn(e.c,_o(e.b)):null,e.m=new ji(e.f,g(e.h),e.w)),e.m}function So(e,t,n,r,i,o,a,s,u,c,l){return e=new yo(e,t,n,r,i),e.l=o,e.g=a,e.i=s,e.b=F(u||null),e.f=c,e.ub(l).toString()}function Co(e){if(!e.i)throw Error("IfcHandler must be initialized!");mo(e.i,function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Ur(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return n={},n.status=r?"ACK":"ERROR",we(n)}return n.status="ERROR",we(n)})}function Io(e){var t={type:"webStorageSupport"};return Eo(e).then(function(){return po(e.i,t)}).then(function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})}function Oo(e){if(this.a=e||Ec.INTERNAL.reactNative&&Ec.INTERNAL.reactNative.AsyncStorage,!this.a)throw new m("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Ao(e){this.b=e,this.a={},this.f=f(this.c,this)}function ko(){var e=tn()?self:null;if(Fc(ap,function(n){n.b==e&&(t=n)}),!t){var t=new Ao(e);ap.push(t)}return t}function No(e,t,n){U(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function xo(e){this.a=e}function Po(e){this.c=e,this.b=!1,this.a=[]}function Ro(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Ee(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:h,onMessage:o},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(t){return Lo(e,c),t}).o(function(t){throw Lo(e,c),t})}function Lo(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),x(e.a,function(e){return e==t})}}function Do(){if(!Fo())throw new m("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=Ic.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var e=this;tn()&&self?(this.l=ko(),No(this.l,"keyChanged",function(t,n){return Wo(e).then(function(t){return 0<t.length&&Fc(e.a,function(e){e(t)}),{keyProcessed:k(t,n.key)}})}),No(this.l,"ping",function(){return we(["keyChanged"])})):On().then(function(t){(e.h=t)&&(e.g=new Po(new xo(t)),Ro(e.g,"ping",null,!0).then(function(t){t[0].fulfilled&&k(t[0].value,"keyChanged")&&(e.s=!0)}).o(function(){}))})}function Mo(e){return new ye(function(t,n){var r=e.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}})}function jo(e){return new ye(function(t,n){var r=e.u.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){r=r.target.result,r.objectStoreNames.contains("firebaseLocalStorage")?t(r):Mo(e).then(function(){return jo(e)}).then(function(e){t(e)}).o(function(e){n(e)})}})}function Uo(e){return e.m||(e.m=jo(e)),e.m}function Fo(){try{return!!Ic.indexedDB}catch(e){return!1}}function qo(e){return e.objectStore("firebaseLocalStorage")}function Vo(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Bo(e){return new ye(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}})}function Ho(e,t){return e.g&&e.h&&In()===e.h?Ro(e.g,"keyChanged",{key:t},e.s).then(function(){}).o(function(){}):we()}function Wo(e){return Uo(e).then(function(e){var t=qo(Vo(e,!1));return t.getAll?Bo(t.getAll()):new ye(function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}})}).then(function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=zt(e.c,n),e.c=n}return r})}function zo(e){function t(){e.f=setTimeout(function(){e.i=Wo(e).then(function(t){0<t.length&&Fc(e.a,function(e){e(t)})}).then(function(){t()}).o(function(e){"STOP_EVENT"!=e.message&&t()})},800)}Go(e),t()}function Go(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Ko(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=we().then(function(){if(Fo()){var e=yn(),r="__sak"+e;return sp||(sp=new Do),n=sp,n.set(r,e).then(function(){return n.get(r)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return n.T(r)}).then(function(){return n}).o(function(){return t.c})}return t.c}).then(function(e){return t.type=e.type,e.ba(function(e){Fc(t.a,function(t){t(e)})}),e})}function Qo(){this.a={},this.type="inMemory"}function Yo(){if(!Jo()){if("Node"==nn())throw new m("internal-error","The LocalStorage compatibility library was not found.");throw new m("web-storage-unsupported")}this.a=Xo()||Ec.INTERNAL.node.localStorage,this.type="localStorage"}function Xo(){try{var e=Ic.localStorage,t=yn();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Jo(){var e="Node"==nn();if(!(e=Xo()||e&&Ec.INTERNAL.node&&Ec.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}function $o(){this.type="nullStorage"}function Zo(){if(!ta()){if("Node"==nn())throw new m("internal-error","The SessionStorage compatibility library was not found.");throw new m("web-storage-unsupported")}this.a=ea()||Ec.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function ea(){try{var e=Ic.sessionStorage,t=yn();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function ta(){var e="Node"==nn();if(!(e=ea()||e&&Ec.INTERNAL.node&&Ec.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}function na(){var e={};e.Browser=lp,e.Node=hp,e.ReactNative=fp,e.Worker=pp,this.a=e[nn()]}function ra(e){var t=new m("invalid-persistence-type"),n=new m("unsupported-persistence-type");e:{for(r in dp)if(dp[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(nn()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Fo()&&"none"!==e)throw n;break;default:if(!ln()&&"none"!==e)throw n}}function ia(){var e=!(_n(un())||!en()),t=dn(),n=ln();this.m=e,this.h=t,this.l=n,this.a={},up||(up=new na),e=up;try{this.g=!Bt()&&Cn()||!Ic.indexedDB?new e.a.F:new Ko(tn()?new Qo:new e.a.F)}catch(e){this.g=new Qo,this.h=!0}try{this.i=new e.a.$a}catch(e){this.i=new Qo}this.u=new Qo,this.f=f(this.Vb,this),this.b={}}function oa(){return cp||(cp=new ia),cp}function aa(e,t){switch(t){case"session":return e.i;case"none":return e.u;default:return e.g}}function sa(e,t){return"firebase:"+e.name+(t?":"+t:"")}function ua(e,t,n){var r=sa(t,n),i=aa(e,t.F);return e.get(t,n).then(function(o){var a=null;try{a=gn(Ic.localStorage.getItem(r))}catch(e){}if(a&&!o)return Ic.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&Ic.localStorage.removeItem(r)})}function ca(e,t,n){return n=sa(t,n),"local"==t.F&&(e.b[n]=null),aa(e,t.F).T(n)}function la(e){ha(e),e.c=setInterval(function(){for(var t in e.a){var n=Ic.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Ve({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Vb(n))}},1e3)}function ha(e){e.c&&(clearInterval(e.c),e.c=null)}function fa(e){this.a=e,this.b=oa()}function pa(e){return e.b.get(vp,e.a).then(function(e){return Ur(e)})}function da(){this.a=oa()}function ma(){this.b=-1}function va(e,t){this.b=gp,this.f=Ic.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=Ic.Int32Array?new Int32Array(64):Array(64),void 0===mp&&(mp=Ic.Int32Array?new Int32Array(Ep):Ep),this.reset()}function ga(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=c&l^~c&h,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,a=a+(0|mp[t])|0,a=o+(a+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function ya(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(ga(e),i=0);else{if(!a(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(ga(e),i=0)}}e.c=i,e.g+=n}function _a(){va.call(this,8,Tp)}function ba(e,t,n,r,i){this.u=e,this.i=t,this.l=n,this.m=r||null,this.s=i||null,this.h=t+":"+n,this.w=new da,this.g=new fa(this.h),this.f=null,this.b=[],this.a=this.c=null}function wa(e){return new m("invalid-cordova-configuration",e)}function Ea(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}function Ta(e){var t=new _a;ya(t,e),e=[];var n=8*t.g;56>t.c?ya(t,wp,56-t.c):ya(t,wp,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(ga(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return Hn(e)}function Sa(e,t,n,r,i){var o=Ea(),a=new jr(t,r,null,o,new m("no-auth-event"),null,i),s=cn("BuildInfo.packageName",Ic);if("string"!=typeof s)throw new m("invalid-cordova-configuration");var u=cn("BuildInfo.displayName",Ic),c={};if(un().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!un().toLowerCase().match(/android/))return Ee(new m("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=Ta(o),c.sessionId=o;var l=So(e.u,e.i,e.l,t,n,null,r,e.m,c,e.s,i);return e.ka().then(function(){var t=e.h;return e.w.a.set(vp,a.v(),t)}).then(function(){var t=cn("cordova.plugins.browsertab.isAvailable",Ic);if("function"!=typeof t)throw new m("invalid-cordova-configuration");var n=null;t(function(t){if(t){if("function"!=typeof(n=cn("cordova.plugins.browsertab.openUrl",Ic)))throw new m("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=cn("cordova.InAppBrowser.open",Ic)))throw new m("invalid-cordova-configuration");t=un(),e.a=n(l,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Ca(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Ia(e){return e.f||(e.f=e.ka().then(function(){return new ye(function(t){function n(r){return t(r),e.Qa(n),!1}e.Ca(n),Aa(e)})})),e.f}function Oa(e){var t=null;return pa(e.g).then(function(n){return t=n,n=e.g,ca(n.b,vp,n.a)}).then(function(){return t})}function Aa(e){function t(t){r=!0,i&&i.cancel(),Oa(e).then(function(r){var i=n;if(r&&t&&t.url){var o=null;i=ir(t.url),-1!=i.indexOf("/__/auth/callback")&&(o=St(i),o=gn(Tt(o,"firebaseError")||null),o=(o="object"==typeof o?v(o):null)?new jr(r.c,r.b,null,null,o,null,r.S()):new jr(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}Ca(e,i)})}var n=new jr("unknown",null,null,null,new m("no-auth-event")),r=!1,i=lt(500).then(function(){return Oa(e).then(function(){r||Ca(e,n)})}),o=Ic.handleOpenURL;Ic.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(cn("BuildInfo.packageName",Ic).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},Jh||(Jh=new Fr),qr(t)}function ka(e){this.a=e,this.b=oa()}function Na(e){return e.b.set(Sp,"pending",e.a)}function xa(e){return ca(e.b,Sp,e.a)}function Pa(e){return e.b.get(Sp,e.a).then(function(e){return"pending"==e})}function Ra(e,t,n){this.i={},this.w=0,this.D=e,this.u=t,this.m=n,this.h=[],this.f=!1,this.l=f(this.s,this),this.b=new Wa,this.B=new $a,this.g=new ka(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=La(this.D,this.u,this.m,Pc)}function La(e,t,n,r){var i=Ec.SDK_VERSION||null;return Zt()?new ba(e,t,n,i,r):new bo(e,t,n,i,r)}function Da(e){e.f||(e.f=!0,e.a.Ca(e.l));var t=e.a;return e.a.ka().o(function(n){throw e.a==t&&e.reset(),n})}function Ma(e){e.a.Ub()&&Da(e).o(function(t){var n=new jr("unknown",null,null,null,new m("operation-not-supported-in-this-environment"));qa(t)&&e.s(n)}),e.a.Qb()||za(e.b)}function ja(e,t){k(e.h,t)||e.h.push(t),e.f||Pa(e.g).then(function(t){t?xa(e.g).then(function(){Da(e).o(function(t){var n=new jr("unknown",null,null,null,new m("operation-not-supported-in-this-environment"));qa(t)&&e.s(n)})}):Ma(e)}).o(function(){Ma(e)})}function Ua(e,t){x(e.h,function(e){return e==t})}function Fa(e,t,n,r,i,o,a){return e.a.Jb(t,n,r,function(){e.f||(e.f=!0,e.a.Ca(e.l))},function(){e.reset()},i,o,a)}function qa(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Va(e,t,n,r,i){var o;return Na(e.g).then(function(){return e.a.Kb(t,n,r,i).o(function(t){if(qa(t))throw new m("operation-not-supported-in-this-environment");return o=t,xa(e.g).then(function(){throw o})}).then(function(){return e.a.Xb()?new ye(function(){}):xa(e.g).then(function(){return e.pa()}).then(function(){}).o(function(){})})})}function Ba(e,t,n,r,i){return e.a.Lb(r,function(e){t.la(n,null,e,i)},Cp.get())}function Ha(e,t,n){var r=t+":"+n;return Op[r]||(Op[r]=new Ra(e,t,n)),Op[r]}function Wa(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function za(e){e.g||(e.g=!0,Xa(e,!1,null,null))}function Ga(e){e.g&&!e.i&&Xa(e,!1,null,null)}function Ka(e,t,n){n=n.Da(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.S(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then(function(t){Xa(e,s,t,null)}).o(function(t){Xa(e,s,null,t)})}function Qa(e,t){if(e.b=function(){return Ee(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}function Ya(e,t){if(e.b=function(){return we(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Xa(e,t,n,r){t?r?Qa(e,r):Ya(e,n):Ya(e,{user:null}),e.f=[],e.c=[]}function Ja(e){var t=new m("timeout");e.a&&e.a.cancel(),e.a=lt(Ip.get()).then(function(){e.b||(e.g=!0,Xa(e,!0,null,t))})}function $a(){}function Za(e,t){var n=e.b,r=e.c;t.Da(r,n)(e.g,e.f,e.S(),e.i).then(function(e){t.la(r,e,null,n)}).o(function(e){t.la(r,null,e,n)})}function es(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(e){this.Bb=e},enumerable:!1})}function ts(e,t){this.a=t,kn(this,"verificationId",e)}function ns(e,t,n,r){return new Rr(e).cb(t,n).then(function(e){return new ts(e,r)})}function rs(e){var t=Yn(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new m("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Nn(this,{token:e,expirationTime:Sn(1e3*t.exp),authTime:Sn(1e3*t.auth_time),issuedAtTime:Sn(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function is(e,t,n){var r=t&&t[kp];if(!r)throw new m("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=F(t),this.g=n,this.c=new or(null,r),this.b=[];var i=this;Fc(t[Ap]||[],function(e){(e=Mn(e))&&i.b.push(e)}),kn(this,"auth",this.a),kn(this,"session",this.c),kn(this,"hints",this.b)}function os(e,t,n,r){m.call(this,"multi-factor-auth-required",r,t),this.b=new is(e,t,n),kn(this,"resolver",this.b)}function as(e,t,n){if(e&&u(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new os(t,e.serverResponse,n,e.message)}catch(e){}return null}function ss(){}function us(e,t,n,r){return n.Fa().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),q(n,{phoneVerificationInfo:Pr(e.a)}),uo(t,xf,n)})}function cs(e,t,n){return n.Fa().then(function(n){return n={mfaPendingCredential:n},q(n,{phoneVerificationInfo:Pr(e.a)}),uo(t,Pf,n)})}function ls(e){kn(this,"factorId",e.ea),this.a=e}function hs(e){if(ls.call(this,e),this.a.ea!=Rr.PROVIDER_ID)throw new m("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function fs(e,t){qe.call(this,e);for(var n in t)this[n]=t[n]}function ps(e,t){this.a=e,this.b=[],this.c=f(this.wc,this),Ke(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&Fc(t.multiFactor.enrolledFactors,function(e){var t=null,r={};if(e){e.uid&&(r[fh]=e.uid),e.displayName&&(r[lh]=e.displayName),e.enrollmentTime&&(r[hh]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ph]=e.phoneNumber);try{t=new jn(r)}catch(e){}e=t}else e=null;e&&n.push(e)}),ms(this,n)}function ds(e){var t=[];return Fc(e.mfaInfo||[],function(e){(e=Mn(e))&&t.push(e)}),t}function ms(e,t){e.b=t,kn(e,"enrolledFactors",t)}function vs(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function gs(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}function ys(e,t){e.stop(),e.b=lt(gs(e,t)).then(function(){return Tn()}).then(function(){return e.h()}).then(function(){ys(e,!0)}).o(function(t){e.i(t)&&ys(e,!1)})}function _s(e){this.c=e,this.b=this.a=null}function bs(e){return e.b&&1e3*e.b.c||0}function ws(e,t){var n=t.refreshToken;e.b=Qn(t[mf]||""),e.a=n}function Es(e,t){e.b=t.b,e.a=t.a}function Ts(e,t){return Bi(e.c,t).then(function(t){return e.b=Qn(t.access_token),e.a=t.refresh_token,{accessToken:e.b.toString(),refreshToken:e.a}}).o(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})}function Ss(e,t){this.a=e||null,this.b=t||null,Nn(this,{lastSignInTime:Sn(t||null),creationTime:Sn(e||null)})}function Cs(e){return new Ss(e.a,e.b)}function Is(e,t,n,r,i,o){Nn(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Os(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null,e=Ec.SDK_VERSION?sn(Ec.SDK_VERSION):null,this.a=new ji(this.l,g(Pc),e),this.b=new _s(this.a),Ds(this,t[mf]),ws(this.b,t),kn(this,"refreshToken",this.b.a),Fs(this,n||{}),ot.call(this),this.P=!1,this.s&&hn()&&(this.i=Ha(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=Ps(this),this.Z=f(this.Ma,this);var r=this;this.oa=null,this.za=function(e){r.va(e.g)},this.aa=null,this.W=[],this.ya=function(e){ks(r,e.c)},this.$=null,this.O=new ps(this,n),kn(this,"multiFactor",this.O)}function As(e,t){e.aa&&Je(e.aa,"languageCodeChanged",e.za),(e.aa=t)&&Ke(t,"languageCodeChanged",e.za)}function ks(e,t){e.W=t,Fi(e.a,Ec.SDK_VERSION?sn(Ec.SDK_VERSION,e.W):null)}function Ns(e,t){e.$&&Je(e.$,"frameworkChanged",e.ya),(e.$=t)&&Ke(t,"frameworkChanged",e.ya)}function xs(e){try{return Ec.app(e.m).auth()}catch(t){throw new m("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Ps(e){return new vs(function(){return e.I(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=bs(e.b)-xc()-3e5;return 0<t?t:0})}function Rs(e){e.D||e.B.b||(e.B.start(),Je(e,"tokenChanged",e.Z),Ke(e,"tokenChanged",e.Z))}function Ls(e){Je(e,"tokenChanged",e.Z),e.B.stop()}function Ds(e,t){e.xa=t,kn(e,"_lat",t)}function Ms(e,t){x(e.R,function(e){return e==t})}function js(e){for(var t=[],n=0;n<e.R.length;n++)t.push(e.R[n](e));return Ce(t).then(function(){return e})}function Us(e){e.i&&!e.P&&(e.P=!0,ja(e.i,e))}function Fs(e,t){Nn(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Ss(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function qs(){}function Vs(e){return we().then(function(){if(e.D)throw new m("app-deleted")})}function Bs(e){return Vc(e.providerData,function(e){return e.providerId})}function Hs(e,t){t&&(Ws(e,t.providerId),e.providerData.push(t))}function Ws(e,t){x(e.providerData,function(e){return e.providerId==t})}function zs(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&kn(e,t,n)}function Gs(e,t){e!=t&&(Nn(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?kn(e,"metadata",Cs(t.metadata)):kn(e,"metadata",new Ss),Fc(t.providerData,function(t){Hs(e,t)}),Es(e.b,t.b),kn(e,"refreshToken",e.b.a),ms(e.O,t.O.b))}function Ks(e){return e.I().then(function(t){var n=e.isAnonymous;return Ys(e,t).then(function(){return n||zs(e,"isAnonymous",!1),t})})}function Qs(e,t){t[mf]&&e.xa!=t[mf]&&(ws(e.b,t),e.dispatchEvent(new fs("tokenChanged")),Ds(e,t[mf]),zs(e,"refreshToken",e.b.a))}function Ys(e,t){return uo(e.a,Rf,{idToken:t}).then(f(e.Ic,e))}function Xs(e){return(e=e.providerUserInfo)&&e.length?Vc(e,function(e){return new Is(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]}function Js(e,t){return Ks(e).then(function(){if(k(Bs(e),t))return js(e).then(function(){throw new m("provider-already-linked")})})}function $s(e,t,n){var r=Dr(t);return t=Jn(t),xn({user:e,credential:r,additionalUserInfo:t,operationType:n})}function Zs(e,t){return Qs(e,t),e.reload().then(function(){return e})}function eu(e,t,n,r,i){if(!hn())return Ee(new m("operation-not-supported-in-this-environment"));if(e.h&&!i)return Ee(e.h);var o=Xn(n.providerId),a=yn(e.uid+":::"),s=null;(!dn()||en())&&e.s&&n.isOAuthProvider&&(s=So(e.s,e.l,e.m,t,n,null,a,Ec.SDK_VERSION||null,null,null,e.tenantId));var u=Yt(s,o&&o.ta,o&&o.sa);return r=r().then(function(){if(nu(e),!i)return e.I().then(function(){})}).then(function(){return Fa(e.i,u,t,n,a,!!s,e.tenantId)}).then(function(){return new ye(function(n,r){e.la(t,null,new m("cancelled-popup-request"),e.g||null),e.f=n,e.w=r,e.g=a,e.c=Ba(e.i,e,t,u,a)})}).then(function(e){return u&&Qt(u),e?xn(e):null}).o(function(e){throw u&&Qt(u),e}),ru(e,r,i)}function tu(e,t,n,r,i){if(!hn())return Ee(new m("operation-not-supported-in-this-environment"));if(e.h&&!i)return Ee(e.h);var o=null,a=yn(e.uid+":::");return r=r().then(function(){if(nu(e),!i)return e.I().then(function(){})}).then(function(){return e.fa=a,js(e)}).then(function(t){return e.ga&&(t=e.ga,t=t.b.set(Np,e.v(),t.a)),t}).then(function(){return Va(e.i,t,n,a,e.tenantId)}).o(function(t){if(o=t,e.ga)return cu(e.ga);throw o}).then(function(){if(o)throw o}),ru(e,r,i)}function nu(e){if(!e.i||!e.P){if(e.i&&!e.P)throw new m("internal-error");throw new m("auth-domain-config-required")}}function ru(e,t,n){var r=iu(e,t,n);return e.N.push(r),r.ma(function(){N(e.N,r)}),r.o(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=as(t.v(),xs(e),f(e.hc,e))),n||t})}function iu(e,t,n){return e.h&&!n?(t.cancel(),Ee(e.h)):t.o(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new fs("userInvalidated")),e.h=t),t})}function ou(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[mf]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=new Os(t,n,e);return e.providerData&&Fc(e.providerData,function(e){e&&Hs(r,xn(e))}),e.redirectEventId&&(r.fa=e.redirectEventId),r}function au(e,t,n,r){var i=new Os(e,t);return n&&(i.ga=n),r&&ks(i,r),i.reload().then(function(){return i})}function su(e,t,n,r){var i=e.b,o={};return o[mf]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new Os(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ga=n),r&&ks(t,r),Gs(t,e),t}function uu(e){this.a=e,this.b=oa()}function cu(e){return ca(e.b,Np,e.a)}function lu(e,t){return e.b.get(Np,e.a).then(function(e){return e&&t&&(e.authDomain=t),ou(e||{})})}function hu(e){this.a=e,this.b=oa(),this.c=null,this.f=pu(this),this.b.addListener(du("local"),this.a,f(this.g,this))}function fu(e,t){var n,r=[];for(n in dp)dp[n]!==t&&r.push(ca(e.b,du(dp[n]),e.a));return r.push(ca(e.b,xp,e.a)),Se(r)}function pu(e){var t=du("local"),n=du("session"),r=du("none");return ua(e.b,t,e.a).then(function(){return e.b.get(n,e.a)}).then(function(i){return i?n:e.b.get(r,e.a).then(function(n){return n?r:e.b.get(t,e.a).then(function(n){return n?t:e.b.get(xp,e.a).then(function(e){return e?du(e):t})})})}).then(function(t){return e.c=t,fu(e,t.F)}).o(function(){e.c||(e.c=t)})}function du(e){return{name:"authUser",F:e}}function mu(e){return _u(e,function(){return e.b.set(xp,e.c.F,e.a)})}function vu(e,t){return _u(e,function(){return e.b.set(e.c,t.v(),e.a)})}function gu(e){return _u(e,function(){return ca(e.b,e.c,e.a)})}function yu(e,t){return _u(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),ou(e||{})})})}function _u(e,t){return e.f=e.f.then(t,t),e.f}function bu(e){if(this.l=!1,kn(this,"settings",new es),kn(this,"app",e),!Ru(this).options||!Ru(this).options.apiKey)throw new m("invalid-api-key");e=Ec.SDK_VERSION?sn(Ec.SDK_VERSION):null,this.b=new ji(Ru(this).options&&Ru(this).options.apiKey,g(Pc),e),this.P=[],this.m=[],this.O=[],this.$b=Ec.INTERNAL.createSubscribe(f(this.xc,this)),this.W=void 0,this.ac=Ec.INTERNAL.createSubscribe(f(this.yc,this)),Au(this,null),this.i=new hu(Ru(this).options.apiKey+":"+Ru(this).name),this.B=new uu(Ru(this).options.apiKey+":"+Ru(this).name),this.Z=Uu(this,Nu(this)),this.h=Uu(this,xu(this)),this.aa=!1,this.oa=f(this.Xc,this),this.Ma=f(this.ca,this),this.xa=f(this.jc,this),this.ya=f(this.uc,this),this.za=f(this.vc,this),this.a=null,Cu(this),this.INTERNAL={},this.INTERNAL.delete=f(this.delete,this),this.INTERNAL.logFramework=f(this.Ec,this),this.s=0,ot.call(this),Tu(this),this.N=[]}function wu(e){qe.call(this,"languageCodeChanged"),this.g=e}function Eu(e){qe.call(this,"frameworkChanged"),this.c=e}function Tu(e){Object.defineProperty(e,"lc",{get:function(){return this.ja()},set:function(e){this.va(e)},enumerable:!1}),e.$=null,Object.defineProperty(e,"ti",{get:function(){return this.S()},set:function(e){this.ub(e)},enumerable:!1}),e.R=null}function Su(e){return e.Zb||Ee(new m("auth-domain-config-required"))}function Cu(e){var t=Ru(e).options.authDomain,n=Ru(e).options.apiKey;t&&hn()&&(e.Zb=e.Z.then(function(){if(!e.l){if(e.a=Ha(t,n,Ru(e).name),ja(e.a,e),Lu(e)&&Us(Lu(e)),e.D){Us(e.D);var r=e.D;r.va(e.ja()),As(r,e),r=e.D,ks(r,e.N),Ns(r,e),e.D=null}return e.a}}))}function Iu(e){if(!hn())return Ee(new m("operation-not-supported-in-this-environment"));var t=Su(e).then(function(){return e.a.pa()}).then(function(e){return e?xn(e):null});return Uu(e,t)}function Ou(e,t){var n={};return n.apiKey=Ru(e).options.apiKey,n.authDomain=Ru(e).options.authDomain,n.appName=Ru(e).name,e.Z.then(function(){return au(n,t,e.B,e.Ea())}).then(function(t){return Lu(e)&&t.uid==Lu(e).uid?(Gs(Lu(e),t),e.ca(t)):(Au(e,t),Us(t),e.ca(t))}).then(function(){Mu(e)})}function Au(e,t){Lu(e)&&(Ms(Lu(e),e.Ma),Je(Lu(e),"tokenChanged",e.xa),Je(Lu(e),"userDeleted",e.ya),Je(Lu(e),"userInvalidated",e.za),Ls(Lu(e))),t&&(t.R.push(e.Ma),Ke(t,"tokenChanged",e.xa),Ke(t,"userDeleted",e.ya),Ke(t,"userInvalidated",e.za),0<e.s&&Rs(t)),kn(e,"currentUser",t),t&&(t.va(e.ja()),As(t,e),ks(t,e.N),Ns(t,e))}function ku(e){var t=lu(e.B,Ru(e).options.authDomain).then(function(t){return(e.D=t)&&(t.ga=e.B),cu(e.B)});return Uu(e,t)}function Nu(e){var t=Ru(e).options.authDomain,n=ku(e).then(function(){return yu(e.i,t)}).then(function(t){return t?(t.ga=e.B,e.D&&(e.D.fa||null)==(t.fa||null)?t:t.reload().then(function(){return vu(e.i,t).then(function(){return t})}).o(function(n){return"auth/network-request-failed"==n.code?t:gu(e.i)})):null}).then(function(t){Au(e,t||null)});return Uu(e,n)}function xu(e){return e.Z.then(function(){return Iu(e)}).o(function(){}).then(function(){if(!e.l)return e.oa()}).o(function(){}).then(function(){if(!e.l){e.aa=!0;var t=e.i;t.b.addListener(du("local"),t.a,e.oa)}})}function Pu(e,t){var n=null,r=null;return Uu(e,t.then(function(t){return n=Dr(t),r=Jn(t),Ou(e,t)},function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=as(t.v(),e,f(e.ic,e))),n||t}).then(function(){return xn({user:Lu(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Ru(e){return e.app}function Lu(e){return e.currentUser}function Du(e){return Lu(e)&&Lu(e)._lat||null}function Mu(e){if(e.aa){for(var t=0;t<e.m.length;t++)e.m[t]&&e.m[t](Du(e));if(e.W!==e.getUid()&&e.O.length)for(e.W=e.getUid(),t=0;t<e.O.length;t++)e.O[t]&&e.O[t](Du(e))}}function ju(e,t){e.O.push(t),Uu(e,e.h.then(function(){!e.l&&k(e.O,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Du(e)))}))}function Uu(e,t){return e.P.push(t),t.ma(function(){N(e.P,t)}),t}function Fu(){}function qu(){this.a={},this.b=1e12}function Vu(e,t){return(t=Bu(t))?e.a[t]||null:null}function Bu(e){return(e=void 0===e?1e12:e)?e.toString():null}function Hu(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():Ke(this.f,"click",this.i)}function Wu(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function zu(){}function Gu(){}function Ku(){this.b=Ic.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}function Qu(e,t,n,r,i,o,a){if(kn(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=t,this.g=null,a?(Rp||(Rp=new Gu),a=Rp):(Mp||(Mp=new Ku),a=Mp),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Fp])throw new m("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[qp],!Ic.document)throw new m("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(t)||!this.i&&se(t).hasChildNodes())throw new m("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ji(e,o||null,i||null),this.w=r||function(){return null};var s=this;this.l=[];var u=this.a[jp];this.a[jp]=function(e){if(Yu(s,e),"function"==typeof u)u(e);else if("string"==typeof u){var t=cn(u,Ic);"function"==typeof t&&t(e)}};var c=this.a[Up];this.a[Up]=function(){if(Yu(s,null),"function"==typeof c)c();else if("string"==typeof c){var e=cn(c,Ic);"function"==typeof e&&e()}}}function Yu(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function Xu(e,t){x(e.l,function(e){return e==t})}function Ju(e,t){return e.h.push(t),t.ma(function(){N(e.h,t)}),t}function $u(e){if(e.D)throw new m("internal-error","RecaptchaVerifier instance has been destroyed.")}function Zu(e,t,n){var r=!1;try{this.b=n||Ec.app()}catch(e){throw new m("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new m("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ea()}catch(e){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}o=Ec.SDK_VERSION?sn(Ec.SDK_VERSION,o):null,Qu.call(this,n,e,t,function(){try{var e=i.b.auth().ja()}catch(t){e=null}return e},o,g(Pc),r)}function ec(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new m("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].K(n[i])&&!o){if(t=t[i],0>i||i>=Vp.length)throw new m("internal-error","Argument validator received an unsupported number of arguments.");n=Vp[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.J+".";break e}r=null}}if(r)throw new m("argument-error",e+" failed: "+r)}function tc(e,t){return{name:e||"",J:"a valid string",optional:!!t,K:function(e){return"string"==typeof e}}}function nc(e,t){return{name:e||"",J:"a boolean",optional:!!t,K:function(e){return"boolean"==typeof e}}}function rc(e,t){return{name:e||"",J:"a valid object",optional:!!t,K:u}}function ic(e,t){return{name:e||"",J:"a function",optional:!!t,K:function(e){return"function"==typeof e}}}function oc(e,t){return{name:e||"",J:"null",optional:!!t,K:function(e){return null===e}}}function ac(){return{name:"",J:"an HTML element",optional:!1,K:function(e){return!!(e&&e instanceof Element)}}}function sc(){return{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(e){return!!(e&&e instanceof bu)}}}function uc(){return{name:"app",J:"an instance of Firebase App",optional:!0,K:function(e){return!!(e&&e instanceof Ec.app.App)}}}function cc(e){return{name:e?e+"Credential":"credential",J:e?"a valid "+e+" credential":"a valid credential",optional:!1,K:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ia||!n)}}}function lc(){return{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(e){return!!e&&!!e.ob}}}function hc(){return{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}}function fc(e,t){return u(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Fa}function pc(e){return u(e)&&"string"==typeof e.uid}function dc(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}}function mc(e,t,n,r){return{name:n||"",J:e.J+" or "+t.J,optional:!!r,K:function(n){return e.K(n)||t.K(n)}}}function vc(e,t){for(var n in t){var r=t[n].name;e[r]=_c(r,e[n],t[n].j)}}function gc(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:p(function(e){return this[e]},n),set:p(function(e,t,n,r){ec(e,[n],[r],!0),this[t]=r},r,n,t[n].gb),enumerable:!0})}}function yc(e,t,n,r){e[t]=_c(t,n,r)}function _c(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return ec(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=bc(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}function bc(e){return e=e.split("."),e[e.length-1]}var wc,Ec=n(28).default,Tc="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},Sc=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e,t];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}return globalThis}(this);!function(e,t){if(t){var n=Sc;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];i in n||(n[i]={}),n=n[i]}e=e[e.length-1],r=n[e],(t=t(r))!=r&&null!=t&&Tc(n,e,{configurable:!0,writable:!0,value:t})}}("Promise",function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c(function(){t.g()})}this.a.push(e)};var o=Sc.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c(function(){throw e})},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.h(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.w(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.b(this.a[e]);this.a=null}};var a=new n;return t.prototype.s=function(e){var t=this.f();e.Oa(t.resolve,t.reject)},t.prototype.w=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){o(e)}}:t}var i,o,a=new t(function(e,t){i=e,o=t});return this.Oa(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Oa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var o=r(e),a=o.next();!a.done;a=o.next())i(a.value).Oa(t,n)})},t.all=function(e){var n=r(e),o=n.next();return o.done?i([]):new t(function(e,t){var r=[],a=0;do{r.push(void 0),a++,i(o.value).Oa(function(t){return function(n){r[t]=n,0==--a&&e(r)}}(r.length-1),t),o=n.next()}while(!o.done)})},t});var Cc=Cc||{},Ic=this||self,Oc=/^[\w+/_-]+[=]{0,2}$/,Ac=null,kc="closure_uid_"+(1e9*Math.random()>>>0),Nc=0,xc=Date.now||function(){return+new Date};d(m,Error),m.prototype.v=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},m.prototype.toJSON=function(){return this.v()};var Pc,Rc="auth/",Lc={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Dc={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};Pc=g("__EID__")?"__EID__":void 0,d(_,Error),_.prototype.name="CustomError",d(b,_),b.prototype.name="AssertionError",E.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Mc=new E(function(){return new I},function(e){e.reset()});S.prototype.add=function(e,t){var n=Mc.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},I.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},I.prototype.reset=function(){this.next=this.b=this.a=null};var jc,Uc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Fc=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},qc=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},Vc=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},Bc=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1},Hc=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},Wc=/&/g,zc=/</g,Gc=/>/g,Kc=/"/g,Qc=/'/g,Yc=/\x00/g,Xc=/[\x00&<>"']/;e:{var Jc=Ic.navigator;if(Jc){var $c=Jc.userAgent;if($c){jc=$c;break e}}jc=""}var Zc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");B.prototype.ra=!0,B.prototype.qa=function(){return this.a},B.prototype.toString=function(){return"Const{"+this.a+"}"};var el={},tl={},nl=new B(tl,"");W.prototype.ra=!0,W.prototype.qa=function(){return this.a.toString()},W.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var rl=/%{(\w+)}/g,il=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ol={},al={};K.prototype.ra=!0,K.prototype.qa=function(){return this.a.toString()},K.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var sl=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,ul={},cl={};X.prototype.ra=!0,X.prototype.qa=function(){return this.a.toString()},X.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var ll={};$("<!DOCTYPE html>");var hl=$("");$("<br>"),re[" "]=i;var fl,pl=M("Opera"),dl=M("Trident")||M("MSIE"),ml=M("Edge"),vl=ml||dl,gl=M("Gecko")&&!(L(jc.toLowerCase(),"webkit")&&!M("Edge"))&&!(M("Trident")||M("MSIE"))&&!M("Edge"),yl=L(jc.toLowerCase(),"webkit")&&!M("Edge");e:{var _l="",bl=function(){var e=jc;return gl?/rv:([^\);]+)(\)|;)/.exec(e):ml?/Edge\/([\d\.]+)/.exec(e):dl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):yl?/WebKit\/(\S+)/.exec(e):pl?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(bl&&(_l=bl?bl[1]:""),dl){var wl=oe();if(null!=wl&&wl>parseFloat(_l)){fl=String(wl);break e}}fl=_l}var El,Tl={};El=Ic.document&&dl?oe():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(e){}var Sl,Cl,Il=!dl||9<=Number(El),Ol={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Al=!1,kl=new S,Nl=0,xl=2,Pl=3;_e.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Rl=new E(function(){return new _e},function(e){e.reset()});ye.prototype.then=function(e,t,n){return Ae(this,s(e)?e:null,s(t)?t:null,n)},ye.prototype.$goog_Thenable=!0,wc=ye.prototype,wc.ma=function(e,t){return e=be(e,e,t),e.c=!0,Oe(this,e),this},wc.o=function(e,t){return Ae(this,null,e,t)},wc.cancel=function(e){if(this.a==Nl){var t=new je(e);me(function(){Ie(this,t)},this)}},wc.Yc=function(e){this.a=Nl,ke(this,xl,e)},wc.Zc=function(e){this.a=Nl,ke(this,Pl,e)},wc.ec=function(){for(var e;e=Re(this);)Le(this,e,this.a,this.i);this.h=!1};var Ll=pe;d(je,_),je.prototype.name="cancel";var Dl=0,Ml={};Ue.prototype.wa=!1,Ue.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var jl=Object.freeze||function(e){return e},Ul=!dl||9<=Number(El),Fl=dl&&!ae("9"),ql=function(){if(!Ic.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ic.addEventListener("test",i,t),Ic.removeEventListener("test",i,t)}catch(e){}return e}();qe.prototype.preventDefault=function(){this.defaultPrevented=!0},d(Ve,qe);var Vl=jl({2:"touch",3:"pen",4:"mouse"});Ve.prototype.preventDefault=function(){Ve.Za.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Fl)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},Ve.prototype.f=function(){return this.a};var Bl="closure_listenable_"+(1e6*Math.random()|0),Hl=0;We.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Ge(e,t,r,i);return-1<a?(t=e[a],n||(t.Na=!1)):(t=new Be(t,this.src,o,!!r,i),t.Na=n,e.push(t)),t};var Wl="closure_lm_"+(1e6*Math.random()|0),zl={},Gl=0,Kl="__closure_events_fn_"+(1e9*Math.random()>>>0);d(ot,Ue),ot.prototype[Bl]=!0,ot.prototype.addEventListener=function(e,t,n,r){Ke(this,e,t,n,r)},ot.prototype.removeEventListener=function(e,t,n,r){Je(this,e,t,n,r)},ot.prototype.dispatchEvent=function(e){var t,n=this.eb;if(n)for(t=[];n;n=n.eb)t.push(n);n=this.Yb;var r=e.type||e;if("string"==typeof e)e=new qe(e,n);else if(e instanceof qe)e.target=e.target||n;else{var i=e;e=new qe(r,n),q(e,i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=ut(a,r,!0,e)&&i}if(a=e.b=n,i=ut(a,r,!0,e)&&i,i=ut(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)a=e.b=t[o],i=ut(a,r,!1,e)&&i;return i},ot.prototype.Ba=function(){if(ot.Za.Ba.call(this),this.u){var e,t=this.u,n=0;for(e in t.a){for(var r=t.a[e],i=0;i<r.length;i++)++n,He(r[i]);delete t.a[e],t.b--}}this.eb=null},wc=dt.prototype,wc.V=function(){mt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},wc.X=function(){return mt(this),this.a.concat()},wc.clear=function(){this.b={},this.c=this.a.length=0},wc.get=function(e,t){return vt(this.b,e)?this.b[e]:t},wc.set=function(e,t){vt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},wc.forEach=function(e,t){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Ql=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;yt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Ot(t,Yl,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.i)&&e.push(Ot(t,Yl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&e.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ot(n,"/"==n.charAt(0)?Jl:Xl,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.g)&&e.push("#",Ot(n,Zl)),e.join("")},yt.prototype.resolve=function(e){var t=new yt(this),n=!!e.f;n?_t(t,e.f):n=!!e.i,n?t.i=e.i:n=!!e.b,n?t.b=e.b:n=null!=e.l;var r=e.c;if(n)bt(t,e.l);else if(n=!!e.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=t.c.lastIndexOf("/");-1!=i&&(r=t.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(L(i,"./")||L(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.c=r:n=""!==e.a.toString(),n?wt(t,Dt(e.a)):n=!!e.g,n&&(t.g=e.g),t};var Yl=/[#\/\?@]/g,Xl=/[#\?:]/g,Jl=/[#\?]/g,$l=/[#\?@]/g,Zl=/#/g;wc=kt.prototype,wc.add=function(e,t){Nt(this),this.c=null,e=Mt(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},wc.clear=function(){this.a=this.c=null,this.b=0},wc.forEach=function(e,t){Nt(this),this.a.forEach(function(n,r){Fc(n,function(n){e.call(t,n,r,this)},this)},this)},wc.X=function(){Nt(this);for(var e=this.a.V(),t=this.a.X(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},wc.V=function(e){Nt(this);var t=[];if("string"==typeof e)Rt(this,e)&&(t=P(t,this.a.get(Mt(this,e))));else{e=this.a.V();for(var n=0;n<e.length;n++)t=P(t,e[n])}return t},wc.set=function(e,t){return Nt(this),this.c=null,e=Mt(this,e),Rt(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},wc.get=function(e,t){return e?(e=this.V(e),0<e.length?String(e[0]):t):t},wc.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.X(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var eh={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},th=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,nh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rh=/^[^@]+@[^@]+$/,ih="Firefox",oh="Chrome",ah={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};wn.prototype.get=function(){var e=Ic.navigator;return(e&&"boolean"==typeof e.onLine&&(fn()||"chrome-extension:"===pn()||void 0!==e.connection)?e.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};var sh,uh={};try{var ch={};Object.defineProperty(ch,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(ch,"abcd",{configurable:!0,enumerable:!0,value:2}),sh=2==ch.abcd}catch(e){sh=!1}Dn.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var lh="displayName",hh="enrolledAt",fh="mfaEnrollmentId",ph="phoneInfo";d(jn,Dn),jn.prototype.v=function(){var e=jn.Za.v.call(this);return e.phoneNumber=this.phoneNumber,e};var dh="REVERT_SECOND_FACTOR_ADDITION",mh="EMAIL_SIGNIN",vh="VERIFY_AND_CHANGE_EMAIL",gh="email",yh="mfaInfo",_h="newEmail",bh="requestType",wh="email",Eh="fromEmail",Th="multiFactorInfo",Sh="previousEmail",Ch="data",Ih="operation",Oh="apiKey",Ah="oobCode",kh="continueUrl",Nh="languageCode",xh="mode",Ph="tenantId",Rh={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:dh,signIn:mh,verifyAndChangeEmail:vh,verifyEmail:"VERIFY_EMAIL"},Lh="android",Dh="dynamicLinkDomain",Mh="handleCodeInApp",jh="iOS",Uh="url",Fh="installApp",qh="minimumVersion",Vh="packageName",Bh="bundleId",Hh=null;Kn.prototype.S=function(){return this.f},Kn.prototype.i=function(){return this.b},Kn.prototype.toString=function(){return this.g};var Wh="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),zh=["client_id","response_type","scope","redirect_uri","state"],Gh={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:zh},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:zh},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:zh},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Wh},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}},Kh="idToken",Qh="providerId";d(Zn,$n),d(er,Zn),d(tr,Zn),d(nr,Zn),d(rr,Zn);var Yh="enroll",Xh="signin";or.prototype.Fa=function(){return we(this.a?this.a:this.b)},or.prototype.v=function(){return this.type==Yh?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ar.prototype.ia=function(){},ar.prototype.b=function(){},ar.prototype.c=function(){},ar.prototype.v=function(){},ur.prototype.ia=function(e){return io(e,cr(this))},ur.prototype.b=function(e,t){var n=cr(this);return n.idToken=t,oo(e,n)},ur.prototype.c=function(e,t){return sr(ao(e,cr(this)),t)},ur.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},hr.prototype.ia=function(e){return io(e,fr(this))},hr.prototype.b=function(e,t){var n=fr(this);return n.idToken=t,oo(e,n)},hr.prototype.c=function(e,t){return sr(ao(e,fr(this)),t)},hr.prototype.v=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},dr.prototype.Ia=function(e){return this.Fb=F(e),this},d(mr,dr),d(vr,dr),vr.prototype.Aa=function(e){return k(this.a,e)||this.a.push(e),this},vr.prototype.Nb=function(){return R(this.a)},vr.prototype.credential=function(e,t){var n;if(n=u(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null},!n.idToken&&!n.accessToken)throw new m("argument-error","credential failed: must provide the ID token and/or the access token.");return new hr(this.providerId,n,this.providerId)},d(gr,vr),kn(gr,"PROVIDER_ID","facebook.com"),kn(gr,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),d(_r,vr),kn(_r,"PROVIDER_ID","github.com"),kn(_r,"GITHUB_SIGN_IN_METHOD","github.com"),d(wr,vr),kn(wr,"PROVIDER_ID","google.com"),kn(wr,"GOOGLE_SIGN_IN_METHOD","google.com"),d(Tr,dr),kn(Tr,"PROVIDER_ID","twitter.com"),kn(Tr,"TWITTER_SIGN_IN_METHOD","twitter.com"),Cr.prototype.ia=function(e){return this.signInMethod==Or.EMAIL_LINK_SIGN_IN_METHOD?uo(e,kf,{email:this.a,oobCode:this.f}):uo(e,Jf,{email:this.a,password:this.f})},Cr.prototype.b=function(e,t){return this.signInMethod==Or.EMAIL_LINK_SIGN_IN_METHOD?uo(e,Nf,{idToken:t,email:this.a,oobCode:this.f}):uo(e,Hf,{idToken:t,email:this.a,password:this.f})},Cr.prototype.c=function(e,t){return sr(this.ia(e),t)},Cr.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Nn(Or,{PROVIDER_ID:"password"}),Nn(Or,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Nn(Or,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Nr.prototype.ia=function(e){return e.cb(Pr(this))},Nr.prototype.b=function(e,t){var n=Pr(this);return n.idToken=t,uo(e,Zf,n)},Nr.prototype.c=function(e,t){var n=Pr(this);return n.operation="REAUTH",e=uo(e,ep,n),sr(e,t)},Nr.prototype.v=function(){var e={providerId:"phone"};return this.a.bb&&(e.verificationId=this.a.bb),this.a.ab&&(e.verificationCode=this.a.ab),this.a.Ja&&(e.temporaryProof=this.a.Ja),this.a.da&&(e.phoneNumber=this.a.da),e},Rr.prototype.cb=function(e,t){var n=this.a.b;return we(t.verify()).then(function(r){if("string"!=typeof r)throw new m("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i,o=u(e)?e.session:null,a=u(e)?e.phoneNumber:e;return i=o&&o.type==Yh?o.Fa().then(function(e){return Ji(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})}):o&&o.type==Xh?o.Fa().then(function(t){return Zi(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):Xi(n,{phoneNumber:a,recaptchaToken:r}),i.then(function(e){return"function"==typeof t.reset&&t.reset(),e},function(e){throw"function"==typeof t.reset&&t.reset(),e});default:throw new m("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Nn(Rr,{PROVIDER_ID:"phone"}),Nn(Rr,{PHONE_SIGN_IN_METHOD:"phone"}),jr.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},jr.prototype.S=function(){return this.h},jr.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Jh=null;d(Vr,m),d(Br,m),Br.prototype.v=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.v();return t&&q(e,t),e},Br.prototype.toJSON=function(){return this.v()},Wr.prototype.c=null;var $h;d(Gr,Wr),Gr.prototype.a=function(){var e=Kr(this);return e?new ActiveXObject(e):new XMLHttpRequest},Gr.prototype.b=function(){var e={};return Kr(this)&&(e[0]=!0,e[1]=!0),e},$h=new Gr,d(Qr,Wr),Qr.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Yr;throw Error("Unsupported browser")},Qr.prototype.b=function(){return{}},wc=Yr.prototype,wc.open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},wc.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},wc.abort=function(){this.a.abort()},wc.setRequestHeader=function(){},wc.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},wc.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Xr(this,4)},wc.Pb=function(){this.status=500,this.response=this.responseText="",Xr(this,4)},wc.tc=function(){this.Pb()},wc.pc=function(){this.status=200,Xr(this,1)},wc.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Jr.prototype.a=null;var Zh=0;Jr.prototype.reset=function(e,t,n,r,i){"number"==typeof i||Zh++,r||xc(),delete this.a},Zr.prototype.toString=function(){return this.name};var ef=new Zr("SEVERE",1e3),tf=new Zr("WARNING",900),nf=new Zr("CONFIG",700),rf=new Zr("FINE",500);$r.prototype.log=function(e,t,n){if(e.value>=ei(this).value)for(s(t)&&(t=t()),e=new Jr(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var of={},af=null;d(ri,Wr),ri.prototype.a=function(){return new ii(this.f)},ri.prototype.b=function(e){return function(){return e}}({}),d(ii,ot);var sf=0;wc=ii.prototype,wc.open=function(e,t){if(this.readyState!=sf)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=t,this.readyState=1,si(this)},wc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(t.body=e),this.s.fetch(new Request(this.g,t)).then(this.sc.bind(this),this.Sa.bind(this))},wc.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ai(this,!1)),this.readyState=sf},wc.sc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,si(this)),this.a&&(this.readyState=3,si(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==Ic.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,oi(this)):e.text().then(this.rc.bind(this),this.Sa.bind(this)))))},wc.nc=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ai(this,!0):si(this),3==this.readyState&&oi(this)}},wc.rc=function(e){this.a&&(this.response=this.responseText=e,ai(this,!0))},wc.qc=function(e){this.a&&(this.response=e,ai(this,!0))},wc.Sa=function(e){var t=this.h;t&&t.log(tf,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&ai(this,!0)},wc.setRequestHeader=function(e,t){this.i.append(e,t)},wc.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(tf,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},wc.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(tf,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},d(ui,ot);var uf="";ui.prototype.b=ti("goog.net.XhrIo");var cf=/^https?$/i,lf=["POST","PUT"];wc=ui.prototype,wc.Ka=function(){void 0!==Cc&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ni(this.b,bi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},wc.abort=function(){this.a&&this.c&&(ni(this.b,bi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),mi(this))},wc.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),mi(this,!0)),ui.Za.Ba.call(this)},wc.Sb=function(){this.wa||(this.O||this.i||this.f?di(this):this.Hc())},wc.Hc=function(){di(this)},wc.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case uf:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ef,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ni(this.b,"Can not get response: "+e.message),null}},wi.prototype.cancel=function(e){if(this.a)this.c instanceof wi&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):0>=--t.l&&t.cancel()}this.w?this.w.call(this.s,this):this.u=!0,this.a||(e=new ki(this),Ti(this),Ei(this,!1,e))}},wi.prototype.m=function(e,t){this.i=!1,Ei(this,e,t)},wi.prototype.then=function(e,t,n){var r,i,o=new ye(function(e,t){r=e,i=t});return Ci(this,r,function(e){e instanceof ki?o.cancel():i(e)}),o.then(e,t,n)},wi.prototype.$goog_Thenable=!0,d(Ai,_),Ai.prototype.message="Deferred has already fired",Ai.prototype.name="AlreadyCalledError",d(ki,_),ki.prototype.message="Deferred was canceled",ki.prototype.name="CanceledError",Ni.prototype.c=function(){throw delete hf[this.a],this.b};var hf={},ff=0,pf=1;d(Di,_),d(Mi,Wr),Mi.prototype.a=function(){return new this.f},Mi.prototype.b=function(){return{}};var df,mf="idToken",vf=new wn(3e4,6e4),gf={"Content-Type":"application/x-www-form-urlencoded"},yf=new wn(3e4,6e4),_f={"Content-Type":"application/json"};ji.prototype.S=function(){return this.b},ji.prototype.w=function(e,t,n,r,i,o){if(tn()&&(void 0===Ic.fetch||void 0===Ic.Headers||void 0===Ic.Request))throw new m("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ui(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout(function(){a.dispatchEvent("timeout")},o)}at(a,"complete",function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(_i(this))||null}catch(t){e=null}t&&t(e)}),st(a,"ready",function(){s&&clearTimeout(s),Fe(this)}),st(a,"timeout",function(){s&&clearTimeout(s),Fe(this),t&&t(null)}),ci(a,e,n,r,i)};var bf=new B(tl,"https://apis.google.com/js/client.js?onload=%{onload}"),wf="__fcb"+Math.floor(1e6*Math.random()).toString();ji.prototype.s=function(e,t,n,r,i){var o=this;df.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).o(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},ji.prototype.vb=function(){return uo(this,Wf,{})},ji.prototype.xb=function(e,t){return uo(this,Bf,{idToken:e,email:t})},ji.prototype.yb=function(e,t){return uo(this,Hf,{idToken:e,password:t})};var Ef={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};wc=ji.prototype,wc.zb=function(e,t){var n={idToken:e},r=[];return j(Ef,function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),uo(this,Bf,n)},wc.rb=function(e,t){return e={requestType:"PASSWORD_RESET",email:e},q(e,t),uo(this,jf,e)},wc.sb=function(e,t){return e={requestType:"EMAIL_SIGNIN",email:e},q(e,t),uo(this,Lf,e)},wc.qb=function(e,t){return e={requestType:"VERIFY_EMAIL",idToken:e},q(e,t),uo(this,Df,e)},wc.Ab=function(e,t,n){return e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},q(e,n),uo(this,Mf,e)},wc.cb=function(e){return uo(this,$f,e)},wc.jb=function(e,t){return uo(this,qf,{oobCode:e,newPassword:t})},wc.Pa=function(e){return uo(this,Sf,{oobCode:e})},wc.fb=function(e){return uo(this,Tf,{oobCode:e})};var Tf={endpoint:"setAccountInfo",A:so,Y:"email",C:!0},Sf={endpoint:"resetPassword",A:so,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new m("internal-error")},C:!0},Cf={endpoint:"signupNewUser",A:function(e){if(Wi(e),!e.password)throw new m("weak-password")},G:Qi,U:!0,C:!0},If={endpoint:"createAuthUri",C:!0},Of={endpoint:"deleteAccount",M:["idToken"]},Af={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(e){if("array"!=o(e.deleteProvider))throw new m("internal-error")}},kf={endpoint:"emailLinkSignin",M:["email","oobCode"],A:Wi,G:Qi,U:!0,C:!0},Nf={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:Wi,G:Qi,U:!0},xf={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:$i,G:Qi,C:!0,La:!0},Pf={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:$i,G:Qi,C:!0,La:!0},Rf={endpoint:"getAccountInfo"},Lf={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new m("internal-error");Wi(e)},Y:"email",C:!0},Df={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new m("internal-error")},Y:"email",C:!0},Mf={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new m("internal-error")},Y:"email",C:!0},jf={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new m("internal-error");Wi(e)},Y:"email",C:!0},Uf={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Ff={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new m("internal-error")}},qf={endpoint:"resetPassword",A:so,Y:"email",C:!0},Vf={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Bf={endpoint:"setAccountInfo",M:["idToken"],A:zi,U:!0},Hf={endpoint:"setAccountInfo",M:["idToken"],A:function(e){if(zi(e),!e.password)throw new m("weak-password")},G:Qi,U:!0},Wf={endpoint:"signupNewUser",G:Qi,U:!0,C:!0},zf={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new m("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new m("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new m("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new m("internal-error")},C:!0,La:!0},Gf={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new m("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new m("internal-error")},C:!0,La:!0},Kf={endpoint:"verifyAssertion",A:to,Wa:no,G:ro,U:!0,C:!0},Qf={endpoint:"verifyAssertion",A:to,Wa:no,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new m("user-not-found");if(e.errorMessage)throw co(e.errorMessage);Qi(e)},U:!0,C:!0},Yf={endpoint:"verifyAssertion",A:function(e){if(to(e),!e.idToken)throw new m("internal-error")},Wa:no,G:ro,U:!0},Xf={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new m("invalid-custom-token")},G:Qi,U:!0,C:!0},Jf={endpoint:"verifyPassword",A:function(e){if(Wi(e),!e.password)throw new m("wrong-password")},G:Qi,U:!0,C:!0},$f={endpoint:"verifyPhoneNumber",A:Yi,G:Qi,C:!0},Zf={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new m("internal-error");Yi(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Hr(e);Qi(e)}},ep={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Yi,G:Qi,C:!0},tp={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[mf]^!!e.refreshToken)throw new m("internal-error")},C:!0,La:!0},np=new B(tl,"https://apis.google.com/js/api.js?onload=%{onload}"),rp=new wn(3e4,6e4),ip=new wn(5e3,15e3),op=null;go.prototype.toString=function(){return this.f?Et(this.a,"v",this.f):Pt(this.a.a,"v"),this.b?Et(this.a,"eid",this.b):Pt(this.a.a,"eid"),this.c.length?Et(this.a,"fw",this.c.join(",")):Pt(this.a.a,"fw"),this.a.toString()},yo.prototype.ub=function(e){return this.h=e,this},yo.prototype.toString=function(){var e=Ct(this.s,"/__/auth/handler");if(Et(e,"apiKey",this.m),Et(e,"appName",this.c),Et(e,"authType",this.u),this.a.isOAuthProvider){var t=this.a;try{var n=Ec.app(this.c).auth().ja()}catch(e){n=null}t.kb=n,Et(e,"providerId",this.a.providerId),t=this.a,n=vn(t.Fb);for(var r in n)n[r]=n[r].toString();r=t.Oc,n=F(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}t.lb&&t.kb&&!n[t.lb]&&(n[t.lb]=t.kb),U(n)||Et(e,"customParameters",mn(n))}if("function"==typeof this.a.Nb&&(t=this.a.Nb(),t.length&&Et(e,"scopes",t.join(","))),this.l?Et(e,"redirectUrl",this.l):Pt(e.a,"redirectUrl"),this.g?Et(e,"eventId",this.g):Pt(e.a,"eventId"),this.i?Et(e,"v",this.i):Pt(e.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Tt(e,a)&&Et(e,a,this.b[a]);return this.h?Et(e,"tid",this.h):Pt(e.a,"tid"),this.f?Et(e,"eid",this.f):Pt(e.a,"eid"),a=_o(this.c),a.length&&Et(e,"fw",a.join(",")),e.toString()},wc=bo.prototype,wc.Lb=function(e,t,n){var r=new m("popup-closed-by-user"),i=new m("web-storage-unsupported"),o=this,a=!1;return this.ka().then(function(){Io(o).then(function(n){n||(e&&Qt(e),t(i),a=!0)})}).o(function(){}).then(function(){if(!a)return Xt(e)}).then(function(){if(!a)return lt(n).then(function(){t(r)})})},wc.Ub=function(){var e=un();return!dn(e)&&!_n(e)},wc.Qb=function(){return!1},wc.Jb=function(e,t,n,r,i,o,a,s){if(!e)return Ee(new m("popup-blocked"));if(a&&!dn())return this.ka().o(function(t){Qt(e),i(t)}),r(),we();this.a||(this.a=wo(To(this)));var u=this;return this.a.then(function(){var t=u.ka().o(function(t){throw Qt(e),i(t),t});return r(),t}).then(function(){Mr(n),a||Wt(So(u.u,u.f,u.b,t,n,null,o,u.c,void 0,u.h,s),e)}).o(function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e})},wc.Kb=function(e,t,n,r){this.a||(this.a=wo(To(this)));var i=this;return this.a.then(function(){Mr(t),Wt(So(i.u,i.f,i.b,e,t,Ht(),n,i.c,void 0,i.h,r))}).o(function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e})},wc.ka=function(){var e=this;return Eo(this).then(function(){return e.i.nb}).o(function(){throw e.a=null,new m("network-request-failed")})},wc.Xb=function(){return!0},wc.Ca=function(e){this.g.push(e)},wc.Qa=function(e){x(this.g,function(t){return t==e})},wc=Oo.prototype,wc.get=function(e){return we(this.a.getItem(e)).then(function(e){return e&&gn(e)})},wc.set=function(e,t){return we(this.a.setItem(e,mn(t)))},wc.T=function(e){return we(this.a.removeItem(e))},wc.ba=function(){},wc.ha=function(){};var ap=[];Ao.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];Fc(r,function(t){i.push(we().then(function(){return t(e.origin,e.data.data)}))}),Ce(i).then(function(r){var i=[];Fc(r,function(e){i.push({fulfilled:e.Mb,value:e.value,reason:e.reason?e.reason.message:void 0})}),Fc(i,function(e){for(var t in e)void 0===e[t]&&delete e[t]}),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})})}},xo.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Po.prototype.close=function(){for(;0<this.a.length;)Lo(this,this.a[0]);this.b=!0};var sp;wc=Do.prototype,wc.set=function(e,t){var n,r=!1,i=this;return Uo(this).then(function(t){return n=t,t=qo(Vo(n,!0)),Bo(t.get(e))}).then(function(o){var a=qo(Vo(n,!0));return o?(o.value=t,Bo(a.put(o))):(i.b++,r=!0,o={},o.fbase_key=e,o.value=t,Bo(a.add(o)))}).then(function(){return i.c[e]=t,Ho(i,e)}).ma(function(){r&&i.b--})},wc.get=function(e){return Uo(this).then(function(t){return Bo(qo(Vo(t,!1)).get(e))}).then(function(e){return e&&e.value})},wc.T=function(e){var t=!1,n=this;return Uo(this).then(function(r){return t=!0,n.b++,Bo(qo(Vo(r,!0)).delete(e))}).then(function(){return delete n.c[e],Ho(n,e)}).ma(function(){t&&n.b--})},wc.ba=function(e){0==this.a.length&&zo(this),this.a.push(e)},wc.ha=function(e){x(this.a,function(t){return t==e}),0==this.a.length&&Go(this)},wc=Ko.prototype,wc.get=function(e){return this.b.then(function(t){return t.get(e)})},wc.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},wc.T=function(e){return this.b.then(function(t){return t.T(e)})},wc.ba=function(e){this.a.push(e)},wc.ha=function(e){x(this.a,function(t){return t==e})},wc=Qo.prototype,wc.get=function(e){return we(this.a[e])},wc.set=function(e,t){return this.a[e]=t,we()},wc.T=function(e){return delete this.a[e],we()},wc.ba=function(){},wc.ha=function(){},wc=Yo.prototype,wc.get=function(e){var t=this;return we().then(function(){return gn(t.a.getItem(e))})},wc.set=function(e,t){var n=this;return we().then(function(){var r=mn(t);null===r?n.T(e):n.a.setItem(e,r)})},wc.T=function(e){var t=this;return we().then(function(){t.a.removeItem(e)})},wc.ba=function(e){Ic.window&&Ke(Ic.window,"storage",e)},wc.ha=function(e){Ic.window&&Je(Ic.window,"storage",e)},wc=$o.prototype,wc.get=function(){return we(null)},wc.set=function(){return we()},wc.T=function(){return we()},wc.ba=function(){},wc.ha=function(){},wc=Zo.prototype,wc.get=function(e){var t=this;return we().then(function(){return gn(t.a.getItem(e))})},wc.set=function(e,t){var n=this;return we().then(function(){var r=mn(t);null===r?n.T(e):n.a.setItem(e,r)})},wc.T=function(e){var t=this;return we().then(function(){t.a.removeItem(e)})},wc.ba=function(){},wc.ha=function(){};var up,cp,lp={F:Yo,$a:Zo},hp={F:Yo,$a:Zo},fp={F:Oo,$a:$o},pp={F:Yo,$a:$o},dp={od:"local",NONE:"none",qd:"session"};wc=ia.prototype,wc.get=function(e,t){return aa(this,e.F).get(sa(e,t))},wc.set=function(e,t,n){var r=sa(e,n),i=this,o=aa(this,e.F);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"==e.F&&(i.b[r]=t)})},wc.addListener=function(e,t,n){e=sa(e,t),this.l&&(this.b[e]=Ic.localStorage.getItem(e)),U(this.a)&&(aa(this,"local").ba(this.f),this.h||(Bt()||!Cn())&&Ic.indexedDB||!this.l||la(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},wc.removeListener=function(e,t,n){e=sa(e,t),this.a[e]&&(x(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),U(this.a)&&(aa(this,"local").ha(this.f),ha(this))},wc.Vb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=Ic.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?aa(this,"local").ha(this.f):ha(this),this.m)if(n=Ic.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?Ic.localStorage.setItem(t,r):Ic.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===Ic.localStorage.getItem(t)||(o.b[t]=Ic.localStorage.getItem(t),o.ib(t))},dl&&El&&10==El&&Ic.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else Fc(e,f(this.ib,this))},wc.ib=function(e){this.a[e]&&Fc(this.a[e],function(e){e()})};var mp,vp={name:"authEvent",F:"local"};d(va,ma);for(var gp=64,yp=gp-1,_p=[],bp=0;bp<yp;bp++)_p[bp]=0;var wp=P(128,_p);va.prototype.reset=function(){this.g=this.c=0,this.a=Ic.Int32Array?new Int32Array(this.h):R(this.h)};var Ep=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];d(_a,va);var Tp=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];wc=ba.prototype,wc.ka=function(){return this.Ga?this.Ga:this.Ga=$t().then(function(){if("function"!=typeof cn("universalLinks.subscribe",Ic))throw wa("cordova-universal-links-plugin-fix is not installed");if(void 0===cn("BuildInfo.packageName",Ic))throw wa("cordova-plugin-buildinfo is not installed");if("function"!=typeof cn("cordova.plugins.browsertab.openUrl",Ic))throw wa("cordova-plugin-browsertab is not installed");if("function"!=typeof cn("cordova.InAppBrowser.open",Ic))throw wa("cordova-plugin-inappbrowser is not installed")},function(){throw new m("cordova-not-ready")})},wc.Lb=function(e,t){return t(new m("operation-not-supported-in-this-environment")),we()},wc.Jb=function(){return Ee(new m("operation-not-supported-in-this-environment"))},wc.Xb=function(){return!1},wc.Ub=function(){return!0},wc.Qb=function(){return!0},wc.Kb=function(e,t,n,r){if(this.c)return Ee(new m("redirect-operation-pending"));var i=this,o=Ic.document,a=null,s=null,u=null,c=null;return this.c=we().then(function(){return Mr(t),Ia(i)}).then(function(){return Sa(i,e,t,n,r)}).then(function(){return new ye(function(e,t){s=function(){var t=cn("cordova.plugins.browsertab.close",Ic);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(s),u=function(){a||(a=lt(2e3).then(function(){t(new m("redirect-cancelled-by-user"))}))},c=function(){En()&&u()},o.addEventListener("resume",u,!1),un().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).o(function(e){return Oa(i).then(function(){throw e})})}).ma(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.Qa(s),i.c=null})},wc.Ca=function(e){this.b.push(e),Ia(this).o(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new jr("unknown",null,null,null,new m("no-auth-event")),e(t))})},wc.Qa=function(e){x(this.b,function(t){return t==e})};var Sp={name:"pendingRedirect",F:"session"};Ra.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=La(this.D,this.u,this.m),this.i={}},Ra.prototype.s=function(e){if(!e)throw new m("invalid-auth-event");if(6e5<=xc()-this.w&&(this.i={},this.w=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.w=xc())),t=!0;break}}return za(this.b),t};var Cp=new wn(2e3,1e4),Ip=new wn(3e4,6e4);Ra.prototype.pa=function(){return this.b.pa()};var Op={};Wa.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Wa.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Xa(this,!0,null,e.a),we()):t.Da(n,r)?Ka(this,e,t):Ee(new m("invalid-auth-event")):(Xa(this,!1,null,null),we())}else Ee(new m("invalid-auth-event"))},Wa.prototype.pa=function(){var e=this;return new ye(function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),Ja(e))})},$a.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.la(e.c,null,e.a,e.b),we()):t.Da(n,r)?Za(e,t):Ee(new m("invalid-auth-event"))}else Ee(new m("invalid-auth-event"))},ts.prototype.confirm=function(e){return e=Lr(this.verificationId,e),this.a(e)};var Ap="mfaInfo",kp="mfaPendingCredential";is.prototype.Pc=function(e){var t=this;return e.ob(this.a.b,this.c).then(function(e){var n=F(t.f);return delete n[Ap],delete n[kp],q(n,e),t.g(n)})},d(os,m),ss.prototype.ob=function(e,t,n){return t.type==Yh?us(this,e,t,n):cs(this,e,t)},d(ls,ss),d(hs,ls),d(fs,qe),wc=ps.prototype,wc.wc=function(e){ms(this,ds(e.ed))},wc.Ob=function(){return this.a.I().then(function(e){return new or(e,null)})},wc.dc=function(e,t){var n=this,r=this.a.a;return this.Ob().then(function(n){return e.ob(r,n,t)}).then(function(e){return Qs(n.a,e),n.a.reload()})},wc.$c=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then(function(e){return uo(r,tp,{idToken:e,mfaEnrollmentId:n})}).then(function(e){var r=qc(t.b,function(e){return e.uid!=n});return ms(t,r),Qs(t.a,e),t.a.reload().o(function(e){if("auth/user-token-expired"!=e.code)throw e})})},wc.v=function(){return{multiFactor:{enrolledFactors:Vc(this.b,function(e){return e.v()})}}},vs.prototype.start=function(){this.a=this.c,ys(this,!0)},vs.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},_s.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:bs(this)}},_s.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Ee(new m("user-token-expired")):e||!this.b||xc()>bs(this)-3e4?this.a?Ts(this,{grant_type:"refresh_token",refresh_token:this.a}):we(null):we({accessToken:this.b.toString(),refreshToken:this.a})},Ss.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},d(Os,ot),Os.prototype.va=function(e){this.oa=e,Ui(this.a,e)},Os.prototype.ja=function(){return this.oa},Os.prototype.Ea=function(){return R(this.W)},Os.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},kn(Os.prototype,"providerId","firebase"),wc=Os.prototype,wc.reload=function(){var e=this;return ru(this,Vs(this).then(function(){return Ks(e).then(function(){return js(e)}).then(qs)}))},wc.mc=function(e){return this.I(e).then(function(e){return new rs(e)})},wc.I=function(e){var t=this;return ru(this,Vs(this).then(function(){return t.b.getToken(e)}).then(function(e){if(!e)throw new m("internal-error");return e.accessToken!=t.xa&&(Ds(t,e.accessToken),t.dispatchEvent(new fs("tokenChanged"))),zs(t,"refreshToken",e.refreshToken),e.accessToken}))},wc.Ic=function(e){if(!(e=e.users)||!e.length)throw new m("internal-error");e=e[0],Fs(this,{uid:e.localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=Xs(e),n=0;n<t.length;n++)Hs(this,t[n]);zs(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new fs("userReloaded",{ed:e}))},wc.Jc=function(e){return An("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(e)},wc.pb=function(e){var t=this,n=null;return ru(this,e.c(this.a,this.uid).then(function(e){return Qs(t,e),n=$s(t,e,"reauthenticate"),t.h=null,t.reload()}).then(function(){return n}),!0)},wc.Ac=function(e){return An("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(e)},wc.mb=function(e){var t=this,n=null;return ru(this,Js(this,e.providerId).then(function(){return t.I()}).then(function(n){return e.b(t.a,n)}).then(function(e){return n=$s(t,e,"link"),Zs(t,e)}).then(function(){return n}))},wc.Bc=function(e,t){var n=this;return ru(this,Js(this,"phone").then(function(){return ns(xs(n),e,t,f(n.mb,n))}))},wc.Kc=function(e,t){var n=this;return ru(this,we().then(function(){return ns(xs(n),e,t,f(n.pb,n))}),!0)},wc.xb=function(e){var t=this;return ru(this,this.I().then(function(n){return t.a.xb(n,e)}).then(function(e){return Qs(t,e),t.reload()}))},wc.cd=function(e){var t=this;return ru(this,this.I().then(function(n){return e.b(t.a,n)}).then(function(e){return Qs(t,e),t.reload()}))},wc.yb=function(e){var t=this;return ru(this,this.I().then(function(n){return t.a.yb(n,e)}).then(function(e){return Qs(t,e),t.reload()}))},wc.zb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Vs(this);var t=this;return ru(this,this.I().then(function(n){return t.a.zb(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return Qs(t,e),zs(t,"displayName",e.displayName||null),zs(t,"photoURL",e.photoUrl||null),Fc(t.providerData,function(e){"password"===e.providerId&&(kn(e,"displayName",t.displayName),kn(e,"photoURL",t.photoURL))}),js(t)}).then(qs))},wc.ad=function(e){var t=this;return ru(this,Ks(this).then(function(n){return k(Bs(t),e)?eo(t.a,n,[e]).then(function(e){var n={};return Fc(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),Fc(Bs(t),function(e){n[e]||Ws(t,e)}),n[Rr.PROVIDER_ID]||kn(t,"phoneNumber",null),js(t)}):js(t).then(function(){throw new m("no-such-provider")})}))},wc.delete=function(){var e=this;return ru(this,this.I().then(function(t){return uo(e.a,Of,{idToken:t})}).then(function(){e.dispatchEvent(new fs("userDeleted"))})).then(function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");As(e,null),Ns(e,null),e.N=[],e.D=!0,Ls(e),kn(e,"refreshToken",null),e.i&&Ua(e.i,e)})},wc.Cb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.fa||null)==t||"reauthViaRedirect"==e&&(this.fa||null)==t)},wc.la=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.w?this.w(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},wc.Da=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?f(this.Hb,this):"reauthViaPopup"==e&&t==(this.g||null)?f(this.Ib,this):"linkViaRedirect"==e&&(this.fa||null)==t?f(this.Hb,this):"reauthViaRedirect"==e&&(this.fa||null)==t?f(this.Ib,this):null},wc.Cc=function(e){var t=this;return eu(this,"linkViaPopup",e,function(){return Js(t,e.providerId).then(function(){return js(t)})},!1)},wc.Lc=function(e){return eu(this,"reauthViaPopup",e,function(){return we()},!0)},wc.Dc=function(e){var t=this;return tu(this,"linkViaRedirect",e,function(){return Js(t,e.providerId)},!1)},wc.Mc=function(e){return tu(this,"reauthViaRedirect",e,function(){return we()},!0)},wc.Hb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then(function(n){return oo(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})}).then(function(e){return o=$s(i,e,"link"),Zs(i,e)}).then(function(){return o}),ru(this,n)},wc.Ib=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ru(this,we().then(function(){return sr(ao(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)}).then(function(e){return o=$s(i,e,"reauthenticate"),Qs(i,e),i.h=null,i.reload()}).then(function(){return o}),!0)},wc.qb=function(e){var t=this,n=null;return ru(this,this.I().then(function(t){return n=t,void 0===e||U(e)?{}:Bn(new Vn(e))}).then(function(e){return t.a.qb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},wc.Ab=function(e,t){var n=this,r=null;return ru(this,this.I().then(function(e){return r=e,void 0===t||U(t)?{}:Bn(new Vn(t))}).then(function(t){return n.a.Ab(r,e,t)}).then(function(e){if(n.email!=e)return n.reload()}).then(function(){}))},wc.hc=function(e){var t=null,n=this;return e=sr(we(e),n.uid).then(function(e){return t=$s(n,e,"reauthenticate"),Qs(n,e),n.h=null,n.reload()}).then(function(){return t}),ru(this,e,!0)},wc.toJSON=function(){return this.v()},wc.v=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&q(e,this.metadata.v()),Fc(this.providerData,function(t){e.providerData.push(Pn(t))}),q(e,this.O.v()),e};var Np={name:"redirectUser",F:"session"};hu.prototype.g=function(){var e=this,t=du("local");_u(this,function(){return we().then(function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null}).then(function(n){if(n)return fu(e,"local").then(function(){e.c=t})})})};var xp={name:"persistence",F:"session"};hu.prototype.tb=function(e){var t=null,n=this;return ra(e),_u(this,function(){return e!=n.c.F?n.b.get(n.c,n.a).then(function(r){return t=r,fu(n,e)}).then(function(){if(n.c=du(e),t)return n.b.set(n.c,t,n.a)}):we()})},d(bu,ot),d(wu,qe),d(Eu,qe),wc=bu.prototype,wc.tb=function(e){return e=this.i.tb(e),Uu(this,e)},wc.va=function(e){this.$===e||this.l||(this.$=e,Ui(this.b,this.$),this.dispatchEvent(new wu(this.ja())))},wc.ja=function(){return this.$},wc.dd=function(){var e=Ic.navigator;this.va(e?e.languages&&e.languages[0]||e.language||e.userLanguage||null:null)},wc.Ec=function(e){this.N.push(e),Fi(this.b,Ec.SDK_VERSION?sn(Ec.SDK_VERSION,this.N):null),this.dispatchEvent(new Eu(this.N))},wc.Ea=function(){return R(this.N)},wc.ub=function(e){this.R===e||this.l||(this.R=e,this.b.b=this.R)},wc.S=function(){return this.R},wc.toJSON=function(){return{apiKey:Ru(this).options.apiKey,authDomain:Ru(this).options.authDomain,appName:Ru(this).name,currentUser:Lu(this)&&Lu(this).v()}},wc.Cb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},wc.la=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.w?this.w(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},wc.Da=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?f(this.gc,this):null},wc.gc=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then(function(){return Pu(i,io(i.b,o))})},wc.Vc=function(e){if(!hn())return Ee(new m("operation-not-supported-in-this-environment"));var t=this,n=Xn(e.providerId),r=yn(),i=null;(!dn()||en())&&Ru(this).options.authDomain&&e.isOAuthProvider&&(i=So(Ru(this).options.authDomain,Ru(this).options.apiKey,Ru(this).name,"signInViaPopup",e,null,r,Ec.SDK_VERSION||null,null,null,this.S()));var o=Yt(i,n&&n.ta,n&&n.sa);return n=Su(this).then(function(n){return Fa(n,o,"signInViaPopup",e,r,!!i,t.S())}).then(function(){return new ye(function(e,n){t.la("signInViaPopup",null,new m("cancelled-popup-request"),t.g),t.f=e,t.w=n,t.g=r,t.c=Ba(t.a,t,"signInViaPopup",o,r)})}).then(function(e){return o&&Qt(o),e?xn(e):null}).o(function(e){throw o&&Qt(o),e}),Uu(this,n)},wc.Wc=function(e){if(!hn())return Ee(new m("operation-not-supported-in-this-environment"));var t=this;return Uu(this,Su(this).then(function(){return mu(t.i)}).then(function(){return Va(t.a,"signInViaRedirect",e,void 0,t.S())}))},wc.pa=function(){var e=this;return Iu(this).then(function(t){return e.a&&Ga(e.a.b),t}).o(function(t){throw e.a&&Ga(e.a.b),t})},wc.bd=function(e){if(!e)return Ee(new m("null-user"));if(this.R!=e.tenantId)return Ee(new m("tenant-id-mismatch"));var t=this,n={};n.apiKey=Ru(this).options.apiKey,n.authDomain=Ru(this).options.authDomain,n.appName=Ru(this).name;var r=su(e,n,t.B,t.Ea());return Uu(this,this.h.then(function(){if(Ru(t).options.apiKey!=e.l)return r.reload()}).then(function(){return Lu(t)&&e.uid==Lu(t).uid?(Gs(Lu(t),e),t.ca(e)):(Au(t,r),Us(r),t.ca(r))}).then(function(){Mu(t)}))},wc.wb=function(){var e=this;return Uu(this,this.h.then(function(){return e.a&&Ga(e.a.b),Lu(e)?(Au(e,null),gu(e.i).then(function(){Mu(e)})):we()}))},wc.Xc=function(){var e=this;return yu(this.i,Ru(this).options.authDomain).then(function(t){if(!e.l){var n;if(n=Lu(e)&&t){n=Lu(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Gs(Lu(e),t),Lu(e).I();(Lu(e)||t)&&(Au(e,t),t&&(Us(t),t.ga=e.B),e.a&&ja(e.a,e),Mu(e))}})},wc.ca=function(e){return vu(this.i,e)},wc.jc=function(){Mu(this),this.ca(Lu(this))},wc.uc=function(){this.wb()},wc.vc=function(){this.wb()},wc.ic=function(e){var t=this;return this.h.then(function(){return Pu(t,we(e))})},wc.xc=function(e){var t=this;this.addAuthTokenListener(function(){e.next(Lu(t))})},wc.yc=function(e){var t=this;ju(this,function(){e.next(Lu(t))})},wc.Gc=function(e,t,n){var r=this;return this.aa&&Promise.resolve().then(function(){"function"==typeof e?e(Lu(r)):"function"==typeof e.next&&e.next(Lu(r))}),this.$b(e,t,n)},wc.Fc=function(e,t,n){var r=this;return this.aa&&Promise.resolve().then(function(){r.W=r.getUid(),"function"==typeof e?e(Lu(r)):"function"==typeof e.next&&e.next(Lu(r))}),this.ac(e,t,n)},wc.kc=function(e){var t=this;return Uu(this,this.h.then(function(){return Lu(t)?Lu(t).I(e).then(function(e){return{accessToken:e}}):null}))},wc.Rc=function(e){var t=this;return this.h.then(function(){return Pu(t,uo(t.b,Xf,{token:e}))}).then(function(e){var n=e.user;return zs(n,"isAnonymous",!1),t.ca(n),e})},wc.Sc=function(e,t){var n=this;return this.h.then(function(){return Pu(n,uo(n.b,Jf,{email:e,password:t}))})},wc.cc=function(e,t){var n=this;return this.h.then(function(){return Pu(n,uo(n.b,Cf,{email:e,password:t}))})},wc.Ya=function(e){var t=this;return this.h.then(function(){return Pu(t,e.ia(t.b))})},wc.Qc=function(e){return An("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(e)},wc.vb=function(){var e=this;return this.h.then(function(){var t=Lu(e);return t&&t.isAnonymous?xn({user:t,credential:null,additionalUserInfo:xn({providerId:null,isNewUser:!1}),operationType:"signIn"}):Pu(e,e.b.vb()).then(function(t){var n=t.user;return zs(n,"isAnonymous",!0),e.ca(n),t})})},wc.getUid=function(){return Lu(this)&&Lu(this).uid||null},wc.bc=function(e){this.addAuthTokenListener(e),0<++this.s&&Lu(this)&&Rs(Lu(this))},wc.Nc=function(e){var t=this;Fc(this.m,function(n){n==e&&t.s--}),0>this.s&&(this.s=0),0==this.s&&Lu(this)&&Ls(Lu(this)),this.removeAuthTokenListener(e)},wc.addAuthTokenListener=function(e){var t=this;this.m.push(e),Uu(this,this.h.then(function(){t.l||k(t.m,e)&&e(Du(t))}))},wc.removeAuthTokenListener=function(e){x(this.m,function(t){return t==e})},wc.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i,e.b.removeListener(du("local"),e.a,this.oa)),this.a&&(Ua(this.a,this),Ga(this.a.b)),Promise.resolve()},wc.fc=function(e){return Uu(this,Gi(this.b,e))},wc.zc=function(e){return!!kr(e)},wc.sb=function(e,t){var n=this;return Uu(this,we().then(function(){var e=new Vn(t);if(!e.c)throw new m("argument-error",Mh+" must be true when sending sign in link to email");return Bn(e)}).then(function(t){return n.b.sb(e,t)}).then(function(){}))},wc.fd=function(e){return this.Pa(e).then(function(e){return e.data.email})},wc.jb=function(e,t){return Uu(this,this.b.jb(e,t).then(function(){}))},wc.Pa=function(e){return Uu(this,this.b.Pa(e).then(function(e){return new Un(e)}))},wc.fb=function(e){return Uu(this,this.b.fb(e).then(function(){}))},wc.rb=function(e,t){var n=this;return Uu(this,we().then(function(){return void 0===t||U(t)?{}:Bn(new Vn(t))}).then(function(t){return n.b.rb(e,t)}).then(function(){}))},wc.Uc=function(e,t){return Uu(this,ns(this,e,t,f(this.Ya,this)))},wc.Tc=function(e,t){var n=this;return Uu(this,we().then(function(){var r=t||Ht(),i=Ar(e,r);if(!(r=kr(r)))throw new m("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new m("tenant-id-mismatch");return n.Ya(i)}))},Fu.prototype.render=function(){},Fu.prototype.reset=function(){},Fu.prototype.getResponse=function(){},Fu.prototype.execute=function(){};var Pp=null;qu.prototype.render=function(e,t){return this.a[this.b.toString()]=new Hu(e,t),this.b++},qu.prototype.reset=function(e){var t=Vu(this,e);e=Bu(e),t&&e&&(t.delete(),delete this.a[e])},qu.prototype.getResponse=function(e){return(e=Vu(this,e))?e.getResponse():null},qu.prototype.execute=function(e){(e=Vu(this,e))&&e.execute()},Hu.prototype.getResponse=function(){return Wu(this),this.b},Hu.prototype.execute=function(){Wu(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=on();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout(function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()},6e4)},500))},Hu.prototype.delete=function(){Wu(this),this.g=!0,clearTimeout(this.a),this.a=null,Je(this.f,"click",this.i)},kn(zu,"FACTOR_ID","phone"),Gu.prototype.g=function(){return Pp||(Pp=new qu),we(Pp)},Gu.prototype.c=function(){};var Rp=null,Lp=new B(tl,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Dp=new wn(3e4,6e4);Ku.prototype.g=function(e){var t=this;return new ye(function(n,r){var i=setTimeout(function(){r(new m("network-request-failed"))},Dp.get());!Ic.grecaptcha||e!==t.f&&!t.b?(Ic[t.a]=function(){if(Ic.grecaptcha){t.f=e;var o=Ic.grecaptcha.render;Ic.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(Ic.grecaptcha)}else clearTimeout(i),r(new m("internal-error"));delete Ic[t.a]},we(xi(G(Lp,{onload:t.a,hl:e||""}))).o(function(){clearTimeout(i),r(new m("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(Ic.grecaptcha))})},Ku.prototype.c=function(){this.b--};var Mp=null,jp="callback",Up="expired-callback",Fp="sitekey",qp="size";wc=Qu.prototype,wc.Ga=function(){var e=this;return this.f?this.f:this.f=Ju(this,we().then(function(){if(fn()&&!tn())return Jt();throw new m("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.w())}).then(function(t){return e.g=t,uo(e.s,Ff,{})}).then(function(t){e.a[Fp]=t.recaptchaSiteKey}).o(function(t){throw e.f=null,t}))},wc.render=function(){$u(this);var e=this;return Ju(this,this.Ga().then(function(){if(null===e.c){var t=e.u;if(!e.i){var n=se(t);t=ce("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c}))},wc.verify=function(){$u(this);var e=this;return Ju(this,this.render().then(function(t){return new ye(function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(Xu(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}})}))},wc.reset=function(){$u(this),null!==this.c&&this.g.reset(this.c)},wc.clear=function(){$u(this),this.D=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=se(this.u);for(var t;t=e.firstChild;)e.removeChild(t)}},d(Zu,Qu);var Vp="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");vc(bu.prototype,{fb:{name:"applyActionCode",j:[tc("code")]},Pa:{name:"checkActionCode",j:[tc("code")]},jb:{name:"confirmPasswordReset",j:[tc("code"),tc("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[tc("email"),tc("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[tc("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[tc("emailLink")]},Fc:{name:"onAuthStateChanged",j:[mc(rc(),ic(),"nextOrObserver"),ic("opt_error",!0),ic("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[mc(rc(),ic(),"nextOrObserver"),ic("opt_error",!0),ic("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[tc("email"),mc(rc("opt_actionCodeSettings",!0),oc(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[tc("email"),rc("actionCodeSettings")]},tb:{name:"setPersistence",j:[tc("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[cc()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[cc()]},Rc:{name:"signInWithCustomToken",j:[tc("token")]},Sc:{name:"signInWithEmailAndPassword",j:[tc("email"),tc("password")]},Tc:{name:"signInWithEmailLink",j:[tc("email"),tc("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[tc("phoneNumber"),dc()]},Vc:{name:"signInWithPopup",j:[hc()]},Wc:{name:"signInWithRedirect",j:[hc()]},bd:{name:"updateCurrentUser",j:[mc(function(e){return{name:"user",J:"an instance of Firebase User",optional:!1,K:function(e){return!!(e&&e instanceof Os)}}}(),oc(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[tc(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[tc("code")]}}),gc(bu.prototype,{lc:{name:"languageCode",gb:mc(tc(),oc(),"languageCode")},ti:{name:"tenantId",gb:mc(tc(),oc(),"tenantId")}}),bu.Persistence=dp,bu.Persistence.LOCAL="local",bu.Persistence.SESSION="session",bu.Persistence.NONE="none",vc(Os.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[nc("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[nc("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[cc()]},mb:{name:"linkWithCredential",j:[cc()]},Bc:{name:"linkWithPhoneNumber",j:[tc("phoneNumber"),dc()]},Cc:{name:"linkWithPopup",j:[hc()]},Dc:{name:"linkWithRedirect",j:[hc()]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[cc()]},pb:{name:"reauthenticateWithCredential",j:[cc()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[tc("phoneNumber"),dc()]},Lc:{name:"reauthenticateWithPopup",j:[hc()]},Mc:{name:"reauthenticateWithRedirect",j:[hc()]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[mc(rc("opt_actionCodeSettings",!0),oc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[tc(null,!0)]},ad:{name:"unlink",j:[tc("provider")]},xb:{name:"updateEmail",j:[tc("email")]},yb:{name:"updatePassword",j:[tc("password")]},cd:{name:"updatePhoneNumber",j:[cc("phone")]},zb:{name:"updateProfile",j:[rc("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[tc("email"),mc(rc("opt_actionCodeSettings",!0),oc(null,!0),"opt_actionCodeSettings",!0)]}}),vc(qu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vc(Fu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vc(ye.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),gc(es.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:nc("appVerificationDisabledForTesting")}}),vc(ts.prototype,{confirm:{name:"confirm",j:[tc("verificationCode")]}}),yc(ar,"fromJSON",function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[pr,Ir,xr,lr],r=0;r<n.length;r++)if(t=n[r](e))return t;return null},[mc(tc(),rc(),"json")]),yc(Or,"credential",function(e,t){return new Cr(e,t)},[tc("email"),tc("password")]),vc(Cr.prototype,{v:{name:"toJSON",j:[tc(null,!0)]}}),vc(gr.prototype,{Aa:{name:"addScope",j:[tc("scope")]},Ia:{name:"setCustomParameters",j:[rc("customOAuthParameters")]}}),yc(gr,"credential",yr,[mc(tc(),rc(),"token")]),yc(Or,"credentialWithLink",Ar,[tc("email"),tc("emailLink")]),vc(_r.prototype,{Aa:{name:"addScope",j:[tc("scope")]},Ia:{name:"setCustomParameters",j:[rc("customOAuthParameters")]}}),yc(_r,"credential",br,[mc(tc(),rc(),"token")]),vc(wr.prototype,{Aa:{name:"addScope",j:[tc("scope")]},Ia:{name:"setCustomParameters",j:[rc("customOAuthParameters")]}}),yc(wr,"credential",Er,[mc(tc(),mc(rc(),oc()),"idToken"),mc(tc(),oc(),"accessToken",!0)]),vc(Tr.prototype,{Ia:{name:"setCustomParameters",j:[rc("customOAuthParameters")]}}),yc(Tr,"credential",Sr,[mc(tc(),rc(),"token"),tc("secret",!0)]),vc(vr.prototype,{Aa:{name:"addScope",j:[tc("scope")]},credential:{name:"credential",j:[mc(tc(),mc(rc(),oc()),"optionsOrIdToken"),mc(tc(),oc(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[rc("customOAuthParameters")]}}),vc(hr.prototype,{v:{name:"toJSON",j:[tc(null,!0)]}}),vc(ur.prototype,{v:{name:"toJSON",j:[tc(null,!0)]}}),yc(Rr,"credential",Lr,[tc("verificationId"),tc("verificationCode")]),vc(Rr.prototype,{cb:{name:"verifyPhoneNumber",j:[mc(tc(),function(e,t){return{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(e){return!!e&&(e.session&&e.phoneNumber?fc(e.session,Yh)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?fc(e.session,Xh)&&pc(e.multiFactorHint):e.session&&e.multiFactorUid?fc(e.session,Xh)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}}}(),"phoneInfoOptions"),dc()]}}),vc(Nr.prototype,{v:{name:"toJSON",j:[tc(null,!0)]}}),vc(m.prototype,{toJSON:{name:"toJSON",j:[tc(null,!0)]}}),vc(Br.prototype,{toJSON:{name:"toJSON",j:[tc(null,!0)]}}),vc(Vr.prototype,{toJSON:{name:"toJSON",j:[tc(null,!0)]}}),vc(os.prototype,{toJSON:{name:"toJSON",j:[tc(null,!0)]}}),vc(is.prototype,{Pc:{name:"resolveSignIn",j:[lc()]}}),vc(ps.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[lc(),tc("displayName",!0)]},$c:{name:"unenroll",j:[mc({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:pc},tc(),"multiFactorInfoIdentifier")]}}),vc(Zu.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),yc(Fn,"parseLink",qn,[tc("link")]),yc(zu,"assertion",function(e){return new hs(e)},[cc("phone")]),function(){if(void 0===Ec||!Ec.INTERNAL||!Ec.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:mh,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:dh,VERIFY_AND_CHANGE_EMAIL:vh,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:bu,AuthCredential:ar,Error:m};yc(e,"EmailAuthProvider",Or,[]),yc(e,"FacebookAuthProvider",gr,[]),yc(e,"GithubAuthProvider",_r,[]),yc(e,"GoogleAuthProvider",wr,[]),yc(e,"TwitterAuthProvider",Tr,[]),yc(e,"OAuthProvider",vr,[tc("providerId")]),yc(e,"SAMLAuthProvider",mr,[tc("providerId")]),yc(e,"PhoneAuthProvider",Rr,[sc()]),yc(e,"RecaptchaVerifier",Zu,[mc(tc(),ac(),"recaptchaContainer"),rc("recaptchaParameters",!0),uc()]),yc(e,"ActionCodeURL",Fn,[]),yc(e,"PhoneMultiFactorGenerator",zu,[]),Ec.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return e=e.getProvider("app").getImmediate(),new bu(e)},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),Ec.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return e=e.getProvider("auth").getImmediate(),{getUid:f(e.getUid,e),getToken:f(e.kc,e),addAuthTokenListener:f(e.bc,e),removeAuthTokenListener:f(e.Nc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ec.registerVersion("@firebase/auth","0.14.9"),Ec.INTERNAL.extendNamespace({User:Os})}()}).apply(void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(t,n(52))},function(e,t,n){"use strict";(function(r){function i(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function o(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}function a(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=E.__values(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var s=a.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):H("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function s(e,t){return Y(e.name,t.name)}function u(e,t){return Y(e,t)}function c(e,t){if(void 0===t&&(t=null),null===e)return et.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),T.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Be(e,c(t));if(e instanceof Array||!rt){var n=et.EMPTY_NODE;return i(e,function(t,r){if(T.contains(e,t)&&"."!==t.substring(0,1)){var i=c(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}}),n.updatePriority(c(t))}var r=[],o=!1;if(i(e,function(e,t){if("."!==e.substring(0,1)){var n=c(t);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new Me(e,n)))}}),0===r.length)return et.EMPTY_NODE;var a=Je(r,s,function(e){return e.name},u);if(o){var l=Je(r,We.getCompare());return new et(a,c(t),new Ze({".priority":l},{".priority":We}))}return new et(a,c(t),Ze.Default)}function l(e,t,n){var r,i=e.getPriority().val(),o=yt(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=yt(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Be(s,c(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Be(o))),u.forEachChild(We,function(e,i){var o=l(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))}),r}function h(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(t,i){".priority"===t?(T.assert(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=h(e.child(t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(e.child(".priority"),r)),n}function f(e){dn=e}function p(t){f(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new C.Component("database",function(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return Dn.getInstance().databaseFromApp(n,r,t)},"PUBLIC").setServiceProps({Reference:An,Query:dt,Database:Mn,DataSnapshot:ct,enableLogging:U,INTERNAL:Gn,ServerValue:nr,TEST_ACCESS:Zn}).setMultipleInstances(!0));t.registerVersion(er,tr),T.isNodeSdk()&&(e.exports=n)}Object.defineProperty(t,"__esModule",{value:!0});var d,m,v,g,y,_,b,w=n(28),E=n(23),T=n(38),S=n(57),C=n(35),I=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(w),O=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),T.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:T.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),A=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return T.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),k=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new O(t)}}catch(e){}return new A},N=k("localStorage"),x=k("sessionStorage"),P=new S.Logger("@firebase/database"),R=function(){var e=1;return function(){return e++}}(),L=function(e){var t=T.stringToByteArray(e),n=new T.Sha1;n.update(t);var r=n.digest();return T.base64.encodeByteArray(r)},D=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=D.apply(null,i):n+="object"==typeof i?T.stringify(i):i,n+=" "}return n},M=null,j=!0,U=function(e,t){T.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(P.logLevel=S.LogLevel.VERBOSE,M=P.log.bind(P),t&&x.set("logging_enabled",!0)):"function"==typeof e?M=e:(M=null,x.remove("logging_enabled"))},F=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===j&&(j=!1,null===M&&!0===x.get("logging_enabled")&&U(!0)),M){var n=D.apply(null,e);M(n)}},q=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];F.apply(void 0,E.__spread([e],t))}},V=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+D.apply(void 0,E.__spread(e));P.error(n)},B=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+D.apply(void 0,E.__spread(e));throw P.error(n),new Error(n)},H=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+D.apply(void 0,E.__spread(e));P.warn(n)},W=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&H("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},z=function(e){return"number"==typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},G=function(e){if(T.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function(){if(!document.body)return void setTimeout(n,Math.floor(10));t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},K="[MIN_NAME]",Q="[MAX_NAME]",Y=function(e,t){if(e===t)return 0;if(e===K||t===Q)return-1;if(t===K||e===Q)return 1;var n=oe(e),r=oe(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},X=function(e,t){return e===t?0:e<t?-1:1},J=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+T.stringify(t))},$=function(e){if("object"!=typeof e||null===e)return T.stringify(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=T.stringify(t[i]),r+=":",r+=$(e[t[i]]);return r+="}"},Z=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r},ee=function(e){T.assert(!z(e),"Invalid JSON number");var t,n,r,i,o;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,e=Math.abs(e),e>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();var s=a.join(""),u="";for(o=0;o<64;o+=8){var c=parseInt(s.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},te=function(){return!("object"!=typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},ne=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI},re=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r},ie=new RegExp("^-?(0*)\\d{1,10}$"),oe=function(e){if(ie.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},ae=function(e){try{e()}catch(e){setTimeout(function(){var t=e.stack||"";throw H("Exception was thrown by user callback.",t),e},Math.floor(0))}},se=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ue=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},ce=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!1,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=Y(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}(),le=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=T.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=T.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=T.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),he="long_polling",fe=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=N.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&N.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){T.assert("string"==typeof e,"typeof type must == string"),T.assert("object"==typeof t,"typeof params must == object");var n;if("websocket"===e)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==he)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return i(t,function(e,t){r.push(e+"="+t)}),n+r.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}(),pe=function(e,t){var n=de(e),r=n.namespace;"firebase.com"===n.domain&&B(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||B("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||W();var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new fe(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new ce(n.pathString)}},de=function(e){var t="",n="",r="",i="",s="",u=!0,c="https",l=443;if("string"==typeof e){var h=e.indexOf("//");h>=0&&(c=e.substring(0,h-1),e=e.substring(h+2));var f=e.indexOf("/");-1===f&&(f=e.length);var p=e.indexOf("?");-1===p&&(p=e.length),t=e.substring(0,Math.min(f,p)),f<p&&(i=o(e.substring(f,p)));var d=a(e.substring(Math.min(e.length,p)));h=t.indexOf(":"),h>=0?(u="https"===c||"wss"===c,l=parseInt(t.substring(h+1),10)):h=t.length;var m=t.slice(0,h);if("localhost"===m.toLowerCase())n="localhost";else if(m.split(".").length<=2)n=m;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:u,scheme:c,pathString:i,namespace:s}},me=/[\[\].#$\/\u0000-\u001F\u007F]/,ve=/[\[\].#$\u0000-\u001F\u007F]/,ge=function(e){return"string"==typeof e&&0!==e.length&&!me.test(e)},ye=function(e){return"string"==typeof e&&0!==e.length&&!ve.test(e)},_e=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ye(e)},be=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!z(e)||e&&"object"==typeof e&&T.contains(e,".sv")},we=function(e,t,n,r,i){i&&void 0===n||Ee(T.errorPrefix(e,t,i),n,r)},Ee=function(e,t,n){var r=n instanceof ce?new le(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+r.toErrorString());if("function"==typeof t)throw new Error(e+"contains a function "+r.toErrorString()+" with contents = "+t.toString());if(z(t))throw new Error(e+"contains "+t.toString()+" "+r.toErrorString());if("string"==typeof t&&t.length>10485760/3&&T.stringLength(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var o=!1,a=!1;if(i(t,function(t,n){if(".value"===t)o=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!ge(t)))throw new Error(e+" contains an invalid key ("+t+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(t),Ee(e,n,r),r.pop()}),o&&a)throw new Error(e+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},Te=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=r.slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ge(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(ce.comparePaths);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&a.contains(r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},Se=function(e,t,n,r,o){if(!o||void 0!==n){var a=T.errorPrefix(e,t,o);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];i(n,function(e,t){var n=new ce(e);if(Ee(a,t,r.child(n)),".priority"===n.getBack()&&!be(t))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)}),Te(a,s)}},Ce=function(e,t,n,r){if(!r||void 0!==n){if(z(n))throw new Error(T.errorPrefix(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!be(n))throw new Error(T.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ie=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(T.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Oe=function(e,t,n,r){if(!(r&&void 0===n||ge(n)))throw new Error(T.errorPrefix(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ae=function(e,t,n,r){if(!(r&&void 0===n||ye(n)))throw new Error(T.errorPrefix(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ke=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ae(e,t,n,r)},Ne=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},xe=function(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ge(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!_e(r))throw new Error(T.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Pe=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(T.errorPrefix(e,t,r)+"must be a boolean.")},Re=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){T.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),T.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new T.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){T.validateArgCount("OnDisconnect.remove",0,1,arguments.length),Ne("OnDisconnect.remove",this.path_),T.validateCallback("OnDisconnect.remove",1,e,!0);var t=new T.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){T.validateArgCount("OnDisconnect.set",1,2,arguments.length),Ne("OnDisconnect.set",this.path_),we("OnDisconnect.set",1,e,this.path_,!1),T.validateCallback("OnDisconnect.set",2,t,!0);var n=new T.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){T.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),Ne("OnDisconnect.setWithPriority",this.path_),we("OnDisconnect.setWithPriority",1,e,this.path_,!1),Ce("OnDisconnect.setWithPriority",2,t,!1),T.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new T.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(T.validateArgCount("OnDisconnect.update",1,2,arguments.length),Ne("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,H("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Se("OnDisconnect.update",1,e,this.path_,!1),T.validateCallback("OnDisconnect.update",2,t,!0);var i=new T.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,i.wrapCallback(t)),i.promise},e}(),Le=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return T.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),De=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=0,n=[];return function(r){var i=r===t;t=r;var o,a=new Array(8);for(o=7;o>=0;o--)a[o]=e.charAt(r%64),r=Math.floor(r/64);T.assert(0===r,"Cannot push at time == 0");var s=a.join("");if(i){for(o=11;o>=0&&63===n[o];o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)s+=e.charAt(n[o]);return T.assert(20===s.length,"nextPushId: Length should be 20."),s}}(),Me=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),je=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Me(K,e),r=new Me(K,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Me.MIN},e}(),Ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return d},set:function(e){d=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return Y(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw T.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return new Me(Q,d)},t.prototype.makePost=function(e,t){return T.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new Me(e,d)},t.prototype.toString=function(){return".key"},t}(je),Fe=new Ue,qe=function(e){return"number"==typeof e?"number:"+ee(e):"string:"+e},Ve=function(e){if(e.isLeafNode()){var t=e.val();T.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&T.contains(t,".sv"),"Priority must be a string or number.")}else T.assert(e===m||e.isEmpty(),"priority of unexpected type.");T.assert(e===m||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Be=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,T.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ve(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return v},set:function(e){v=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(T.assert(".priority"!==r||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+qe(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?ee(this.value_):this.value_,this.lazyHash_=L(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(T.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return T.assert(i>=0,"Unknown leaf type: "+n),T.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),He=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Y(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return new Me(Q,new Be("[PRIORITY-POST]",y))},t.prototype.makePost=function(e,t){var n=g(e);return new Me(t,new Be("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(je),We=new He,ze=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ge=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Qe.EMPTY_NODE,this.right=null!=o?o:Qe.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Qe.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},e.prototype.remove=function(e,t){var n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Qe.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Ke=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ge(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Qe=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ge.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ge.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new ze(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new ze(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new ze(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new ze(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Ke,e}(),Ye=Math.log(2),Xe=function(){function e(e){this.count=function(e){return parseInt(Math.log(e)/Ye,10)}(e+1),this.current_=this.count-1;var t=function(e){return parseInt(Array(e+1).join("1"),2)}(this.count);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Je=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Ge(a,o.node,Ge.BLACK,null,null);var u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new Ge(a,o.node,Ge.BLACK,c,l)},o=new Xe(e.length),a=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new Ge(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,Ge.BLACK):(s(h,Ge.BLACK),s(h,Ge.RED))}return o}(o);return new Qe(r||t,a)},$e={},Ze=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return T.assert($e&&We,"ChildrenNode.ts has not been loaded"),_=_||new e({".priority":$e},{".priority":We})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=T.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Qe?t:null},e.prototype.hasIndex=function(e){return T.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){T.assert(t!==Fe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(Me.Wrap),a=o.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=o.getNext();var s;s=i?Je(r,t.getCompare()):$e;var u=t.toString(),c=E.__assign({},this.indexSet_);c[u]=t;var l=E.__assign({},this.indexes_);return l[u]=s,new e(l,c)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(T.map(this.indexes_,function(e,i){var o=T.safeGet(r.indexSet_,i);if(T.assert(o,"Missing index implementation for "+i),e===$e){if(o.isDefinedOn(t.node)){for(var a=[],s=n.getIterator(Me.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),Je(a,o.getCompare())}return $e}var c=n.get(t.name),l=e;return c&&(l=l.remove(new Me(t.name,c))),l.insert(t,t.node)}),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(T.map(this.indexes_,function(e){if(e===$e)return e;var r=n.get(t.name);return r?e.remove(new Me(t.name,r)):e}),this.indexSet_)},e}(),et=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ve(this.priorityNode_),this.children_.isEmpty()&&T.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return b||(b=new e(new Qe(u),null,Ze.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||b},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?b:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(T.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Me(t,n),i=void 0,o=void 0;return n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_)),new e(i,i.isEmpty()?b:this.priorityNode_,o)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;T.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(We,function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+qe(this.getPriority().val())+":"),this.forEachChild(We,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":L(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Me(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Me(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Me(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,Me.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,Me.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nt?-1:0},e.prototype.withIndex=function(t){if(t===Fe||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Fe||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(We),r=t.getIterator(We),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Fe?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),tt=function(e){function t(){return e.call(this,new Qe(u),et.EMPTY_NODE,Ze.Default)||this}return E.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return et.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(et),nt=new tt;Object.defineProperties(Me,{MIN:{value:new Me(K,et.EMPTY_NODE)},MAX:{value:new Me(Q,nt)}}),Ue.__EMPTY_NODE=et.EMPTY_NODE,Be.__childrenNodeConstructor=et,function(e){m=e}(nt),function(e){y=e}(nt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var rt=!0;!function(e){g=e}(c);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var it,ot,at=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?Y(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return Me.MAX},t.prototype.makePost=function(e,t){var n=c(e);return new Me(t,n)},t.prototype.toString=function(){return".value"},t}(je),st=new at,ut=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,T.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return E.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Y(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=c(e),r=et.EMPTY_NODE.updateChild(this.indexPath_,n);return new Me(t,r)},t.prototype.maxPost=function(){var e=et.EMPTY_NODE.updateChild(this.indexPath_,nt);return new Me(Q,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(je),ct=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return T.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return T.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return T.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return T.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){T.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),Ae("DataSnapshot.child",1,t,!1);var n=new ce(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,We)},e.prototype.hasChild=function(e){T.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),Ae("DataSnapshot.hasChild",1,e,!1);var t=new ce(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return T.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;return T.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),T.validateCallback("DataSnapshot.forEach",1,t,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,i){return t(new e(i,n.ref_.child(r),We))})},e.prototype.hasChildren=function(){return T.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return T.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return T.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),lt=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+T.stringify(this.snapshot.exportVal())},e}(),ht=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),ft=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new lt("value",this,new ct(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){T.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new ht(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),pt=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,T.contains(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new ht(this,e,t):null},e.prototype.createEvent=function(e,t){T.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new lt(e.type,this,new ct(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){T.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||t.callbacks_[a]&&this.callbacks_[s]&&t.callbacks_[a]!==this.callbacks_[s])}return i.every(function(e){return t.callbacks_[e]===n.callbacks_[e]})}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),dt=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return T.assert(it,"Reference.ts has not been loaded"),it},set:function(e){it=e},enumerable:!1,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Fe){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==K)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Q)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===We){if(null!=t&&!be(t)||null!=n&&!be(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(T.assert(e.getIndex()instanceof ut||e.getIndex()===st,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return T.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){T.validateArgCount("Query.on",2,4,arguments.length),Ie("Query.on",1,t,!1),T.validateCallback("Query.on",2,n,!1);var o=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[t]=n,this.onChildEvent(a,o.cancel,o.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new ft(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new pt(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){T.validateArgCount("Query.off",0,3,arguments.length),Ie("Query.off",1,e,!0),T.validateCallback("Query.off",2,t,!0),T.validateContextObject("Query.off",3,n,!0);var r=null,i=null;"value"===e?r=new ft(t||null,null,n||null):e&&(t&&(i={},i[e]=t),r=new pt(i,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},e.prototype.once=function(t,n,r,i){var o=this;T.validateArgCount("Query.once",1,4,arguments.length),Ie("Query.once",1,t,!1),T.validateCallback("Query.once",2,n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),s=!0,u=new T.Deferred;u.promise.catch(function(){});var c=function(e){s&&(s=!1,o.off(t,c),n&&n.bind(a.context)(e),u.resolve(e))};return this.on(t,c,function(e){o.off(t,c),a.cancel&&a.cancel.bind(a.context)(e),u.reject(e)}),u.promise},e.prototype.limitToFirst=function(t){if(T.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(T.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(T.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Ae("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new ce(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new ut(n),i=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){T.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(Fe);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){T.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(We);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){T.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(st);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),T.validateArgCount("Query.startAt",0,2,arguments.length),we("Query.startAt",1,t,this.path,!0),Oe("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),T.validateArgCount("Query.endAt",0,2,arguments.length),we("Query.endAt",1,t,this.path,!0),Oe("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(T.validateArgCount("Query.equalTo",1,2,arguments.length),we("Query.equalTo",1,e,this.path,!1),Oe("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return T.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return T.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=$(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(T.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var n=this.repo===t.repo,r=this.path.equals(t.path),i=this.queryIdentifier()===t.queryIdentifier();return n&&r&&i},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,T.validateCallback(e,3,r.cancel,!0),r.context=n,T.validateContextObject(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(T.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),mt=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),vt=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=this.path_.child(t);return new e(this.syncTree_,n)},e.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},e}(),gt=function(e){return e=e||{},e.timestamp=e.timestamp||(new Date).getTime(),e},yt=function(e,t,n){return e&&"object"==typeof e?(T.assert(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?_t(e[".sv"],t,n):"object"==typeof e[".sv"]?bt(e[".sv"],t):void T.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},_t=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:T.assert(!1,"Unexpected server value: "+e)}},bt=function(e,t,n){e.hasOwnProperty("increment")||T.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&T.assert(!1,"Unexpected increment value: "+r);var i=t.node();if(T.assert(null!==i&&void 0!==i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i,a=o.getValue();return"number"!=typeof a?r:a+r},wt=function(e,t,n,r){return l(t,new vt(n,e),r)},Et=function(e,t,n){return l(e,new mt(t),n)},Tt=function(){function e(){this.value=null,this.children=new Map}return e.prototype.find=function(e){if(null!=this.value)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var t=e.getFront();return e=e.popFront(),this.children.has(t)?this.children.get(t).find(e):null}return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(t,n);else{var r=t.getFront();this.children.has(r)||this.children.set(r,new e);var i=this.children.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var t=this.value;this.value=null;var n=this;return t.forEachChild(We,function(e,t){n.remember(new ce(e),t)}),this.forget(e)}if(this.children.size>0){var r=e.getFront();return e=e.popFront(),this.children.has(r)&&this.children.get(r).forget(e)&&this.children.delete(r),0===this.children.size}return!0},e.prototype.forEachTree=function(e,t){null!==this.value?t(e,this.value):this.forEachChild(function(n,r){var i=new ce(e.toString()+"/"+n);r.forEachTree(i,t)})},e.prototype.forEachChild=function(e){this.children.forEach(function(t,n){e(n,t)})},e}();!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ot||(ot={}));var St,Ct,It=function(){function e(e,t,n,r){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=r,T.assert(!r||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),Ot=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ot.ACK_USER_WRITE,this.source=It.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return T.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ce(t));return new e(ce.Empty,n,this.revert)}return T.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}(),At=function(){return St||(St=new Qe(X)),St},kt=function(){function e(e,t){void 0===t&&(t=At()),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return i(t,function(e,t){n=n.set(new ce(e),t)}),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ce.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);return null!=i?{path:new ce(n).child(i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return null!==r?r.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=this.children.get(r)||e.Empty,o=i.set(t.popFront(),n),a=this.children.insert(r,o);return new e(this.value,a)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r=t.getFront(),i=this.children.get(r)||e.Empty,o=i.setTree(t.popFront(),n),a=void 0;return a=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new e(this.value,a)},e.prototype.fold=function(e){return this.fold_(ce.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(e.child(r),t)}),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ce.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),o=this.children.get(i);return o?o.findOnPath_(e.popFront(),t.child(i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ce.Empty,t)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(t.popFront(),n.child(i),r):e.Empty},e.prototype.foreach=function(e){this.foreach_(ce.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(n,r){r.foreach_(e.child(n),t)}),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})},e.Empty=new e(null),e}(),Nt=function(){function e(e,t){this.source=e,this.path=t,this.type=ot.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,ce.Empty):new e(this.source,this.path.popFront())},e}(),xt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ot.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,ce.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),Pt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ot.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new ce(t));return n.isEmpty()?null:n.value?new xt(this.source,ce.Empty,n.value):new e(this.source,ce.Empty,n)}return T.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Rt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Lt=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new Rt(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new Rt(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new Rt(et.EMPTY_NODE,!1,!1),new Rt(et.EMPTY_NODE,!1,!1)),e}(),Dt=function(){function e(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,r){return new e(e.CHILD_CHANGED,n,t,r)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}(),Mt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){T.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Dt.childRemovedChange(t,a)):T.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Dt.childAddedChange(t,n)):o.trackChildChange(Dt.childChangedChange(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(We,function(e,r){t.hasChild(e)||n.trackChildChange(Dt.childRemovedChange(e,r))}),t.isLeafNode()||t.forEachChild(We,function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Dt.childChangedChange(t,r,i))}else n.trackChildChange(Dt.childAddedChange(t,r))})),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?et.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),jt=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;T.assert(t===Dt.CHILD_ADDED||t===Dt.CHILD_CHANGED||t===Dt.CHILD_REMOVED,"Only child changes supported for tracking"),T.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(t===Dt.CHILD_ADDED&&i===Dt.CHILD_REMOVED)this.changeMap.set(n,Dt.childChangedChange(n,e.snapshotNode,r.snapshotNode));else if(t===Dt.CHILD_REMOVED&&i===Dt.CHILD_ADDED)this.changeMap.delete(n);else if(t===Dt.CHILD_REMOVED&&i===Dt.CHILD_CHANGED)this.changeMap.set(n,Dt.childRemovedChange(n,r.oldSnap));else if(t===Dt.CHILD_CHANGED&&i===Dt.CHILD_ADDED)this.changeMap.set(n,Dt.childAddedChange(n,e.snapshotNode));else{if(t!==Dt.CHILD_CHANGED||i!==Dt.CHILD_CHANGED)throw T.assertionError("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Dt.childChangedChange(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Ut=function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}(),Ft=new Ut,qt=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Rt(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}(),Vt=function(){function e(e,t){this.viewCache=e,this.changes=t}return e}(),Bt=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){T.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),T.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,i){var o,a,s=new jt;if(n.type===ot.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(t,u.path,u.snap,r,i,s):(T.assert(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(t,u.path,u.snap,r,i,a,s))}else if(n.type===ot.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(t,c.path,c.children,r,i,s):(T.assert(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.getServerCache().isFiltered(),o=this.applyServerMerge_(t,c.path,c.children,r,i,a,s))}else if(n.type===ot.ACK_USER_WRITE){var l=n;o=l.revert?this.revertUserWrite_(t,l.path,r,i,s):this.ackUserWrite_(t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==ot.LISTEN_COMPLETE)throw T.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(t,n.path,r,s)}var h=s.getChanges();return e.maybeAddValueEvent_(t,o,h),new Vt(o,h)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Dt.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,i){var o=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var a=void 0,s=void 0;if(t.isEmpty())if(T.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var u=e.getCompleteServerSnap(),c=u instanceof et?u:et.EMPTY_NODE,l=n.calcCompleteEventChildren(c);a=this.filter_.updateFullNode(e.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(e.getCompleteServerSnap());a=this.filter_.updateFullNode(e.getEventCache().getNode(),h,i)}else{var f=t.getFront();if(".priority"===f){T.assert(1===t.getLength(),"Can't have a priority with additional path components");var p=o.getNode();s=e.getServerCache().getNode();var d=n.calcEventCacheAfterServerOverwrite(t,p,s);a=null!=d?this.filter_.updatePriority(p,d):o.getNode()}else{var m=t.popFront(),v=void 0;if(o.isCompleteForChild(f)){s=e.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(t,o.getNode(),s);v=null!=g?o.getNode().getImmediateChild(f).updateChild(m,g):o.getNode().getImmediateChild(f)}else v=n.calcCompleteChild(f,e.getServerCache());a=null!=v?this.filter_.updateChild(o.getNode(),f,v,m,r,i):o.getNode()}}return e.updateEventSnap(a,o.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,o,a){var s,u=e.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(t,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=t.getFront();if(!u.isCompleteForPath(t)&&t.getLength()>1)return e;var f=t.popFront(),p=u.getNode().getImmediateChild(h),d=p.updateChild(f,n);s=".priority"===h?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),h,d,f,Ft,null)}var m=e.updateServerSnap(s,u.isFullyInitialized()||t.isEmpty(),c.filtersNodes()),v=new qt(r,m,i);return this.generateEventCacheAfterServerEvent_(m,t,r,v,a)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,o){var a,s,u=e.getEventCache(),c=new qt(r,e,i);if(t.isEmpty())s=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),a=e.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=t.getFront();if(".priority"===l)s=this.filter_.updatePriority(e.getEventCache().getNode(),n),a=e.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=t.popFront(),f=u.getNode().getImmediateChild(l),p=void 0;if(h.isEmpty())p=n;else{var d=c.getCompleteChild(l);p=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):et.EMPTY_NODE}if(f.equals(p))a=e;else{var m=this.filter_.updateChild(u.getNode(),l,p,h,c,o);a=e.updateEventSnap(m,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,o,a){var s=this,u=t;return r.foreach(function(r,c){var l=n.child(r);e.cacheHasChild_(t,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),r.foreach(function(r,c){var l=n.child(r);e.cacheHasChild_(t,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),u},e.prototype.applyMerge_=function(e,t){return t.foreach(function(t,n){e=e.updateChild(t,n)}),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,o,a){var s=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var u,c=e;u=t.isEmpty()?n:kt.Empty.setTree(t,n);var l=e.getServerCache().getNode();return u.children.inorderTraversal(function(t,n){if(l.hasChild(t)){var u=e.getServerCache().getNode().getImmediateChild(t),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new ce(t),h,r,i,o,a)}}),u.children.inorderTraversal(function(t,n){var u=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!l.hasChild(t)&&!u){var h=e.getServerCache().getNode().getImmediateChild(t),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new ce(t),f,r,i,o,a)}}),c},e.prototype.ackUserWrite_=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var a=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,s.getNode().getChild(t),r,i,a,o);if(t.isEmpty()){var u=kt.Empty;return s.getNode().forEachChild(Fe,function(e,t){u=u.set(new ce(e),t)}),this.applyServerMerge_(e,t,u,r,i,a,o)}return e}var c=kt.Empty;return n.foreach(function(e,n){var r=t.child(e);s.isCompleteForPath(r)&&(c=c.set(e,s.getNode().getChild(r)))}),this.applyServerMerge_(e,t,c,r,i,a,o)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,Ft,r)},e.prototype.revertUserWrite_=function(e,t,n,r,i){var o;if(null!=n.shadowingWrite(t))return e;var a=new qt(n,e,r),s=e.getEventCache().getNode(),u=void 0;if(t.isEmpty()||".priority"===t.getFront()){var c=void 0;if(e.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var l=e.getServerCache().getNode();T.assert(l instanceof et,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(l)}c=c,u=this.filter_.updateFullNode(s,c,i)}else{var h=t.getFront(),f=n.calcCompleteChild(h,e.getServerCache());null==f&&e.getServerCache().isCompleteForChild(h)&&(f=s.getImmediateChild(h)),u=null!=f?this.filter_.updateChild(s,h,f,t.popFront(),a,i):e.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(s,h,et.EMPTY_NODE,t.popFront(),a,i):s,u.isEmpty()&&e.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(e.getCompleteServerSnap()),o.isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i)))}return o=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(ce.Empty),e.updateEventSnap(u,o,this.filter_.filtersNodes())},e}(),Ht=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,i=[],o=[];return e.forEach(function(e){e.type===Dt.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(Dt.childMovedChange(e.childName,e.snapshotNode))}),this.generateEventsForType_(i,Dt.CHILD_REMOVED,e,n,t),this.generateEventsForType_(i,Dt.CHILD_ADDED,e,n,t),this.generateEventsForType_(i,Dt.CHILD_MOVED,o,n,t),this.generateEventsForType_(i,Dt.CHILD_CHANGED,e,n,t),this.generateEventsForType_(i,Dt.VALUE,e,n,t),i},e.prototype.generateEventsForType_=function(e,t,n,r,i){var o=this,a=n.filter(function(e){return e.type===t});a.sort(this.compareChanges_.bind(this)),a.forEach(function(t){var n=o.materializeSingleChange_(t,i);r.forEach(function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,o.query_))})})},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_),e)},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw T.assertionError("Should only compare child_ events.");var n=new Me(e.childName,e.snapshotNode),r=new Me(t.childName,t.snapshotNode);return this.index_.compare(n,r)},e}(),Wt=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Mt(n.getIndex()),i=n.getNodeFilter();this.processor_=new Bt(i);var o=t.getServerCache(),a=t.getEventCache(),s=r.updateFullNode(et.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(et.EMPTY_NODE,a.getNode(),null),c=new Rt(s,o.isFullyInitialized(),r.filtersNodes()),l=new Rt(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new Lt(l,c),this.eventGenerator_=new Ht(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){T.assert(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(e){t=t;var i=e.createCancelEvent(t,r);i&&n.push(i)})}if(e){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===ot.MERGE&&null!==e.source.queryId&&(T.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),T.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),T.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(We,function(e,t){n.push(Dt.childAddedChange(e,t))}),t.isFullyInitialized()&&n.push(Dt.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,r)},e}(),zt=function(){function e(){this.views=new Map}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return T.assert(Ct,"Reference.ts has not been loaded"),Ct},set:function(e){T.assert(!Ct,"__referenceConstructor has already been defined"),Ct=e},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return 0===this.views.size},e.prototype.applyOperation=function(e,t,n){var r,i,o=e.source.queryId;if(null!==o){var a=this.views.get(o);return T.assert(null!=a,"SyncTree gave us an op for an invalid query."),a.applyOperation(e,t,n)}var s=[];try{for(var u=E.__values(this.views.values()),c=u.next();!c.done;c=u.next()){var a=c.value;s=s.concat(a.applyOperation(e,t,n))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return s},e.prototype.addEventRegistration=function(e,t,n,r,i){var o=e.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof et?(s=n.calcCompleteEventChildren(r),u=!1):(s=et.EMPTY_NODE,u=!1);var c=new Lt(new Rt(s,u,!1),new Rt(r,i,!1));a=new Wt(e,c),this.views.set(o,a)}return a.addEventRegistration(t),a.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var i,o,a=t.queryIdentifier(),s=[],u=[],c=this.hasCompleteView();if("default"===a)try{for(var l=E.__values(this.views.entries()),h=l.next();!h.done;h=l.next()){var f=E.__read(h.value,2),p=f[0],d=f[1];u=u.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(p),d.getQuery().getQueryParams().loadsAllData()||s.push(d.getQuery()))}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else{var d=this.views.get(a);d&&(u=u.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(a),d.getQuery().getQueryParams().loadsAllData()||s.push(d.getQuery())))}return c&&!this.hasCompleteView()&&s.push(new e.__referenceConstructor(t.repo,t.path)),{removed:s,events:u}},e.prototype.getQueryViews=function(){var e,t,n=[];try{for(var r=E.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.getCompleteServerCache=function(e){var t,n,r=null;try{for(var i=E.__values(this.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r||a.getCompleteServerCache(e)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return this.views.get(t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){var e,t;try{for(var n=E.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null},e}(),Gt=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new kt(n));var r=this.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=ce.relativePath(i,t);return o=o.updateChild(a,n),new e(this.writeTree_.set(i,o))}var s=new kt(n);return new e(this.writeTree_.setTree(t,s))},e.prototype.addWrites=function(e,t){var n=this;return i(t,function(t,r){n=n.addWrite(e.child(t),r)}),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.writeTree_.setTree(t,kt.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(ce.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(We,function(t,n){e.push(new Me(t,n))}):this.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Me(t,n.value))}),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new kt(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(e){return h(ce.Empty,this.writeTree_,e)},e.Empty=new e(new kt(null)),e}(),Kt=function(){function e(){this.visibleWrites_=Gt.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new Qt(e,this)},e.prototype.addOverwrite=function(e,t,n,r){T.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){T.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex(function(t){return t.writeId===e});T.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var o=r.visible,a=!1,s=this.allWrites_.length-1;o&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,r.path)?o=!1:r.path.contains(u.path)&&(a=!0)),s--}return!!o&&(a?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):i(r.children,function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(r.path.child(e))}),!0))},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(t);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(ce.Empty)){var a=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))},s=e.layerTree_(this.allWrites_,a,t),u=n||et.EMPTY_NODE;return s.apply(u)}return null}var c=this.visibleWrites_.getCompleteNode(t);if(null!=c)return c;var l=this.visibleWrites_.childCompoundWrite(t);if(l.isEmpty())return n;if(null!=n||l.hasCompleteWrite(ce.Empty)){var u=n||et.EMPTY_NODE;return l.apply(u)}return null},e.prototype.calcCompleteEventChildren=function(e,t){var n=et.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(We,function(e,t){n=n.updateImmediateChild(e,t)}),n;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(We,function(e,t){var r=i.childCompoundWrite(new ce(e)).apply(t);n=n.updateImmediateChild(e,r)}),i.getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){T.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=e.child(t);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(t):o.apply(r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(t)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)):null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(e),u=s.getCompleteNode(ce.Empty);if(null!=u)a=u;else{if(null==t)return[];a=s.apply(t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},e.prototype.recordContainsPath_=function(e,t){if(e.snap)return e.path.contains(t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&e.path.child(n).contains(t))return!0;return!1},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,ce.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var r=Gt.Empty,i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)n.contains(a)?(s=ce.relativePath(n,a),r=r.addWrite(s,o.snap)):a.contains(n)&&(s=ce.relativePath(a,n),r=r.addWrite(ce.Empty,o.snap.getChild(s)));else{if(!o.children)throw T.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))s=ce.relativePath(n,a),r=r.addWrites(s,o.children);else if(a.contains(n))if(s=ce.relativePath(a,n),s.isEmpty())r=r.addWrites(ce.Empty,o.children);else{var u=T.safeGet(o.children,s.getFront());if(u){var c=u.getChild(s.popFront());r=r.addWrite(ce.Empty,c)}}}}}return r},e}(),Qt=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),Yt=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=kt.Empty,this.pendingWriteTree_=new Kt,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new xt(It.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=kt.fromObject(t);return this.applyOperationToSyncPoints_(new Pt(It.User,e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=kt.Empty;return null!=n.snap?r=r.set(ce.Empty,!0):i(n.children,function(e,t){r=r.set(new ce(e),t)}),this.applyOperationToSyncPoints_(new Ot(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new xt(It.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=kt.fromObject(t);return this.applyOperationToSyncPoints_(new Pt(It.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new Nt(It.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,u=ce.relativePath(a,t),c=new xt(It.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,u=ce.relativePath(a,t),c=kt.fromObject(n),l=new Pt(It.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),o=i.path,a=i.queryId,s=ce.relativePath(o,t),u=new Nt(It.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,function(e,t){var n=ce.relativePath(e,r);i=i||t.getCompleteServerCache(n),o=o||t.hasCompleteView()});var a=this.syncPointTree_.get(r);a?(o=o||a.hasCompleteView(),i=i||a.getCompleteServerCache(ce.Empty)):(a=new zt,this.syncPointTree_=this.syncPointTree_.set(r,a));var s;null!=i?s=!0:(s=!1,i=et.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild(function(e,t){var n=t.getCompleteServerCache(ce.Empty);n&&(i=i.updateImmediateChild(e,n))}));var u=a.viewExistsForQuery(t);if(!u&&!t.getQueryParams().loadsAllData()){var c=e.makeQueryKey_(t);T.assert(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=e.getNextQueryTag_();this.queryToTagMap.set(c,l),this.tagToQueryMap.set(l,c)}var h=this.pendingWriteTree_.childWrites(r),f=a.addEventRegistration(t,n,h,i,s);if(!u&&!o){var p=a.viewForQuery(t);f=f.concat(this.setupListener_(t,p))}return f},e.prototype.removeEventRegistration=function(t,n,r){var i=this,o=t.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===t.queryIdentifier()||a.viewExistsForQuery(t))){var u=a.removeEventRegistration(t,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex(function(e){return e.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(e,t){return t.hasCompleteView()});if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var m=p[d],v=m.getQuery(),g=this.createListenerForView_(m);this.listenProvider_.startListening(e.queryForListening_(v),this.tagForQuery_(v),g.hashFn,g.onComplete)}}!h&&c.length>0&&!r&&(l?this.listenProvider_.stopListening(e.queryForListening_(t),null):c.forEach(function(t){var n=i.queryToTagMap.get(e.makeQueryKey_(t));i.listenProvider_.stopListening(e.queryForListening_(t),n)})),this.removeTags_(c)}return s},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,function(t,n){var r=ce.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),i(n,function(e,t){r=r.concat(t)}),r})},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var r=t.path,o=this.tagForQuery_(t),a=this.createListenerForView_(n),s=this.listenProvider_.startListening(e.queryForListening_(t),o,a.hashFn,a.onComplete),u=this.syncPointTree_.subtree(r);if(o)T.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map(function(e){return e.getQuery()}))),i(n,function(e,t){r=r.concat(t)}),r}),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(e.queryForListening_(h),this.tagForQuery_(h))}return s},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||et.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var i=re(e,n);return t.removeEventRegistration(n,null,i)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return T.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ce(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return this.queryToTagMap.get(n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);T.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(ce.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(ce.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(ce.Empty));var o=[],a=e.path.getFront(),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,o=t.get(ce.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(ce.Empty));var a=[];return t.children.inorderTraversal(function(t,o){var s=n?n.getImmediateChild(t):null,u=r.child(t),c=e.operationForChild(t);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))}),o&&(a=a.concat(o.applyOperation(e,r,n))),a},e.nextQueryTag_=1,e}(),Xt=function(){function e(){this.rootNode_=et.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),Jt=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),T.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return T.deepCopy(this.counters_)},e}(),$t=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new Jt),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),Zt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=E.__assign({},e);return this.last_&&i(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t},e}(),en=1e4,tn=3e4,nn=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Zt(e);var n=en+(tn-en)*Math.random();ue(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;i(t,function(t,i){i>0&&T.contains(e.statsToReport_,t)&&(n[t]=i,r=!0)}),r&&this.server_.reportStats(n),ue(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),rn=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new on(i)),t.add(r)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.equals(e)})},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.contains(e)||e.contains(t)})},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1)}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),on=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();M&&F("event: "+t.toString()),ae(n)}}},e.prototype.getPath=function(){return this.path_},e}(),an=function(){function e(e){this.allowedEvents_=e,this.listeners_={},T.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=E.__spread(this.listeners_[e]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){T.assert(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},e}(),sn=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))},!1),r}return E.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return T.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(an),un=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||T.isMobileCordova()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return E.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return T.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(an),cn=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==function(){var e=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var t=0;t<e.length;++t)!function(t){e[t]&&ae(function(){n.onMessage_(e[t])})}(t);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++}(););},e}(),ln="pLPCommand",hn="pRTLPCB",fn=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=q(e),this.stats_=$t.getCollection(t),this.urlFn=function(e){return t.connectionURL(he,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new cn(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),G(function(){if(!n.isClosed_){n.scriptTagHolder=new pn(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=E.__read(e,5),i=r[0],o=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=E.__read(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var e={};e.start="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(T.isNodeSdk()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||te()||ne()))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=T.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=T.base64Encode(t),r=Z(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!T.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={};n.dframe="t",n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=T.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),pn=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,T.isNodeSdk())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=R(),window[ln+this.uniqueCallbackIdentifier]=t,window[hn+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(e){F("frame writing exception"),e.stack&&F(e.stack),F(e)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||F("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3)),o=function(){clearTimeout(i),r()};this.addTag(e,o)},e.prototype.addTag=function(e,t){var n=this;T.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){F("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}},Math.floor(1))},e}(),dn="",mn=null;"undefined"!=typeof MozWebSocket?mn=MozWebSocket:"undefined"!=typeof WebSocket&&(mn=WebSocket);var vn=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=q(this.connId),this.stats_=$t.getCollection(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n){var r={};return r.v="5",!T.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),e.connectionURL("websocket",r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,N.set("previous_websocket_failure",!0);try{if(T.isNodeSdk()){var i=this.nodeAdmin?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+dn+"/"+r.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}},a=r.env,s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(o.proxy={origin:s}),this.mySock=new mn(this.connURL,[],o)}else{var o={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new mn(this.connURL,[],o)}}catch(e){this.log_("Error instantiating WebSocket.");var u=e.message||e.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==mn&&!e.forceDisallow_},e.previouslyFailed=function(){return N.isInMemoryStorage||!0===N.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){N.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=T.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(T.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=T.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Z(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),gn=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[fn,vn]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=vn&&vn.isAvailable(),o=i&&!vn.previouslyFailed();if(t.webSocketOnly&&(i||H("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[vn];else{var a=this.transports_=[];try{for(var s=E.__values(e.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),yn=function(){function e(e,t,n,r,i,o,a,s){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=q("c:"+this.id+":"),this.transportManager_=new gn(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,r)},Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=ue(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=J("t",e),n=J("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=J("t",e),n=J("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||--this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy())},e.prototype.onControl_=function(e){var t=J("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?V("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):V("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&H("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ue(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ue(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(N.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),_n=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),bn=1e3,wn=3e5,En=function(e){function t(n,r,i,o,a,s,u){var c=e.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=a,c.authTokenProvider_=s,c.authOverride_=u,c.id=t.nextPersistentConnectionId_++,c.log_=q("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=bn,c.maxReconnectDelay_=wn,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!T.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),sn.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&un.getInstance().on("online",c.onOnline_,c),c}return E.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(T.stringify(i)),T.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),o=e.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),T.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),T.assert(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))})},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&T.contains(e,"w")){var n=T.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();H("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||T.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=T.isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))})}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),T.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)})},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}})}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+T.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):V("Unrecognized action received from server: "+T.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;T.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=bn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var e=(new Date).getTime()-this.lastConnectionEstablishedTime_;e>3e4&&(this.reconnectDelay_=bn),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var e=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,a=this,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,i())},h=function(e){T.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)};this.realtime_={close:l,sendRequest:h};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then(function(e){u?F("getToken() completed but was canceled"):(F("getToken() completed. Creating connection."),a.authToken_=e&&e.accessToken,c=new yn(o,a.repoInfo_,a.applicationId_,n,r,i,function(e){H(e+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},s))}).then(null,function(t){a.log_("Failed to get token: "+t),u||(e.repoInfo_.nodeAdmin&&H(t),l())})}},t.prototype.interrupt=function(e){F("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){F("Resuming connection for reason: "+e),delete this.interruptReasons_[e],T.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=bn,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map(function(e){return $(e)}).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new ce(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){F("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||++this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=E.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,E.__values(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";T.isNodeSdk()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+dn.replace(/\./g,"-")]=1,T.isMobileCordova()?e["framework.cordova"]=1:T.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=un.getInstance().currentlyOnline();return T.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(_n),Tn=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=q("p:rest:"),i.listens_={},i}return E.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(T.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,a=e.path.toString();this.log_("Listen called for "+a+" "+e.queryIdentifier());var s=t.getListenId_(e,r),u={};this.listens_[s]=u;var c=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",c,function(e,t){var n=t;if(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),T.safeGet(o.listens_,s)===u){var c;c=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(c,null)}})},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var o=i&&i.accessToken;o&&(t.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+T.querystring(t);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var e=null;if(s.status>=200&&s.status<300){try{e=T.jsonEval(s.responseText)}catch(e){H("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,e)}else 401!==s.status&&404!==s.status&&H("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()})},t}(_n),Sn=function(){function e(e,t,n,r){var i=this;if(this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rn,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Tt,this.persistentConnection_=null,this.stats_=$t.getCollection(e),t||se())this.server_=new Tn(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(void 0!==o&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{T.stringify(o)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}this.persistentConnection_=new En(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,o),this.server_=this.persistentConnection_}r.addTokenChangeListener(function(e){i.server_.refreshAuthToken(e)}),this.statsReporter_=$t.getOrCreateReporter(e,function(){return new nn(i.stats_,i.server_)}),this.transactionsInit_(),this.infoData_=new Xt,this.infoSyncTree_=new Yt({startListening:function(e,t,n,r){var o=[],a=i.infoData_.getNode(e.path);return a.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout(function(){r("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Yt({startListening:function(e,t,n,r){return i.server_.listen(e,n,t,function(t,n){var o=r(t,n);i.eventQueue_.raiseEventsForChangedPath(e.path,o)}),[]},stopListening:function(e,t){i.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new ce(".info/serverTimeOffset")),t=e.val()||0;return(new Date).getTime()+t},e.prototype.generateServerValues=function(){return gt({timestamp:this.serverTime()})},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var i=new ce(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var o=[];if(r)if(n){var a=T.map(t,function(e){return c(e)});o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var s=c(t);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,s,r)}else if(n){var u=T.map(t,function(e){return c(e)});o=this.serverSyncTree_.applyServerMerge(i,u)}else{var l=c(t);o=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;i(e,function(e,n){t.updateInfo_(e,n)})},e.prototype.updateInfo_=function(e,t){var n=new ce("/.info/"+e),r=c(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,r){var i=this;this.log_("set",{path:e.toString(),value:t,priority:n});var o=this.generateServerValues(),a=c(t,n),s=this.serverSyncTree_.calcCompleteEventCache(e),u=Et(a,s,o),l=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserOverwrite(e,u,l,!0);this.eventQueue_.queueEvents(h),this.server_.put(e.toString(),a.val(!0),function(t,n){var o="ok"===t;o||H("set at "+e+" failed: "+t);var a=i.serverSyncTree_.ackUserWrite(l,!o);i.eventQueue_.raiseEventsForChangedPath(e,a),i.callOnCompleteCallback(r,t,n)});var f=this.abortTransactions_(e);this.rerunTransactions_(f),this.eventQueue_.raiseEventsForChangedPath(f,[])},e.prototype.update=function(e,t,n){var r=this;this.log_("update",{path:e.toString(),value:t});var o=!0,a=this.generateServerValues(),s={};if(i(t,function(t,n){o=!1,s[t]=wt(e.child(t),c(n),r.serverSyncTree_,a)}),o)F("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var u=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserMerge(e,s,u);this.eventQueue_.queueEvents(l),this.server_.merge(e.toString(),t,function(t,i){var o="ok"===t;o||H("update at "+e+" failed: "+t);var a=r.serverSyncTree_.ackUserWrite(u,!o),s=a.length>0?r.rerunTransactions_(e):e;r.eventQueue_.raiseEventsForChangedPath(s,a),r.callOnCompleteCallback(n,t,i)}),i(t,function(t){var n=r.abortTransactions_(e.child(t));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=new Tt;this.onDisconnect_.forEachTree(ce.Empty,function(r,i){var o=wt(r,i,e.serverSyncTree_,t);n.remember(r,o)});var r=[];n.forEachTree(ce.Empty,function(t,n){r=r.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var i=e.abortTransactions_(t);e.rerunTransactions_(i)}),this.onDisconnect_=new Tt,this.eventQueue_.raiseEventsForChangedPath(ce.Empty,r)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)})},e.prototype.onDisconnectSet=function(e,t,n){var r=this,i=c(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),function(t,o){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(n,t,o)})},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var i=this,o=c(t,n);this.server_.onDisconnectPut(e.toString(),o.val(!0),function(t,n){"ok"===t&&i.onDisconnect_.remember(e,o),i.callOnCompleteCallback(r,t,n)})},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(T.isEmpty(t))return F("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,function(o,a){"ok"===o&&i(t,function(t,n){var i=c(n);r.onDisconnect_.remember(e.child(t),i)}),r.callOnCompleteCallback(n,o,a)})},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;e?(this.statsListener_||(this.statsListener_=new Zt(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce(function(e,t){return Math.max(t.length,e)},0);i(t,function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)})}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),F.apply(void 0,E.__spread([n],e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&ae(function(){if("ok"===t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,e(o)}})},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new Mn(this))},enumerable:!1,configurable:!0}),e}(),Cn=function(){function e(t){this.indexedFilter_=new Mt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Me(t,n))||(n=et.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=et.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(et.EMPTY_NODE);var i=this;return t.forEachChild(We,function(e,t){i.matches(new Me(e,t))||(r=r.updateImmediateChild(e,et.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),In=function(){function e(e){this.rangedFilter_=new Cn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Me(t,n))||(n=et.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=et.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=et.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext(),s=void 0;if(!(s=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=t.withIndex(this.index_),r=r.updatePriority(et.EMPTY_NODE);var u=void 0,c=void 0,l=void 0,i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();l=function(e,t){return h(t,e)}}else i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();for(var o=0,f=!1;i.hasNext();){var a=i.getNext();!f&&l(u,a)<=0&&(f=!0);var s=f&&o<this.limit_&&l(a,c)<=0;s?o++:r=r.updateImmediateChild(a.name,et.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(e,t){return a(t,e)}}else o=this.index_.getCompare();var s=e;T.assert(s.numChildren()===this.limit_,"");var u=new Me(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,u);if(l&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(Dt.childChangedChange(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Dt.childRemovedChange(t,h));var d=s.updateImmediateChild(t,et.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Dt.childAddedChange(f.name,f.node)),d.updateImmediateChild(f.name,f.node)):d}return n.isEmpty()?e:l&&o(c,u)>=0?(null!=i&&(i.trackChildChange(Dt.childRemovedChange(c.name,c.node)),i.trackChildChange(Dt.childAddedChange(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,et.EMPTY_NODE)):e},e}(),On=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=We}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return T.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return T.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:K},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return T.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return T.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Q},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return T.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==We&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===We},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new Mt(this.getIndex()):this.hasLimit()?new In(this):new Cn(this)},e.prototype.toRestQueryStringParameters=function(){var t=e.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var r;return this.index_===We?r=t.PRIORITY_INDEX:this.index_===st?r=t.VALUE_INDEX:this.index_===Fe?r=t.KEY_INDEX:(T.assert(this.index_ instanceof ut,"Unrecognized index type!"),r=this.index_.toString()),n[t.ORDER_BY]=T.stringify(r),this.startSet_&&(n[t.START_AT]=T.stringify(this.indexStartValue_),this.startNameSet_&&(n[t.START_AT]+=","+T.stringify(this.indexStartName_))),this.endSet_&&(n[t.END_AT]=T.stringify(this.indexEndValue_),this.endNameSet_&&(n[t.END_AT]+=","+T.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[t.LIMIT_TO_FIRST]=this.limit_:n[t.LIMIT_TO_LAST]=this.limit_),n},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}(),An=function(e){function t(t,n){if(!(t instanceof Sn))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,On.DEFAULT,!1)||this}return E.__extends(t,e),t.prototype.getKey=function(){return T.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return T.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof ce||(null===this.path.getFront()?ke("Reference.child",1,e,!1):Ae("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){T.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){T.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){T.validateArgCount("Reference.set",1,2,arguments.length),Ne("Reference.set",this.path),we("Reference.set",1,e,this.path,!1),T.validateCallback("Reference.set",2,t,!0);var n=new T.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(T.validateArgCount("Reference.update",1,2,arguments.length),Ne("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,H("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Se("Reference.update",1,e,this.path,!1),T.validateCallback("Reference.update",2,t,!0);var i=new T.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(T.validateArgCount("Reference.setWithPriority",2,3,arguments.length),Ne("Reference.setWithPriority",this.path),we("Reference.setWithPriority",1,e,this.path,!1),Ce("Reference.setWithPriority",2,t,!1),T.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new T.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return T.validateArgCount("Reference.remove",0,1,arguments.length),Ne("Reference.remove",this.path),T.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(T.validateArgCount("Reference.transaction",1,3,arguments.length),Ne("Reference.transaction",this.path),T.validateCallback("Reference.transaction",1,e,!1),T.validateCallback("Reference.transaction",2,t,!0),Pe("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new T.Deferred;"function"==typeof t&&r.promise.catch(function(){});var i=function(e,n,i){e?r.reject(e):r.resolve(new Le(n,i)),"function"==typeof t&&t(e,n,i)};return this.repo.startTransaction(this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){T.validateArgCount("Reference.setPriority",1,2,arguments.length),Ne("Reference.setPriority",this.path),Ce("Reference.setPriority",1,e,!1),T.validateCallback("Reference.setPriority",2,t,!0);var n=new T.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){T.validateArgCount("Reference.push",0,2,arguments.length),Ne("Reference.push",this.path),we("Reference.push",1,e,this.path,!0),T.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=De(r),o=this.child(i),a=this.child(i);return n=null!=e?o.set(e,t).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch(function(){}),o},t.prototype.onDisconnect=function(){return Ne("Reference.onDisconnect",this.path),new Re(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(dt);dt.__referenceConstructor=An,zt.__referenceConstructor=An;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var kn,Nn=function(){function e(){this.children={},this.childCount=0,this.value=null}return e}(),xn=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new Nn),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n=t instanceof ce?t:new ce(t),r=this,i=n.getFront();null!==i;)r=new e(i,r,T.safeGet(r.node_.children,i)||new Nn),n=n.popFront(),i=n.getFront();return r},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){T.assert(void 0!==e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;i(this.node_.children,function(r,i){t(new e(r,n,i))})},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild(function(t){t.forEachDescendant(e,!0,n)}),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)})},e.prototype.path=function(){return new ce(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=T.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}();!function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"}(kn||(kn={})),Sn.MAX_TRANSACTION_RETRIES_=25,Sn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new xn},Sn.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var i=function(){},o=new An(this,e);o.on("value",i);var a=function(){o.off("value",i)},s={path:e,update:t,onComplete:n,status:null,order:R(),applyLocally:r,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(e);s.currentInputSnapshot=u;var l=s.update(u.val());if(void 0===l){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var h=new ct(s.currentInputSnapshot,new An(this,s.path),We);s.onComplete(null,!1,h)}}else{Ee("transaction failed: Data returned ",l,s.path),s.status=kn.RUN;var f=this.transactionQueueTree_.subTree(e),p=f.getValue()||[];p.push(s),f.setValue(p);var d=void 0;"object"==typeof l&&null!==l&&T.contains(l,".priority")?(d=T.safeGet(l,".priority"),T.assert(be(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(this.serverSyncTree_.calcCompleteEventCache(e)||et.EMPTY_NODE).getPriority().val(),d=d;var m=this.generateServerValues(),v=c(l,d),g=Et(v,u,m);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_();var y=this.serverSyncTree_.applyUserOverwrite(e,g,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,y),this.sendReadyTransactions_()}},Sn.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||et.EMPTY_NODE},Sn.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);T.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(e){return e.status===kn.RUN})&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild(function(e){t.sendReadyTransactions_(e)})},Sn.prototype.sendTransactionQueue_=function(e,t){for(var n=this,r=t.map(function(e){return e.currentWriteId}),i=this.getLatestState_(e,r),o=i,a=i.hash(),s=0;s<t.length;s++){var u=t[s];T.assert(u.status===kn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=kn.SENT,u.retryCount++;var c=ce.relativePath(e,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),h=e;this.server_.put(h.toString(),l,function(r){n.log_("transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<t.length;a++){if(t[a].status=kn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(t[a].currentWriteId)),t[a].onComplete){var s=t[a].currentOutputSnapshotResolved,u=new An(n,t[a].path),c=new ct(s,u,We);o.push(t[a].onComplete.bind(null,null,!0,c))}t[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,i);for(var a=0;a<o.length;a++)ae(o[a])}else{if("datastale"===r)for(var a=0;a<t.length;a++)t[a].status===kn.SENT_NEEDS_ABORT?t[a].status=kn.NEEDS_ABORT:t[a].status=kn.RUN;else{H("transaction at "+h.toString()+" failed: "+r);for(var a=0;a<t.length;a++)t[a].status=kn.NEEDS_ABORT,t[a].abortReason=r}n.rerunTransactions_(e)}},a)},Sn.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},Sn.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n=[],r=[],i=e.filter(function(e){return e.status===kn.RUN}),o=i.map(function(e){return e.currentWriteId}),a=0;a<e.length;a++){var s=e[a],u=ce.relativePath(t,s.path),l=!1,h=void 0;if(T.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===kn.NEEDS_ABORT)l=!0,h=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===kn.RUN)if(s.retryCount>=Sn.MAX_TRANSACTION_RETRIES_)l=!0,h="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var f=this.getLatestState_(s.path,o);s.currentInputSnapshot=f;var p=e[a].update(f.val());if(void 0!==p){Ee("transaction failed: Data returned ",p,s.path);var d=c(p),m="object"==typeof p&&null!=p&&T.contains(p,".priority");m||(d=d.updatePriority(f.getPriority()));var v=s.currentWriteId,g=this.generateServerValues(),y=Et(d,f,g);s.currentOutputSnapshotRaw=d,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(v),1),r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,y,s.currentWriteId,s.applyLocally)),r=r.concat(this.serverSyncTree_.ackUserWrite(v,!0))}else l=!0,h="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,r),r=[],l&&(e[a].status=kn.COMPLETED,function(e){setTimeout(e,Math.floor(0))}(e[a].unwatcher),e[a].onComplete))if("nodata"===h){var _=new An(this,e[a].path),b=e[a].currentInputSnapshot,w=new ct(b,_,We);n.push(e[a].onComplete.bind(null,null,!1,w))}else n.push(e[a].onComplete.bind(null,new Error(h),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var a=0;a<n.length;a++)ae(n[a]);this.sendReadyTransactions_()}},Sn.prototype.getAncestorTransactionNode_=function(e){var t,n=this.transactionQueueTree_;for(t=e.getFront();null!==t&&null===n.getValue();)n=n.subTree(t),e=e.popFront(),t=e.getFront();return n},Sn.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort(function(e,t){return e.order-t.order}),t},Sn.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild(function(e){n.aggregateTransactionQueuesForNode_(e,t)})},Sn.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==kn.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(n.length>0?n:null)}e.forEachChild(function(e){t.pruneCompletedTransactionsBelowNode_(e)})},Sn.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor(function(e){t.abortTransactionsOnNode_(e)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(e){t.abortTransactionsOnNode_(e)}),n},Sn.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],i=-1,o=0;o<t.length;o++)t[o].status===kn.SENT_NEEDS_ABORT||(t[o].status===kn.SENT?(T.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,t[o].status=kn.SENT_NEEDS_ABORT,t[o].abortReason="set"):(T.assert(t[o].status===kn.RUN,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[o].currentWriteId,!0)),t[o].onComplete&&n.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===i?e.setValue(null):t.length=i+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r);for(var o=0;o<n.length;o++)ae(n[o])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Pn,Rn=function(){function e(e,t){var n=this;this.app_=e,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.get().then(function(e){return n.auth_=e})}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch(function(e){return e&&"auth/token-not-initialized"===e.code?(F("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)}):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout(function(){return e(null)},0),this.authProvider_.get().then(function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(t){return t.removeAuthTokenListener(e)})},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',H(e)},e}(),Ln=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}(),Dn=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return Pn||(Pn=new e),Pn},e.prototype.interrupt=function(){var e,t,n,r;try{for(var i=E.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,E.__values(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next()){var c=u.value;this.repos_[a][c].interrupt()}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.resume=function(){var e,t,n,r;try{for(var i=E.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,E.__values(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next()){var c=u.value;this.repos_[a][c].resume()}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.databaseFromApp=function(e,t,n,i){var o=n||e.options.databaseURL;void 0===o&&(e.options.projectId||B("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),F("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=pe(o,i),u=s.repoInfo,c=void 0;void 0!==r&&(c=r.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,s=pe(o,i),u=s.repoInfo):a=!s.repoInfo.secure;var l=i&&a?new Ln:new Rn(e,t);return xe("Invalid Firebase Database URL",1,s),s.path.isEmpty()||B("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(u,e,l).database},e.prototype.deleteRepo=function(e){var t=T.safeGet(this.repos_,e.app.name);t&&T.safeGet(t,e.repoInfo_.toURLString())===e||B("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t,n){var r=T.safeGet(this.repos_,t.name);r||(r={},this.repos_[t.name]=r);var i=T.safeGet(r,e.toURLString());return i&&B("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Sn(e,this.useRestClient_,t,n),r[e.toURLString()]=i,i},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),Mn=function(){function e(e){this.repo_=e,e instanceof Sn||B("Don't call new Database() directly - please use firebase.database()."),this.root_=new An(e,ce.Empty),this.INTERNAL=new jn(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),T.validateArgCount("database.ref",0,1,arguments.length),e instanceof An?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),T.validateArgCount(t,1,1,arguments.length);var n=pe(e,this.repo_.repoInfo_.nodeAdmin);xe(t,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&B(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&B("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){T.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){T.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},e}(),jn=function(){function e(e){this.database=e}return e.prototype.delete=function(){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(e){return this.database.checkDeleted_("delete"),Dn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},e}(),Un=function(){vn.forceDisallow(),fn.forceAllow()},Fn=function(){fn.forceDisallow()},qn=function(){return vn.isAvailable()},Vn=function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},Bn=function(e,t){e.repo.stats(t)},Hn=function(e,t){e.repo.statsIncrementCounter(t)},Wn=function(e){return e.repo.dataUpdateCount},zn=function(e,t){return e.repo.interceptServerData_(t)},Gn=Object.freeze({__proto__:null,forceLongPolling:Un,forceWebSockets:Fn,isWebSocketsAvailable:qn,setSecurityDebugCallback:Vn,stats:Bn,statsIncrementCounter:Hn,dataUpdateCount:Wn,interceptServerData:zn}),Kn=En;En.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},En.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Qn=yn,Yn=function(e){var t=En.prototype.put;return En.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){En.prototype.put=t}},Xn=fe,Jn=function(e){return e.queryIdentifier()},$n=function(e){Dn.getInstance().forceRestClient(e)},Zn=Object.freeze({__proto__:null,DataConnection:Kn,RealTimeConnection:Qn,hijackHash:Yn,ConnectionTarget:Xn,queryIdentifier:Jn,forceRestClient:$n}),er="@firebase/database",tr="0.6.13",nr=Mn.ServerValue;p(I.default),t.DataSnapshot=ct,t.Database=Mn,t.OnDisconnect=Re,t.Query=dt,t.Reference=An,t.ServerValue=nr,t.enableLogging=U,t.registerDatabase=p}).call(t,n(162))},function(e,t,n){"use strict";(function(e){/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function r(){return bi.logLevel}function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(bi.logLevel<=pi.LogLevel.DEBUG){var r=t.map(s);bi.debug.apply(bi,hi.__spreadArrays(["Firestore (7.21.0): "+e],r))}}function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(bi.logLevel<=pi.LogLevel.ERROR){var r=t.map(s);bi.error.apply(bi,hi.__spreadArrays(["Firestore (7.21.0): "+e],r))}}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(bi.logLevel<=pi.LogLevel.WARN){var r=t.map(s);bi.warn.apply(bi,hi.__spreadArrays(["Firestore (7.21.0): "+e],r))}}function s(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function u(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (7.21.0) INTERNAL ASSERTION FAILED: "+e;throw o(t),new Error(t)}function c(e,t){e||u()}function l(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function h(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function f(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function p(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(e,t){if(0!==t.length)throw new _i(yi.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+P(t.length,"argument")+".")}function m(e,t,n){if(t.length!==n)throw new _i(yi.INVALID_ARGUMENT,"Function "+e+"() requires "+P(n,"argument")+", but was called with "+P(t.length,"argument")+".")}function v(e,t,n){if(t.length<n)throw new _i(yi.INVALID_ARGUMENT,"Function "+e+"() requires at least "+P(n,"argument")+", but was called with "+P(t.length,"argument")+".")}function g(e,t,n,r){if(t.length<n||t.length>r)throw new _i(yi.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+P(t.length,"argument")+".")}function y(e,t,n,r){S(e,t,x(n)+" argument",r)}function _(e,t,n,r){void 0!==r&&y(e,t,n,r)}function b(e,t,n,r){S(e,t,n+" option",r)}function w(e,t,n,r){void 0!==r&&b(e,t,n,r)}function E(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(I(u))}var c=I(r);throw new _i(yi.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function T(e,t,n,r){if(!t.some(function(e){return e===r}))throw new _i(yi.INVALID_ARGUMENT,"Invalid value "+I(r)+" provided to function "+e+"() for its "+x(n)+" argument. Acceptable values: "+t.join(", "));return r}function S(e,t,n,r){if(!("object"===t?C(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var i=I(r);throw new _i(yi.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function C(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function I(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":u()}function O(e,t,n){if(void 0===n)throw new _i(yi.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+x(t)+" argument, but it was undefined.")}function A(e,t,n){f(t,function(t,r){if(n.indexOf(t)<0)throw new _i(yi.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))})}function k(e,t,n,r){var i=I(r);return new _i(yi.INVALID_ARGUMENT,"Function "+e+"() requires its "+x(n)+" argument to be a "+t+", but it was: "+i)}function N(e,t,n){if(n<=0)throw new _i(yi.INVALID_ARGUMENT,"Function "+e+"() requires its "+x(t)+" argument to be a positive number, but it was: "+n+".")}function x(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function P(e,t){return e+" "+t+(1===e?"":"s")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function R(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function L(e,t){return e<t?-1:e>t?1:0}function D(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}function M(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function j(){if("undefined"==typeof Uint8Array)throw new _i(yi.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function U(){if("undefined"==typeof atob)throw new _i(yi.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function F(e){return null==e}function q(e){return-0===e&&1/e==-1/0}function V(e){return"number"==typeof e&&Number.isInteger(e)&&!q(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function B(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ji(e,t,n,r,i,o,a)}function H(e){var t=l(e);if(null===t.Z){var n=t.path.R();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return function(e){return e.field.R()+e.op.toString()+ue(e.value)}(e)}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return(t=e).field.R()+t.dir;var t}).join(","),F(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=kt(t.startAt)),t.endAt&&(n+="|ub:",n+=kt(t.endAt)),t.Z=n}return t.Z}function W(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Rt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!ie(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xt(e.startAt,t.startAt)&&xt(e.endAt,t.endAt)}function z(e){return Ci.F(e.path)&&null===e.collectionGroup&&0===e.filters.length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function G(e){switch(e){case yi.OK:return u();case yi.CANCELLED:case yi.UNKNOWN:case yi.DEADLINE_EXCEEDED:case yi.RESOURCE_EXHAUSTED:case yi.INTERNAL:case yi.UNAVAILABLE:case yi.UNAUTHENTICATED:return!1;case yi.INVALID_ARGUMENT:case yi.NOT_FOUND:case yi.ALREADY_EXISTS:case yi.PERMISSION_DENIED:case yi.FAILED_PRECONDITION:case yi.ABORTED:case yi.OUT_OF_RANGE:case yi.UNIMPLEMENTED:case yi.DATA_LOSS:return!0;default:return u()}}function K(e){if(void 0===e)return o("GRPC error has no .code"),yi.UNKNOWN;switch(e){case Ai.OK:return yi.OK;case Ai.CANCELLED:return yi.CANCELLED;case Ai.UNKNOWN:return yi.UNKNOWN;case Ai.DEADLINE_EXCEEDED:return yi.DEADLINE_EXCEEDED;case Ai.RESOURCE_EXHAUSTED:return yi.RESOURCE_EXHAUSTED;case Ai.INTERNAL:return yi.INTERNAL;case Ai.UNAVAILABLE:return yi.UNAVAILABLE;case Ai.UNAUTHENTICATED:return yi.UNAUTHENTICATED;case Ai.INVALID_ARGUMENT:return yi.INVALID_ARGUMENT;case Ai.NOT_FOUND:return yi.NOT_FOUND;case Ai.ALREADY_EXISTS:return yi.ALREADY_EXISTS;case Ai.PERMISSION_DENIED:return yi.PERMISSION_DENIED;case Ai.FAILED_PRECONDITION:return yi.FAILED_PRECONDITION;case Ai.ABORTED:return yi.ABORTED;case Ai.OUT_OF_RANGE:return yi.OUT_OF_RANGE;case Ai.UNIMPLEMENTED:return yi.UNIMPLEMENTED;case Ai.DATA_LOSS:return yi.DATA_LOSS;default:return u()}}function Q(){return zi}function Y(){return Q()}function X(){return Gi}function J(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Qi,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}function $(){return Yi}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Z(){return new qi(Ci.i)}function ee(){return new qi(Ci.i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function te(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ne(e){var t=ce(e.mapValue.fields.__local_write_time__.timestampValue);return new Di(t.seconds,t.nanos)}function re(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?te(e)?4:10:u()}function ie(e,t){var n=re(e);if(n!==re(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ne(e).isEqual(ne(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ce(e.timestampValue),r=ce(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return he(e.bytesValue).isEqual(he(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return le(e.geoPointValue.latitude)===le(t.geoPointValue.latitude)&&le(e.geoPointValue.longitude)===le(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return le(e.integerValue)===le(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=le(e.doubleValue),r=le(t.doubleValue);return n===r?q(n)===q(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return D(e.arrayValue.values||[],t.arrayValue.values||[],ie);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(h(n)!==h(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ie(n[i],r[i])))return!1;return!0}(e,t);default:return u()}}function oe(e,t){return void 0!==(e.values||[]).find(function(e){return ie(e,t)})}function ae(e,t){var n=re(e),r=re(t);if(n!==r)return L(n,r);switch(n){case 0:return 0;case 1:return L(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=le(e.integerValue||e.doubleValue),r=le(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return se(e.timestampValue,t.timestampValue);case 4:return se(ne(e),ne(t));case 5:return L(e.stringValue,t.stringValue);case 6:return function(e,t){var n=he(e),r=he(t);return n.L(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=L(n[i],r[i]);if(0!==o)return o}return L(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=L(le(e.latitude),le(t.latitude));return 0!==n?n:L(le(e.longitude),le(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=ae(n[i],r[i]);if(o)return o}return L(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=L(r[a],o[a]);if(0!==s)return s;var u=ae(n[r[a]],i[o[a]]);if(0!==u)return u}return L(r.length,o.length)}(e.mapValue,t.mapValue);default:throw u()}}function se(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return L(e,t);var n=ce(e),r=ce(t),i=L(n.seconds,r.seconds);return 0!==i?i:L(n.nanos,r.nanos)}function ue(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=ce(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?he(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,Ci.C(r).toString()):"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=e(a)}return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):u();var n,r}(e)}function ce(e){if(c(!!e),"string"==typeof e){var t=0,n=ao.exec(e);if(c(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:le(e.seconds),nanos:le(e.nanos)}}function le(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function he(e){return"string"==typeof e?Oi.fromBase64String(e):Oi.fromUint8Array(e)}function fe(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.R()}}function pe(e){return!!e&&"integerValue"in e}function de(e){return!!e&&"arrayValue"in e}function me(e){return!!e&&"nullValue"in e}function ve(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ge(e){return!!e&&"mapValue"in e}function ye(e){return{integerValue:""+e}}function _e(e,t){if(e.Ue){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:q(t)?"-0":t}}function be(e,t){return V(t)?ye(t):_e(e,t)}function we(e,t){return e.Ue?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ee(e,t){return e.Ue?t.toBase64():t.toUint8Array()}function Te(e,t){return we(e,t.X())}function Se(e){return c(!!e),Mi.Y(function(e){var t=ce(e);return new Di(t.seconds,t.nanos)}(e))}function Ce(e,t){return function(e){return new Ei(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).R()}function Ie(e){var t=Ei.P(e);return c(Ke(t)),t}function Oe(e,t){return Ce(e.U,t.path)}function Ae(e,t){var n=Ie(t);return c(n.get(1)===e.U.projectId),c(!n.get(3)&&!e.U.database||n.get(3)===e.U.database),new Ci(Pe(n))}function ke(e,t){return Ce(e.U,t)}function Ne(e){var t=Ie(e);return 4===t.length?Ei.g():Pe(t)}function xe(e){return new Ei(["projects",e.U.projectId,"databases",e.U.database]).R()}function Pe(e){return c(e.length>4&&"documents"===e.get(4)),e.u(5)}function Re(e,t,n){return{name:Oe(e,t),fields:n.proto.mapValue.fields}}function Le(e,t){var n;if(t instanceof wo)n={update:Re(e,t.key,t.value)};else if(t instanceof So)n={delete:Oe(e,t.key)};else if(t instanceof Eo)n={update:Re(e,t.key,t.data),updateMask:Ge(t.Qe)};else if(t instanceof To)n={transform:{document:Oe(e,t.key),fieldTransforms:t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof ho)return{fieldPath:t.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof fo)return{fieldPath:t.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof po)return{fieldPath:t.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof mo)return{fieldPath:t.field.R(),increment:n.We};throw u()}(0,e)})}};else{if(!(t instanceof Co))return u();n={verify:Oe(e,t.key)}}return t.Ke.je||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Te(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:u()}(e,t.Ke)),n}function De(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?_o.updateTime(Se(e.updateTime)):void 0!==e.exists?_o.exists(e.exists):_o.Ge()}(t.currentDocument):_o.Ge();if(t.update){t.update.name;var r=Ae(e,t.update.name),i=new Io({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new vo(t.map(function(e){return Si.S(e)}))}(t.updateMask);return new Eo(r,i,o,n)}return new wo(r,i,n)}if(t.delete){var a=Ae(e,t.delete);return new So(a,n)}if(t.transform){var s=Ae(e,t.transform.document),l=t.transform.fieldTransforms.map(function(t){return function(e,t){var n=null;if("setToServerValue"in t)c("REQUEST_TIME"===t.setToServerValue),n=new ho;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new fo(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new po(i)}else"increment"in t?n=new mo(e,t.increment):u();var o=Si.S(t.fieldPath);return new go(o,n)}(e,t)});return c(!0===n.exists),new To(s,l)}if(t.verify){var h=Ae(e,t.verify);return new Co(h,n)}return u()}function Me(e,t){return{documents:[ke(e,t.path)]}}function je(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ke(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ke(e,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(ve(e.value))return{unaryFilter:{field:Be(e.field),op:"IS_NAN"}};if(me(e.value))return{unaryFilter:{field:Be(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ve(e.value))return{unaryFilter:{field:Be(e.field),op:"IS_NOT_NAN"}};if(me(e.value))return{unaryFilter:{field:Be(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Be(e.field),op:Ve(e.op),value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map(function(e){return function(e){return{field:Be(e.field),direction:qe(e.dir)}}(e)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.Ue||F(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Ue(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ue(t.endAt)),n}function Ue(e){return{before:e.before,values:e.position}}function Fe(e){var t=!!e.before,n=e.values||[];return new Vo(n,t)}function qe(e){return so[e]}function Ve(e){return uo[e]}function Be(e){return{fieldPath:e.R()}}function He(e){return Si.S(e.fieldPath)}function We(e){return Ro.create(He(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return u()}}(e.fieldFilter.op),e.fieldFilter.value)}function ze(e){switch(e.unaryFilter.op){case"IS_NAN":var t=He(e.unaryFilter.field);return Ro.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=He(e.unaryFilter.field);return Ro.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=He(e.unaryFilter.field);return Ro.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=He(e.unaryFilter.field);return Ro.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return u()}}function Ge(e){var t=[];return e.fields.forEach(function(e){return t.push(e.R())}),{fieldPaths:t}}function Ke(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Qe(e,t,n){return e instanceof ho?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof fo?Je(e,t):e instanceof po?$e(e,t):function(e,t){var n=Xe(e,t),r=Ze(n)+Ze(e.We);return pe(n)&&pe(e.We)?ye(r):_e(e.serializer,r)}(e,t)}function Ye(e,t,n){return e instanceof fo?Je(e,t):e instanceof po?$e(e,t):n}function Xe(e,t){return e instanceof mo?pe(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}function Je(e,t){for(var n=et(t),r=0,i=e.elements;r<i.length;r++)!function(e){n.some(function(t){return ie(t,e)})||n.push(e)}(i[r]);return{arrayValue:{values:n}}}function $e(e,t){for(var n=et(t),r=0,i=e.elements;r<i.length;r++)!function(e){n=n.filter(function(t){return!ie(t,e)})}(i[r]);return{arrayValue:{values:n}}}function Ze(e){return le(e.integerValue||e.doubleValue)}function et(e){return de(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function tt(e,t){return void 0!==e.updateTime?t instanceof ko&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t instanceof ko}function nt(e,t,n){return e instanceof wo?function(e,t,n){return new ko(e.key,n.version,e.value,{hasCommittedMutations:!0})}(e,0,n):e instanceof Eo?function(e,t,n){if(!tt(e.Ke,t))return new xo(e.key,n.version);var r=st(e,t);return new ko(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):e instanceof To?function(e,t,n){if(c(null!=n.transformResults),!tt(e.Ke,t))return new xo(e.key,n.version);var r=ut(e,t),i=function(e,t,n){var r=[];c(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=null;t instanceof ko&&(s=t.field(o.field)),r.push(Ye(a,s,n[i]))}return r}(e.fieldTransforms,t,n.transformResults),o=n.version,a=ct(e,r.data(),i);return new ko(e.key,o,a,{hasCommittedMutations:!0})}(e,t,n):function(e,t,n){return new No(e.key,n.version,{hasCommittedMutations:!0})}(e,0,n)}function rt(e,t,n,r){return e instanceof wo?function(e,t){if(!tt(e.Ke,t))return t;var n=at(t);return new ko(e.key,n,e.value,{Ye:!0})}(e,t):e instanceof Eo?function(e,t){if(!tt(e.Ke,t))return t;var n=at(t),r=st(e,t);return new ko(e.key,n,r,{Ye:!0})}(e,t):e instanceof To?function(e,t,n,r){if(!tt(e.Ke,t))return t;var i=ut(e,t),o=function(e,t,n,r){for(var i=[],o=0,a=e;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof ko&&(c=n.field(s.field)),null===c&&r instanceof ko&&(c=r.field(s.field)),i.push(Qe(u,c,t))}return i}(e.fieldTransforms,n,t,r),a=ct(e,i.data(),o);return new ko(e.key,i.version,a,{Ye:!0})}(e,t,r,n):function(e,t){return tt(e.Ke,t)?new No(e.key,Mi.min()):t}(e,t)}function it(e,t){return e instanceof To?function(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t instanceof ko?t.field(o.field):void 0,s=Xe(o.transform,a||null);null!=s&&(n=null==n?(new Oo).set(o.field,s):n.set(o.field,s))}return n?n.Je():null}(e,t):null}function ot(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.Ke.isEqual(t.Ke)&&(0===e.type?e.value.isEqual(t.value):1===e.type?e.data.isEqual(t.data)&&e.Qe.isEqual(t.Qe):2!==e.type||D(e.fieldTransforms,e.fieldTransforms,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof fo&&t instanceof fo||e instanceof po&&t instanceof po?D(e.elements,t.elements,ie):e instanceof mo&&t instanceof mo?ie(e.We,t.We):e instanceof ho&&t instanceof ho}(e.transform,t.transform)}(e,t)}))}function at(e){return e instanceof ko?e.version:Mi.min()}function st(e,t){return function(e,t){var n=new Oo(t);return e.Qe.fields.forEach(function(t){if(!t.m()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}}),n.Je()}(e,t instanceof ko?t.data():Io.empty())}function ut(e,t){return t}function ct(e,t,n){for(var r=new Oo(t),i=0;i<e.fieldTransforms.length;i++){var o=e.fieldTransforms[i];r.set(o.field,n[i])}return r.Je()}function lt(e){var t=[];return f(e.fields||{},function(e,n){var r=new Si([e]);if(ge(n)){var i=lt(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)}),new vo(t)}function ht(e,t,n,r,i,o,a,s){return new Po(e,t,n,r,i,o,a,s)}function ft(e){return new Po(e)}function pt(e){return!F(e.limit)&&"F"===e.on}function dt(e){return!F(e.limit)&&"L"===e.on}function mt(e){return e.rn.length>0?e.rn[0].field:null}function vt(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.un())return r.field}return null}function gt(e){return null!==e.collectionGroup}function yt(e){var t=l(e);if(null===t.an){t.an=[];var n=vt(t),r=mt(t);if(null!==n&&null===r)n.p()||t.an.push(new Bo(n)),t.an.push(new Bo(Si.v(),"asc"));else{for(var i=!1,o=0,a=t.rn;o<a.length;o++){var s=a[o];t.an.push(s),s.field.p()&&(i=!0)}if(!i){var u=t.rn.length>0?t.rn[t.rn.length-1].dir:"asc";t.an.push(new Bo(Si.v(),u))}}}return t.an}function _t(e){var t=l(e);if(!t.cn)if("F"===t.on)t.cn=B(t.path,t.collectionGroup,yt(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=yt(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Bo(o.field,a))}var s=t.endAt?new Vo(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Vo(t.startAt.position,!t.startAt.before):null;t.cn=B(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.cn}function bt(e,t,n){return new Po(e.path,e.collectionGroup,e.rn.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wt(e,t){return new Po(e.path,e.collectionGroup,e.rn.slice(),e.filters.slice(),e.limit,e.on,t,e.endAt)}function Et(e,t){return new Po(e.path,e.collectionGroup,e.rn.slice(),e.filters.slice(),e.limit,e.on,e.startAt,t)}function Tt(e,t){return W(_t(e),_t(t))&&e.on===t.on}function St(e){return H(_t(e))+"|lt:"+e.on}function Ct(e){return"Query(target="+function(e){var t=e.path.R();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map(function(e){return(t=e).field.R()+" "+t.op+" "+ue(t.value);var t}).join(", ")+"]"),F(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map(function(e){return(t=e).field.R()+" ("+t.dir+")";var t}).join(", ")+"]"),e.startAt&&(t+=", startAt: "+kt(e.startAt)),e.endAt&&(t+=", endAt: "+kt(e.endAt)),"Target("+t+")"}(_t(e))+"; limitType="+e.on+")"}function It(e,t){return function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.N(e.collectionGroup)&&e.path.T(n):Ci.F(e.path)?e.path.isEqual(n):e.path.I(n)}(e,t)&&function(e,t){for(var n=0,r=e.rn;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===t.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Nt(e.startAt,yt(e),t)||e.endAt&&Nt(e.endAt,yt(e),t))}(e,t)}function Ot(e){return function(t,n){for(var r=!1,i=0,o=yt(e);i<o.length;i++){var a=o[i],s=Pt(a,t,n);if(0!==s)return s;r=r||a.field.p()}return 0}}function At(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return Ci.C(e.referenceValue)})}function kt(e){return(e.before?"b":"a")+":"+e.position.map(function(e){return ue(e)}).join(",")}function Nt(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.p()?Ci.i(Ci.C(a.referenceValue),n.key):ae(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function xt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ie(e.position[n],t.position[n]))return!1;return!0}function Pt(e,t,n){var r=e.field.p()?Ci.i(t.key,n.key):function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?ae(r,i):u()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return u()}}function Rt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Lt(e){return"IndexedDbTransactionError"===e.name}function Dt(e){return new zo(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Mt(e.target.error);n(t)}})}function Mt(e){var t=Go.Mn(di.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new _i("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Jo||(Jo=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function jt(){return"undefined"!=typeof window?window:null}function Ut(){return"undefined"!=typeof document?document:null}function Ft(e,t){if(o("AsyncQueue",t+": "+e),Lt(e))return new _i(yi.UNAVAILABLE,t+": "+e);throw e}function qt(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return hi.__generator(this,function(c){switch(c.label){case 0:if(n=l(e),r=t.query,i=!1,(o=n.Ls.get(r))||(i=!0,o=new ea),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.qs(r)];case 2:return a.Os=c.sent(),[3,4];case 3:return s=c.sent(),u=Ft(s,"Initialization of query '"+Ct(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.Ls.set(r,o),o.listeners.push(t),t.Us(n.onlineState),o.Os&&t.Qs(o.Os)&&Wt(n),[2]}})})}function Vt(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a;return hi.__generator(this,function(s){return n=l(e),r=t.query,i=!1,(o=n.Ls.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.Ls.delete(r),n.Ws(r))]:[2]})})}function Bt(e,t){for(var n=l(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.Ls.get(s);if(u){for(var c=0,h=u.listeners;c<h.length;c++)h[c].Qs(a)&&(r=!0);u.Os=a}}r&&Wt(n)}function Ht(e,t,n){var r=l(e),i=r.Ls.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.Ls.delete(t)}function Wt(e){e.Bs.forEach(function(e){e.next()})}function zt(e,t){return"firestore_clients_"+e+"_"+t}function Gt(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.Xs()&&(r+="_"+t.uid),r}function Kt(e,t){return"firestore_targets_"+e+"_"+t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Qt(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=L(n,i);return 0===a?L(r,o):a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Yt(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Jt(t)),t=Xt(e.get(n),t);return Jt(t)}function Xt(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Jt(e){return e+""}function $t(e){var t=e.length;if(c(t>=2),2===t)return c(""===e.charAt(0)&&""===e.charAt(1)),Ei.g();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&u(),e.charAt(a+1)){case"":var s=e.substring(o,a),l=void 0;0===i.length?l=s:(l=i+=s,i=""),r.push(l);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:u()}o=a+2}return new Ei(r)}function Zt(e,t){if(t.document)return function(e,t,n){var r=Ae(e,t.name),i=Se(t.updateTime),o=new Io({mapValue:{fields:t.fields}});return new ko(r,i,o,{hasCommittedMutations:!!n})}(e.Do,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Ci.$(t.noDocument.path),r=on(t.noDocument.readTime);return new No(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=Ci.$(t.unknownDocument.path),o=on(t.unknownDocument.version);return new xo(i,o)}return u()}function en(e,t,n){var r=tn(n),i=t.key.path.h().A();if(t instanceof ko){var o=function(e,t){return{name:Oe(e,t.key),fields:t.sn().mapValue.fields,updateTime:we(e,t.version.X())}}(e.Do,t),a=t.hasCommittedMutations;return new ja(null,null,o,a,r,i)}if(t instanceof No){var s=t.key.path.A(),c=rn(t.version),l=t.hasCommittedMutations;return new ja(null,new Da(s,c),null,l,r,i)}if(t instanceof xo){var h=t.key.path.A(),f=rn(t.version);return new ja(new Ma(h,f),null,null,!0,r,i)}return u()}function tn(e){var t=e.X();return[t.seconds,t.nanoseconds]}function nn(e){var t=new Di(e[0],e[1]);return Mi.Y(t)}function rn(e){var t=e.X();return new Na(t.seconds,t.nanoseconds)}function on(e){var t=new Di(e.seconds,e.nanoseconds);return Mi.Y(t)}function an(e,t){var n=(t.baseMutations||[]).map(function(t){return De(e.Do,t)}),r=t.mutations.map(function(t){return De(e.Do,t)}),i=Di.fromMillis(t.localWriteTimeMs);return new fa(t.batchId,i,n,r)}function sn(e){var t,n,r=on(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?on(e.lastLimboFreeSnapshotVersion):Mi.min();return void 0!==e.query.documents?(c(1===(n=e.query).documents.length),t=_t(ft(Ne(n.documents[0])))):t=function(e){var t=Ne(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){c(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=function e(t){return t?void 0!==t.unaryFilter?[ze(t)]:void 0!==t.fieldFilter?[We(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e(t)}).reduce(function(e,t){return e.concat(t)}):u():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(e){return function(e){return new Bo(He(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}));var l=null;n.limit&&(l=function(e){var t;return F(t="object"==typeof e?e.value:e)?null:t}(n.limit));var h=null;n.startAt&&(h=Fe(n.startAt));var f=null;return n.endAt&&(f=Fe(n.endAt)),_t(ht(t,i,s,a,l,"F",h,f))}(e.query),new Ui(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Oi.fromBase64String(e.resumeToken))}function un(e,t){var n,r=rn(t.et),i=rn(t.lastLimboFreeSnapshotVersion);n=z(t.target)?Me(e.Do,t.target):je(e.Do,t.target);var o=t.resumeToken.toBase64();return new Fa(t.targetId,H(t.target),r,o,t.sequenceNumber,i,n)}function cn(e,t,n){var r=La.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return fn(e).ss({range:o,ns:!0},function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()}).next(function(){return a})}function ln(e,t,n){var r=e.store(Ra.store),i=e.store(La.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.ss({range:a},function(e,t,n){return s++,n.delete()});o.push(u.next(function(){c(1===s)}));for(var l=[],h=0,f=n.mutations;h<f.length;h++){var p=f[h],d=La.key(t,p.key.path,n.batchId);o.push(i.delete(d)),l.push(p.key)}return zo.xn(o).next(function(){return l})}function hn(e){return Xa.Un(e,Ra.store)}function fn(e){return Xa.Un(e,La.store)}function pn(e){return Xa.Un(e,Pa.store)}function dn(e){return Xa.Un(e,Ua.store)}function mn(e){return Xa.Un(e,ja.store)}function vn(e){return e.path.A()}function gn(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw u();t=e.noDocument}return JSON.stringify(t).length}function yn(e){e.createObjectStore(qa.store,{keyPath:qa.keyPath}).createIndex(qa.documentTargetsIndex,qa.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Fa.store,{keyPath:Fa.keyPath}).createIndex(Fa.queryTargetsIndexName,Fa.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Va.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function _n(e){return Xa.Un(e,Ba.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function bn(e){return Xa.Un(e,Fa.store)}function wn(e){return Xa.Un(e,Va.store)}function En(e){return Xa.Un(e,qa.store)}function Tn(e){return Xa.Un(e,xa.store)}function Sn(e){return Xa.Un(e,Ha.store)}function Cn(e,t){return En(e).put(function(e,t){return new qa(0,Yt(e.path),t)}(t,e.Ma))}function In(e,t){var n=e.projectId;return e.W||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}function On(e,t){var n=l(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r=t.batch.keys(),i=n.Fc.aa({ua:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=zo.resolve();return o.forEach(function(e){a=a.next(function(){return r.Ar(t,e)}).next(function(t){var o=t,a=n._r.get(e);c(null!==a),(!o||o.version.L(a)<0)&&(o=i.ar(e,o,n))&&r.Tr(o,n.lr)})}),a.next(function(){return e.vr.Qo(t,i)})}(n,e,t,i).next(function(){return i.apply(e)}).next(function(){return n.vr.Go(e)}).next(function(){return n.xc.$r(e,r)})})}function An(e){var t=l(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.Ha.Ra(e)})}function kn(e,t){var n=l(e),r=t.et,o=n.Dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var a=n.Fc.aa({ua:!0});o=n.Dc;var s=[];t.Gt.forEach(function(t,i){var a=o.get(i);if(a){s.push(n.Ha.xa(e,t.ne,i).next(function(){return n.Ha.Na(e,t.te,i)}));var u=t.resumeToken;if(u.O()>0){var l=a.st(u,r).nt(e.Ma);o=o.rt(i,l),function(e,t,n){return c(t.resumeToken.O()>0),0===e.resumeToken.O()||t.et.J()-e.et.J()>=3e8||n.te.size+n.ee.size+n.ne.size>0}(a,l,t)&&s.push(n.Ha.ba(e,l))}}});var u=Q(),l=J();if(t.Ht.forEach(function(e,t){l=l.add(e)}),s.push(a.getEntries(e,l).next(function(o){t.Ht.forEach(function(c,l){var h=o.get(c);l instanceof No&&l.version.isEqual(Mi.min())?(a.Ir(c,r),u=u.rt(c,l)):null==h||l.version.L(h.version)>0||0===l.version.L(h.version)&&h.hasPendingWrites?(a.Tr(l,r),u=u.rt(c,l)):i("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",l.version),t.Yt.has(c)&&s.push(n.persistence.Co.vc(e,c))})})),!r.isEqual(Mi.min())){var h=n.Ha.Ra(e).next(function(t){return n.Ha.ga(e,e.Ma,r)});s.push(h)}return zo.xn(s).next(function(){return a.apply(e)}).next(function(){return n.xc.kr(e,u)})}).then(function(e){return n.Dc=o,e})}function Nn(e,t){var n=l(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=-1),n.vr.Lo(e,t)})}function xn(e,t){var n=l(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.Ha.Ca(e,t).next(function(i){return i?(r=i,zo.resolve(r)):n.Ha.Ea(e).next(function(i){return r=new Ui(t,i,0,e.Ma),n.Ha.ya(e,r).next(function(){return r})})})}).then(function(e){var r=n.Dc.get(e.targetId);return(null===r||e.et.L(r.et)>0)&&(n.Dc=n.Dc.rt(e.targetId,e),n.Cc.set(t,e.targetId)),e})}function Pn(e,t,n){return hi.__awaiter(this,void 0,void 0,function(){var r,o,a,s;return hi.__generator(this,function(u){switch(u.label){case 0:r=l(e),o=r.Dc.get(t),a=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",a,function(e){return r.persistence.Co.removeTarget(e,o)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Lt(s=u.sent()))throw s;return i("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.Dc=r.Dc.remove(t),r.Cc.delete(o.target),[2]}})})}function Rn(e,t,n){var r=l(e),i=Mi.min(),o=J();return r.persistence.runTransaction("Execute query","readonly",function(e){return function(e,t,n){var r=l(e),i=r.Cc.get(n);return void 0!==i?zo.resolve(r.Dc.get(i)):r.Ha.Ca(t,n)}(r,e,_t(t)).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ha.ka(e,t.targetId).next(function(e){o=e})}).next(function(){return r.Sc.Or(e,t,n?i:Mi.min(),n?o:J())}).next(function(e){return{documents:e,kc:o}})})}function Ln(e,t){var n=l(e),r=l(n.Ha),i=n.Dc.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(e){return r.qe(e,t).next(function(e){return e?e.target:null})})}function Dn(e){return hi.__awaiter(this,void 0,void 0,function(){return hi.__generator(this,function(t){if(e.code!==yi.FAILED_PRECONDITION||e.message!==ma)throw e;return i("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Mn(e){return hi.__awaiter(this,void 0,void 0,function(){var t,n;return hi.__generator(this,function(r){switch(r.label){case 0:if(!zn(e))return[3,4];t=0,n=e.th,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function jn(e){return hi.__awaiter(this,void 0,void 0,function(){var t,n;return hi.__generator(this,function(r){switch(r.label){case 0:t=0,n=e.th,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Un(e){return hi.__awaiter(this,void 0,void 0,function(){var t;return hi.__generator(this,function(n){switch(n.label){case 0:return t=l(e),i("RemoteStore","RemoteStore shutting down."),t.Zu.add(5),[4,jn(t)];case 1:return n.sent(),t.eh.Si(),t.sh.set("Unknown"),[2]}})})}function Fn(e,t){var n=l(e);n.Xu.has(t.targetId)||(n.Xu.set(t.targetId,t),Wn(n)?Hn(n):ar(n)._u()&&Vn(n,t))}function qn(e,t){var n=l(e),r=ar(n);n.Xu.delete(t),r._u()&&Bn(n,t),0===n.Xu.size&&(r._u()?r.wu():zn(n)&&n.sh.set("Unknown"))}function Vn(e,t){e.ih.Ee(t.targetId),ar(e).vu(t)}function Bn(e,t){e.ih.Ee(t),ar(e).Su(t)}function Hn(e){e.ih=new oo({Be:function(t){return e.Yu.Be(t)},qe:function(t){return e.Xu.get(t)||null}}),ar(e).start(),e.sh.Qu()}function Wn(e){return zn(e)&&!ar(e).lu()&&e.Xu.size>0}function zn(e){return 0===l(e).Zu.size}function Gn(e){e.ih=void 0}function Kn(e){return hi.__awaiter(this,void 0,void 0,function(){return hi.__generator(this,function(t){return e.Xu.forEach(function(t,n){Vn(e,t)}),[2]})})}function Qn(e,t){return hi.__awaiter(this,void 0,void 0,function(){return hi.__generator(this,function(n){return Gn(e),Wn(e)?(e.sh.Ku(t),Hn(e)):e.sh.set("Unknown"),[2]})})}function Yn(e,t,n){return hi.__awaiter(this,void 0,void 0,function(){var r,o,a;return hi.__generator(this,function(s){switch(s.label){case 0:if(e.sh.set("Online"),!(t instanceof ro&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n,r,i,o;return hi.__generator(this,function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Xu.has(o)?[4,e.Yu.rh(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Xu.delete(o),e.ih.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),i("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Xn(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof to?e.ih.pe(t):t instanceof no?e.ih.xe(t):e.ih.Se(t),n.isEqual(Mi.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,An(e.zu)];case 8:return o=s.sent(),n.L(o)>=0?[4,function(e,t){var n=e.ih.Me(t);return n.Gt.forEach(function(n,r){if(n.resumeToken.O()>0){var i=e.Xu.get(r);i&&e.Xu.set(r,i.st(n.resumeToken,t))}}),n.zt.forEach(function(t){var n=e.Xu.get(t);if(n){e.Xu.set(t,n.st(Oi.B,n.et)),Bn(e,t);var r=new Ui(n.target,t,1,n.sequenceNumber);Vn(e,r)}}),e.Yu.oh(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return i("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,Xn(e,a)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Xn(e,t,n){return hi.__awaiter(this,void 0,void 0,function(){var r=this;return hi.__generator(this,function(o){switch(o.label){case 0:if(!Lt(t))throw t;return e.Zu.add(1),[4,jn(e)];case 1:return o.sent(),e.sh.set("Offline"),n||(n=function(){return An(e.zu)}),e.os.Ds(function(){return hi.__awaiter(r,void 0,void 0,function(){return hi.__generator(this,function(t){switch(t.label){case 0:return i("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Zu.delete(1),[4,Mn(e)];case 2:return t.sent(),[2]}})})}),[2]}})})}function Jn(e,t){return t().catch(function(n){return Xn(e,n,t)})}function $n(e){return hi.__awaiter(this,void 0,void 0,function(){var t,n,r,i,o;return hi.__generator(this,function(a){switch(a.label){case 0:t=l(e),n=sr(t),r=t.Ju.length>0?t.Ju[t.Ju.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return zn(e)&&e.Ju.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Nn(t.zu,r)];case 3:return null===(i=a.sent())?(0===t.Ju.length&&n.wu(),[3,7]):(r=i.batchId,function(e,t){e.Ju.push(t);var n=sr(e);n._u()&&n.Cu&&n.Nu(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Xn(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Zn(t)&&er(t),[2]}})})}function Zn(e){return zn(e)&&!sr(e).lu()&&e.Ju.length>0}function er(e){sr(e).start()}function tr(e){return hi.__awaiter(this,void 0,void 0,function(){return hi.__generator(this,function(t){return sr(e).$u(),[2]})})}function nr(e){return hi.__awaiter(this,void 0,void 0,function(){var t,n,r,i;return hi.__generator(this,function(o){for(t=sr(e),n=0,r=e.Ju;n<r.length;n++)i=r[n],t.Nu(i.mutations);return[2]})})}function rr(e,t,n){return hi.__awaiter(this,void 0,void 0,function(){var r,i;return hi.__generator(this,function(o){switch(o.label){case 0:return r=e.Ju.shift(),i=pa.from(r,t,n),[4,Jn(e,function(){return e.Yu.ah(i)})];case 1:return o.sent(),[4,$n(e)];case 2:return o.sent(),[2]}})})}function ir(e,t){return hi.__awaiter(this,void 0,void 0,function(){return hi.__generator(this,function(n){switch(n.label){case 0:return t&&sr(e).Cu?[4,function(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n,r;return hi.__generator(this,function(i){switch(i.label){case 0:return G(r=t.code)&&r!==yi.ABORTED?(n=e.Ju.shift(),sr(e).du(),[4,Jn(e,function(){return e.Yu.uh(n.batchId,t)})]):[3,3];case 1:return i.sent(),[4,$n(e)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Zn(e)&&er(e),[2]}})})}function or(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n,r;return hi.__generator(this,function(i){switch(i.label){case 0:return n=l(e),t?(n.Zu.delete(2),[4,Mn(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return(r=t)?[3,4]:(n.Zu.add(2),[4,jn(n)]);case 3:i.sent(),r=n.sh.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function ar(e){var t=this;return e.hh||(e.hh=function(e,t,n){var r=l(e);return r.Mu(),new ss(t,r.au,r.credentials,r.serializer,n)}(e.Hu,e.os,{Vu:Kn.bind(null,e),Au:Qn.bind(null,e),bu:Yn.bind(null,e)}),e.th.push(function(n){return hi.__awaiter(t,void 0,void 0,function(){return hi.__generator(this,function(t){switch(t.label){case 0:return n?(e.hh.du(),Wn(e)?Hn(e):e.sh.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.hh.stop()];case 2:t.sent(),Gn(e),t.label=3;case 3:return[2]}})})})),e.hh}function sr(e){var t=this;return e.lh||(e.lh=function(e,t,n){var r=l(e);return r.Mu(),new us(t,r.au,r.credentials,r.serializer,n)}(e.Hu,e.os,{Vu:tr.bind(null,e),Au:ir.bind(null,e),xu:nr.bind(null,e),Fu:rr.bind(null,e)}),e.th.push(function(n){return hi.__awaiter(t,void 0,void 0,function(){return hi.__generator(this,function(t){switch(t.label){case 0:return n?(e.lh.du(),[4,$n(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.lh.stop()];case 3:t.sent(),e.Ju.length>0&&(i("RemoteStore","Stopping write stream with "+e.Ju.length+" pending writes"),e.Ju=[]),t.label=4;case 4:return[2]}})})})),e.lh}function ur(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,s;return hi.__generator(this,function(u){switch(u.label){case 0:return n=Lr(e),(o=n.$h.get(t))?(r=o.targetId,n.Nh.Mi(r),i=o.view.bh(),[3,4]):[3,1];case 1:return[4,xn(n.zu,_t(t))];case 2:return a=u.sent(),s=n.Nh.Mi(a.targetId),r=a.targetId,[4,cr(n,t,r,"current"===s)];case 3:i=u.sent(),n.jh&&Fn(n.Dh,a),u.label=4;case 4:return[2,i]}})})}function cr(e,t,n,r){return hi.__awaiter(this,void 0,void 0,function(){var i,o,a,s,u,c;return hi.__generator(this,function(l){switch(l.label){case 0:return e.Kh=function(t,n,r){return function(e,t,n,r){return hi.__awaiter(this,void 0,void 0,function(){var i,o,a;return hi.__generator(this,function(s){switch(s.label){case 0:return i=t.view.Eh(n),i.Rh?[4,Rn(e.zu,t.query,!1).then(function(e){var n=e.documents;return t.view.Eh(n,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.Gt.get(t.targetId),a=t.view.gr(i,e.jh,o),[2,(br(e,t.targetId,a.yh),a.snapshot)]}})})}(e,t,n,r)},[4,Rn(e.zu,t,!0)];case 1:return i=l.sent(),o=new ds(t,i.kc),a=o.Eh(i.documents),s=eo.Xt(n,r&&"Offline"!==e.onlineState),u=o.gr(a,e.jh,s),br(e,n,u.yh),c=new ms(t,n,o),[2,(e.$h.set(t,c),e.kh.has(n)?e.kh.get(n).push(t):e.kh.set(n,[t]),u.snapshot)]}})})}function lr(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n,r,i;return hi.__generator(this,function(o){switch(o.label){case 0:return n=l(e),r=n.$h.get(t),(i=n.kh.get(r.targetId)).length>1?[2,(n.kh.set(r.targetId,i.filter(function(e){return!Tt(e,t)})),void n.$h.delete(t))]:n.jh?(n.Nh.Li(r.targetId),n.Nh.Ni(r.targetId)?[3,2]:[4,Pn(n.zu,r.targetId,!1).then(function(){n.Nh.qi(r.targetId),qn(n.Dh,r.targetId),yr(n,r.targetId)}).catch(Dn)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return yr(n,r.targetId),[4,Pn(n.zu,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function hr(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n,r;return hi.__generator(this,function(i){switch(i.label){case 0:n=l(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,kn(n.zu,t)];case 2:return r=i.sent(),t.Gt.forEach(function(e,t){var r=n.Lh.get(t);r&&(c(e.te.size+e.ee.size+e.ne.size<=1),e.te.size>0?r.Sh=!0:e.ee.size>0?c(r.Sh):e.ne.size>0&&(c(r.Sh),r.Sh=!1))}),[4,Tr(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Dn(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function fr(e,t,n){var r=l(e);if(r.jh&&0===n||!r.jh&&1===n){var i=[];r.$h.forEach(function(e,n){var r=n.view.Us(t);r.snapshot&&i.push(r.snapshot)}),function(e,t){var n=l(e);n.onlineState=t;var r=!1;n.Ls.forEach(function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Us(t)&&(r=!0)}),r&&Wt(n)}(r.Ch,t),i.length&&r.xh.bu(i),r.onlineState=t,r.jh&&r.Nh.ji(t)}}function pr(e,t,n){return hi.__awaiter(this,void 0,void 0,function(){var r,i,o,a,s,u;return hi.__generator(this,function(c){switch(c.label){case 0:return(r=l(e)).Nh.Ui(t,"rejected",n),i=r.Lh.get(t),(o=i&&i.key)?(a=(a=new qi(Ci.i)).rt(o,new No(o,Mi.min())),s=J().add(o),u=new Zi(Mi.min(),new Map,new Hi(L),a,s),[4,hr(r,u)]):[3,2];case 1:return c.sent(),r.Oh=r.Oh.remove(o),r.Lh.delete(t),Er(r),[3,4];case 2:return[4,Pn(r.zu,t,!1).then(function(){return yr(r,t,n)}).catch(Dn)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function dr(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n,r,i;return hi.__generator(this,function(o){switch(o.label){case 0:n=l(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,On(n.zu,t)];case 2:return i=o.sent(),gr(n,r,null),vr(n,r),n.Nh.$i(r,"acknowledged"),[4,Tr(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Dn(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function mr(e,t,n){return hi.__awaiter(this,void 0,void 0,function(){var r,i;return hi.__generator(this,function(o){switch(o.label){case 0:r=l(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=l(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n.vr.Mo(e,t).next(function(t){return c(null!==t),r=t.keys(),n.vr.Qo(e,t)}).next(function(){return n.vr.Go(e)}).next(function(){return n.xc.$r(e,r)})})}(r.zu,t)];case 2:return i=o.sent(),gr(r,t,n),vr(r,t),r.Nh.$i(t,"rejected",n),[4,Tr(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Dn(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function vr(e,t){(e.Uh.get(t)||[]).forEach(function(e){e.resolve()}),e.Uh.delete(t)}function gr(e,t,n){var r=l(e),i=r.qh[r.currentUser.Zs()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.qh[r.currentUser.Zs()]=i}}function yr(e,t,n){void 0===n&&(n=null),e.Nh.Li(t);for(var r=0,i=e.kh.get(t);r<i.length;r++){var o=i[r];e.$h.delete(o),n&&e.xh.Gh(o,n)}e.kh.delete(t),e.jh&&e.Bh.Wc(t).forEach(function(t){e.Bh.zo(t)||_r(e,t)})}function _r(e,t){var n=e.Oh.get(t);null!==n&&(qn(e.Dh,n),e.Oh=e.Oh.remove(t),e.Lh.delete(n),Er(e))}function br(e,t,n){for(var r=0,o=n;r<o.length;r++){var a=o[r];a instanceof fs?(e.Bh.Fa(a.key,t),wr(e,a)):a instanceof ps?(i("SyncEngine","Document no longer in limbo: "+a.key),e.Bh.$a(a.key,t),e.Bh.zo(a.key)||_r(e,a.key)):u()}}function wr(e,t){var n=t.key;e.Oh.get(n)||(i("SyncEngine","New document in limbo: "+n),e.Mh.push(n),Er(e))}function Er(e){for(;e.Mh.length>0&&e.Oh.size<e.Fh;){var t=e.Mh.shift(),n=e.Qh.next();e.Lh.set(n,new vs(t)),e.Oh=e.Oh.rt(t,n),Fn(e.Dh,new Ui(_t(ft(t.path)),n,2,ia.oi))}}function Tr(e,t,n){return hi.__awaiter(this,void 0,void 0,function(){var r,o,a,s;return hi.__generator(this,function(u){switch(u.label){case 0:return r=l(e),o=[],a=[],s=[],r.$h.m()?[3,3]:(r.$h.forEach(function(e,i){s.push(r.Kh(i,t,n).then(function(e){if(e){r.jh&&r.Nh.Ui(i.targetId,e.fromCache?"not-current":"current"),o.push(e);var t=ya.Gr(i.targetId,e);a.push(t)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.xh.bu(o),[4,function(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n,r,o,a,s,u,c,h,f;return hi.__generator(this,function(p){switch(p.label){case 0:n=l(e),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return zo.forEach(t,function(t){return zo.forEach(t.jr,function(r){return n.persistence.Co.Fa(e,t.targetId,r)}).next(function(){return zo.forEach(t.Kr,function(r){return n.persistence.Co.$a(e,t.targetId,r)})})})})];case 2:return p.sent(),[3,4];case 3:if(!Lt(r=p.sent()))throw r;return i("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(o=0,a=t;o<a.length;o++)s=a[o],u=s.targetId,s.fromCache||(c=n.Dc.get(u),h=c.et,f=c.it(h),n.Dc=n.Dc.rt(u,f));return[2]}})})}(r.zu,a)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Sr(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n,r;return hi.__generator(this,function(o){switch(o.label){case 0:return(n=l(e)).currentUser.isEqual(t)?[3,3]:(i("SyncEngine","User change. New user:",t.Zs()),[4,function(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n,r,i,o;return hi.__generator(this,function(a){switch(a.label){case 0:return n=l(e),r=n.vr,i=n.xc,[4,n.persistence.runTransaction("Handle user change","readonly",function(e){var o;return n.vr.qo(e).next(function(a){return o=a,r=n.persistence.Ic(t),i=new ga(n.Fc,r,n.persistence.Pc()),r.qo(e)}).next(function(t){for(var n=[],r=[],a=J(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=t;p<d.length;p++){var m=d[p];r.push(m.batchId);for(var v=0,g=m.mutations;v<g.length;v++){var y=g[v];a=a.add(y.key)}}return i.$r(e,a).next(function(e){return{zh:e,Hh:n,Yh:r}})})})];case 1:return o=a.sent(),[2,(n.vr=r,n.xc=i,n.Sc.$c(n.xc),o)]}})})}(n.zu,t)]);case 1:return r=o.sent(),n.currentUser=t,function(e,t){e.Uh.forEach(function(e){e.forEach(function(e){e.reject(new _i(yi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Uh.clear()}(n),n.Nh.Wi(t,r.Hh,r.Yh),[4,Tr(n,r.zh)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function Cr(e,t){var n=l(e),r=n.Lh.get(t);if(r&&r.Sh)return J().add(r.key);var i=J(),o=n.kh.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.$h.get(u);i=i.$t(c.view.Th)}return i}function Ir(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n,r,i;return hi.__generator(this,function(o){switch(o.label){case 0:return[4,Rn((n=l(e)).zu,t.query,!0)];case 1:return r=o.sent(),i=t.view.ph(r),[2,(n.jh&&br(n,t.targetId,i.yh),i)]}})})}function Or(e,t,n,r){return hi.__awaiter(this,void 0,void 0,function(){var o,a;return hi.__generator(this,function(s){switch(s.label){case 0:return[4,function(e,t){var n=l(e),r=l(n.vr);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return r.Oo(e,t).next(function(t){return t?n.xc.$r(e,t):zo.resolve(null)})})}((o=l(e)).zu,t)];case 1:return null===(a=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,$n(o.Dh)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(gr(o,t,r||null),function(e,t){l(l(e).vr).jo(t)}(o.zu,t)):u(),s.label=4;case 4:return[4,Tr(o,a)];case 5:return s.sent(),[3,7];case 6:i("SyncEngine","Cannot apply mutation batch with id: "+t),s.label=7;case 7:return[2]}})})}function Ar(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return hi.__generator(this,function(h){switch(h.label){case 0:return Lr(n=l(e)),Dr(n),!0!==t||!0===n.Wh?[3,3]:(r=n.Nh.Di(),[4,kr(n,r.A())]);case 1:return i=h.sent(),n.Wh=!0,[4,or(n.Dh,!0)];case 2:for(h.sent(),o=0,a=i;o<a.length;o++)s=a[o],Fn(n.Dh,s);return[3,7];case 3:return!1!==t||!1===n.Wh?[3,7]:(u=[],c=Promise.resolve(),n.kh.forEach(function(e,t){n.Nh.Bi(t)?u.push(t):c=c.then(function(){return yr(n,t),Pn(n.zu,t,!0)}),qn(n.Dh,t)}),[4,c]);case 4:return h.sent(),[4,kr(n,u)];case 5:return h.sent(),function(e){var t=l(e);t.Lh.forEach(function(e,n){qn(t.Dh,n)}),t.Bh.jc(),t.Lh=new Map,t.Oh=new qi(Ci.i)}(n),n.Wh=!1,[4,or(n.Dh,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}})})}function kr(e,t,n){return hi.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,h,f,p,d,m,v;return hi.__generator(this,function(g){switch(g.label){case 0:n=l(e),r=[],i=[],o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.kh.get(s))&&0!==c.length?[4,xn(n.zu,_t(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),h=0,f=c,g.label=3;case 3:return h<f.length?(p=f[h],d=n.$h.get(p),[4,Ir(n,d)]):[3,6];case 4:(m=g.sent()).snapshot&&i.push(m.snapshot),g.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Ln(n.zu,s)];case 8:return v=g.sent(),[4,xn(n.zu,v)];case 9:return u=g.sent(),[4,cr(n,Nr(v),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xh.bu(i),r)]}})})}function Nr(e){return ht(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function xr(e){return l(l(l(e).zu).persistence).Vi()}function Pr(e,t,n,r){return hi.__awaiter(this,void 0,void 0,function(){var o,a,s;return hi.__generator(this,function(c){switch(c.label){case 0:return(o=l(e)).Wh?(i("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.kh.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,function(e){var t=l(e),n=l(t.Fc);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return n.ia(e,t.Nc)}).then(function(e){var n=e.ra,r=e.readTime;return t.Nc=r,n})}(o.zu)];case 3:return a=c.sent(),s=Zi.Jt(t,"current"===n),[4,Tr(o,a,s)];case 4:return c.sent(),[3,8];case 5:return[4,Pn(o.zu,t,!0)];case 6:return c.sent(),yr(o,t,r),[3,8];case 7:u(),c.label=8;case 8:return[2]}})})}function Rr(e,t,n){return hi.__awaiter(this,void 0,void 0,function(){var r,o,a,s,u,c,l,h,f,p;return hi.__generator(this,function(d){switch(d.label){case 0:if(!(r=Lr(e)).Wh)return[3,10];o=0,a=t,d.label=1;case 1:return o<a.length?(s=a[o],r.kh.has(s)?(i("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ln(r.zu,s)]):[3,6];case 2:return u=d.sent(),[4,xn(r.zu,u)];case 3:return c=d.sent(),[4,cr(r,Nr(u),c.targetId,!1)];case 4:d.sent(),Fn(r.Dh,c),d.label=5;case 5:return o++,[3,1];case 6:l=function(e){return hi.__generator(this,function(t){switch(t.label){case 0:return r.kh.has(e)?[4,Pn(r.zu,e,!1).then(function(){qn(r.Dh,e),yr(r,e)}).catch(Dn)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},h=0,f=n,d.label=7;case 7:return h<f.length?(p=f[h],[5,l(p)]):[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}})})}function Lr(e){var t=l(e);return t.Dh.Yu.oh=hr.bind(null,t),t.Dh.Yu.Be=Cr.bind(null,t),t.Dh.Yu.rh=pr.bind(null,t),t.xh.bu=Bt.bind(null,t.Ch),t.xh.Gh=Ht.bind(null,t.Ch),t}function Dr(e){var t=l(e);return t.Dh.Yu.ah=dr.bind(null,t),t.Dh.Yu.uh=mr.bind(null,t),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Mr(e){return new co(e,!0)}function jr(e,t,n){return new Js({a_:3,u_:t.settings.u_,methodName:e.r_,h_:n},t.U,t.serializer,t.ignoreUndefinedProperties)}function Ur(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw u()}}function Fr(e,t,n,r,i,o){void 0===o&&(o={});var a=e.p_(o.merge||o.mergeFields?2:0,t,n,i);Gr("Data must be an object, but it was:",a,r);var s,c,l=Wr(r,a);if(o.merge)s=new vo(a.Qe),c=a.fieldTransforms;else if(o.mergeFields){for(var h=[],f=0,p=o.mergeFields;f<p.length;f++){var d=p[f],m=void 0;if(d instanceof Ds)m=d.s_;else{if("string"!=typeof d)throw u();m=Qr(t,d,n)}if(!a.contains(m))throw new _i(yi.INVALID_ARGUMENT,"Field '"+m+"' is specified in your field mask but missing from your input data.");Xr(h,m)||h.push(m)}s=new vo(h),c=a.fieldTransforms.filter(function(e){return s.He(e.field)})}else s=null,c=a.fieldTransforms;return new Ys(new Io(l),s,c)}function qr(e,t,n,r){var i=e.p_(1,t,n);Gr("Data must be an object, but it was:",i,r);var o=[],a=new Oo;f(r,function(e,r){var s=Qr(t,e,n),u=i.g_(s);if(r instanceof Us&&r.i_ instanceof Fs)o.push(s);else{var c=Hr(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new vo(o);return new Xs(a.Je(),s,i.fieldTransforms)}function Vr(e,t,n,r,i,o){var a=e.p_(1,t,n),s=[Kr(t,r,n)],u=[i];if(o.length%2!=0)throw new _i(yi.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Kr(t,o[c])),u.push(o[c+1]);for(var l=[],h=new Oo,f=s.length-1;f>=0;--f)if(!Xr(l,s[f])){var p=s[f],d=u[f],m=a.g_(p);if(d instanceof Us&&d.i_ instanceof Fs)l.push(p);else{var v=Hr(d,m);null!=v&&(l.push(p),h.set(p,v))}}var g=new vo(l);return new Xs(h.Je(),g,a.fieldTransforms)}function Br(e,t,n,r){return void 0===r&&(r=!1),Hr(n,e.p_(r?4:3,t))}function Hr(e,t){if(zr(e))return Gr("Unsupported field value:",t,e),Wr(e,t);if(e instanceof Us)return function(e,t){if(!Ur(t.a_))throw t.c_(e.r_+"() can only be used with update() and set()");if(!t.path)throw t.c_(e.r_+"() is not currently supported inside arrays");var n=e.o_(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(t.path&&t.Qe.push(t.path),e instanceof Array){if(t.settings.h_&&4!==t.a_)throw t.c_("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Hr(o[i],t.y_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return be(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Di.fromDate(e);return{timestampValue:we(t.serializer,n)}}if(e instanceof Di){var r=new Di(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:we(t.serializer,r)}}if(e instanceof Gs)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ni)return{bytesValue:Ee(t.serializer,e.q)};if(e instanceof Qs){var i=t.U,o=e.w_;if(!o.isEqual(i))throw t.c_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Ce(e.w_||t.U,e.m_.path)}}if(void 0===e&&t.ignoreUndefinedProperties)return null;throw t.c_("Unsupported field value: "+I(e))}(e,t)}function Wr(e,t){var n={};return p(e)?t.path&&t.path.length>0&&t.Qe.push(t.path):f(e,function(e,r){var i=Hr(r,t.R_(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function zr(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Di||e instanceof Gs||e instanceof Ni||e instanceof Qs||e instanceof Us)}function Gr(e,t,n){if(!zr(n)||!C(n)){var r=I(n);throw"an object"===r?t.c_(e+" a custom object"):t.c_(e+" "+r)}}function Kr(e,t,n){if(t instanceof Ds)return t.s_;if("string"==typeof t)return Qr(e,t);throw Yr("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}function Qr(e,t,n){try{return function(e){if(e.search(js)>=0)throw new _i(yi.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Ms.bind.apply(Ms,hi.__spreadArrays([void 0],e.split("."))))}catch(t){throw new _i(yi.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t).s_}catch(t){throw Yr((r=t)instanceof Error?r.message:r.toString(),e,!1,void 0,n)}var r}function Yr(e,t,n,r,i){var o=r&&!r.m(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new _i(yi.INVALID_ARGUMENT,(s+=". ")+e+u)}function Xr(e,t){return e.some(function(e){return e.isEqual(t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Jr(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $r(e,t,n,r,i,o,a){var s;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new _i(yi.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ti(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(ei(r,e,h))}s={arrayValue:{values:u}}}else s=ei(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ti(a,o),s=Br(n,t,a,"in"===o||"not-in"===o);var f=Ro.create(i,o,s);return function(e,t){if(t.un()){var n=vt(e);if(null!==n&&!n.isEqual(t.field))throw new _i(yi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=mt(e);null!==r&&ni(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new _i(yi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new _i(yi.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}function Zr(e,t,n){if(null!==e.startAt)throw new _i(yi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new _i(yi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Bo(t,n);return function(e,t){if(null===mt(e)){var n=vt(e);null!==n&&ni(e,n,t.field)}}(e,r),r}function ei(e,t,n){if("string"==typeof n){if(""===n)throw new _i(yi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!gt(t)&&-1!==n.indexOf("/"))throw new _i(yi.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Ei.P(n));if(!Ci.F(r))throw new _i(yi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return fe(e,new Ci(r))}if(n instanceof Qs)return fe(e,n.m_);throw new _i(yi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+I(n)+".")}function ti(e,t){if(!Array.isArray(e)||0===e.length)throw new _i(yi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new _i(yi.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===t||"array-contains-any"===t){if(e.indexOf(null)>=0)throw new _i(yi.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter(function(e){return Number.isNaN(e)}).length>0)throw new _i(yi.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")}}function ni(e,t,n){if(!n.isEqual(t))throw new _i(yi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ri(e){if(dt(e)&&0===e.rn.length)throw new _i(yi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function ii(e,t){if(void 0===t)return{merge:!1};if(A(e,t,["merge","mergeFields"]),w(e,"boolean","merge",t.merge),function(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new _i(yi.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+I(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new _i(yi.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+I(r[o]))}(e,"mergeFields",0,r,i)}(e,0,0,t.mergeFields,function(e){return"string"==typeof e||e instanceof Ms}),void 0!==t.mergeFields&&void 0!==t.merge)throw new _i(yi.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function oi(e,t){return void 0===t?{}:(A(e,t,["serverTimestamps"]),E(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function ai(e,t){_(e,"object",1,t),t&&(A(e,t,["source"]),E(e,0,"source",t.source,["default","server","cache"]))}function si(e,t,n){if(t instanceof Qs){if(t.firestore!==n)throw new _i(yi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw k(e,"DocumentReference",1,t)}function ui(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return u()}}function ci(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function li(e){!function(e,t){e.INTERNAL.registerComponent(new vi.Component("firestore",function(e){return function(e,t){var n=new Rs,r=new Ps(n);return new ou(e,t,r,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},mu)))}(e),e.registerVersion("@firebase/firestore","1.17.0")}Object.defineProperty(t,"__esModule",{value:!0});var hi=n(23),fi=n(28),pi=n(57),di=n(38),mi=n(427),vi=n(35),gi=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(fi),yi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_i=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return hi.__extends(t,e),t}(Error),bi=new pi.Logger("@firebase/firestore"),wi=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&u(),void 0===n?n=e.length-t:n>e.length-t&&u(),this.segments=e,this.offset=t,this.t=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.i(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.o(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.u=function(e){return e=void 0===e?1:e,this.o(this.segments,this.offset+e,this.length-e)},e.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},e.prototype.l=function(){return this.segments[this.offset]},e.prototype._=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.m=function(){return 0===this.length},e.prototype.T=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.I=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},e.i=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Ei=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hi.__extends(t,e),t.prototype.o=function(e,n,r){return new t(e,n,r)},t.prototype.R=function(){return this.A().join("/")},t.prototype.toString=function(){return this.R()},t.P=function(e){if(e.indexOf("//")>=0)throw new _i(yi.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter(function(e){return e.length>0}))},t.g=function(){return new t([])},t}(wi),Ti=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Si=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hi.__extends(t,e),t.prototype.o=function(e,n,r){return new t(e,n,r)},t.V=function(e){return Ti.test(e)},t.prototype.R=function(){return this.A().map(function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.V(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.R()},t.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},t.v=function(){return new t(["__name__"])},t.S=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new _i(yi.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new _i(yi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new _i(yi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new _i(yi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.g=function(){return new t([])},t}(wi),Ci=function(){function e(e){this.path=e}return e.D=function(t){return new e(Ei.P(t))},e.C=function(t){return new e(Ei.P(t).u(5))},e.prototype.N=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Ei.i(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.i=function(e,t){return Ei.i(e.path,t.path)},e.F=function(e){return e.length%2==0},e.$=function(t){return new e(new Ei(t.slice()))},e}(),Ii=function(){function e(){}return e.k=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=R(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}(),Oi=function(){function e(e){this.M=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.M,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.M)},e.prototype.O=function(){return 2*this.M.length},e.prototype.L=function(e){return L(this.M,e.M)},e.prototype.isEqual=function(e){return this.M===e.M},e}();Oi.B=new Oi("");var Ai,ki,Ni=function(){function e(e){this.q=e}return e.fromBase64String=function(t){try{return new e(Oi.fromBase64String(t))}catch(t){throw new _i(yi.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Oi.fromUint8Array(t))},e.prototype.toBase64=function(){return this.q.toBase64()},e.prototype.toUint8Array=function(){return this.q.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this.q.isEqual(e.q)},e}(),xi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hi.__extends(t,e),t.fromBase64String=function(e){m("Blob.fromBase64String",arguments,1),y("Blob.fromBase64String","string",1,e),U();try{return new t(Oi.fromBase64String(e))}catch(e){throw new _i(yi.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(m("Blob.fromUint8Array",arguments,1),j(),!(e instanceof Uint8Array))throw k("Blob.fromUint8Array","Uint8Array",1,e);return new t(Oi.fromUint8Array(e))},t.prototype.toBase64=function(){return m("Blob.toBase64",arguments,0),U(),e.prototype.toBase64.call(this)},t.prototype.toUint8Array=function(){return m("Blob.toUint8Array",arguments,0),j(),e.prototype.toUint8Array.call(this)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(Ni),Pi=function(e,t,n,r,i){this.U=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i},Ri=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"W",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.L=function(e){return L(this.projectId,e.projectId)||L(this.database,e.database)},e}(),Li=function(){function e(e,t){this.j=e,this.K=t,this.G={}}return e.prototype.get=function(e){var t=this.j(e),n=this.G[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.K(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.j(e),r=this.G[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.K(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.G[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.j(e),n=this.G[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.K(n[r][0],e))return 1===n.length?delete this.G[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){f(this.G,function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}})},e.prototype.m=function(){return p(this.G)},e}(),Di=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _i(yi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _i(yi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _i(yi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _i(yi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype.H=function(e){return this.seconds===e.seconds?L(this.nanoseconds,e.nanoseconds):L(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Mi=function(){function e(e){this.timestamp=e}return e.Y=function(t){return new e(t)},e.min=function(){return new e(new Di(0,0))},e.prototype.L=function(e){return this.timestamp.H(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.J=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.X=function(){return this.timestamp},e}(),ji=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Z=null},Ui=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Mi.min()),void 0===o&&(o=Mi.min()),void 0===a&&(a=Oi.B),this.target=e,this.targetId=t,this.tt=n,this.sequenceNumber=r,this.et=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.nt=function(t){return new e(this.target,this.targetId,this.tt,t,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.st=function(t,n){return new e(this.target,this.targetId,this.tt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.it=function(t){return new e(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,t,this.resumeToken)},e}(),Fi=function(e){this.count=e};(ki=Ai||(Ai={}))[ki.OK=0]="OK",ki[ki.CANCELLED=1]="CANCELLED",ki[ki.UNKNOWN=2]="UNKNOWN",ki[ki.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ki[ki.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ki[ki.NOT_FOUND=5]="NOT_FOUND",ki[ki.ALREADY_EXISTS=6]="ALREADY_EXISTS",ki[ki.PERMISSION_DENIED=7]="PERMISSION_DENIED",ki[ki.UNAUTHENTICATED=16]="UNAUTHENTICATED",ki[ki.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ki[ki.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ki[ki.ABORTED=10]="ABORTED",ki[ki.OUT_OF_RANGE=11]="OUT_OF_RANGE",ki[ki.UNIMPLEMENTED=12]="UNIMPLEMENTED",ki[ki.INTERNAL=13]="INTERNAL",ki[ki.UNAVAILABLE=14]="UNAVAILABLE",ki[ki.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var qi=function(){function e(e,t){this.i=e,this.root=t||Bi.EMPTY}return e.prototype.rt=function(t,n){return new e(this.i,this.root.rt(t,n,this.i).copy(null,null,Bi.ot,null,null))},e.prototype.remove=function(t){return new e(this.i,this.root.remove(t,this.i).copy(null,null,Bi.ot,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.m();){var n=this.i(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.m();){var r=this.i(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.m=function(){return this.root.m()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.at=function(){return this.root.at()},e.prototype.ct=function(){return this.root.ct()},e.prototype.ut=function(e){return this.root.ut(e)},e.prototype.forEach=function(e){this.ut(function(t,n){return e(t,n),!1})},e.prototype.toString=function(){var e=[];return this.ut(function(t,n){return e.push(t+":"+n),!1}),"{"+e.join(", ")+"}"},e.prototype.ht=function(e){return this.root.ht(e)},e.prototype.lt=function(){return new Vi(this.root,null,this.i,!1)},e.prototype._t=function(e){return new Vi(this.root,e,this.i,!1)},e.prototype.ft=function(){return new Vi(this.root,null,this.i,!0)},e.prototype.dt=function(e){return new Vi(this.root,e,this.i,!0)},e}(),Vi=function(){function e(e,t,n,r){this.wt=r,this.Tt=[];for(var i=1;!e.m();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.wt?e.left:e.right;else{if(0===i){this.Tt.push(e);break}this.Tt.push(e),e=this.wt?e.right:e.left}}return e.prototype.Et=function(){var e=this.Tt.pop(),t={key:e.key,value:e.value};if(this.wt)for(e=e.left;!e.m();)this.Tt.push(e),e=e.right;else for(e=e.right;!e.m();)this.Tt.push(e),e=e.left;return t},e.prototype.It=function(){return this.Tt.length>0},e.prototype.At=function(){if(0===this.Tt.length)return null;var e=this.Tt[this.Tt.length-1];return{key:e.key,value:e.value}},e}(),Bi=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.m=function(){return!1},e.prototype.ut=function(e){return this.left.ut(e)||e(this.key,this.value)||this.right.ut(e)},e.prototype.ht=function(e){return this.right.ht(e)||e(this.key,this.value)||this.left.ht(e)},e.prototype.min=function(){return this.left.m()?this:this.left.min()},e.prototype.at=function(){return this.min().key},e.prototype.ct=function(){return this.right.m()?this.key:this.right.ct()},e.prototype.rt=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.rt(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.rt(e,t,n))).Rt()},e.prototype.Pt=function(){if(this.left.m())return e.EMPTY;var t=this;return t.left.gt()||t.left.left.gt()||(t=t.yt()),(t=t.copy(null,null,null,t.left.Pt(),null)).Rt()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.m()||i.left.gt()||i.left.left.gt()||(i=i.yt()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.gt()&&(i=i.Vt()),i.right.m()||i.right.gt()||i.right.left.gt()||(i=i.bt()),0===n(t,i.key)){if(i.right.m())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.Rt()},e.prototype.gt=function(){return this.color},e.prototype.Rt=function(){var e=this;return e.right.gt()&&!e.left.gt()&&(e=e.vt()),e.left.gt()&&e.left.left.gt()&&(e=e.Vt()),e.left.gt()&&e.right.gt()&&(e=e.St()),e},e.prototype.yt=function(){var e=this.St();return e.right.left.gt()&&(e=(e=(e=e.copy(null,null,null,null,e.right.Vt())).vt()).St()),e},e.prototype.bt=function(){var e=this.St();return e.left.left.gt()&&(e=(e=e.Vt()).St()),e},e.prototype.vt=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.Vt=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.St=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.Dt=function(){var e=this.Ct();return Math.pow(2,e)<=this.size+1},e.prototype.Ct=function(){if(this.gt()&&this.left.gt())throw u();if(this.right.gt())throw u();var e=this.left.Ct();if(e!==this.right.Ct())throw u();return e+(this.gt()?0:1)},e}();Bi.EMPTY=null,Bi.RED=!0,Bi.ot=!1,Bi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw u()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw u()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw u()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw u()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw u()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.rt=function(e,t,n){return new Bi(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.m=function(){return!0},e.prototype.ut=function(e){return!1},e.prototype.ht=function(e){return!1},e.prototype.at=function(){return null},e.prototype.ct=function(){return null},e.prototype.gt=function(){return!1},e.prototype.Dt=function(){return!0},e.prototype.Ct=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Hi=function(){function e(e){this.i=e,this.data=new qi(this.i)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.at()},e.prototype.last=function(){return this.data.ct()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.ut(function(t,n){return e(t),!1})},e.prototype.Nt=function(e,t){for(var n=this.data._t(e[0]);n.It();){var r=n.Et();if(this.i(r.key,e[1])>=0)return;t(r.key)}},e.prototype.Ft=function(e,t){var n;for(n=void 0!==t?this.data._t(t):this.data.lt();n.It();)if(!e(n.Et().key))return},e.prototype.xt=function(e){var t=this.data._t(e);return t.It()?t.Et().key:null},e.prototype.lt=function(){return new Wi(this.data.lt())},e.prototype._t=function(e){return new Wi(this.data._t(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).rt(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.m=function(){return this.data.m()},e.prototype.$t=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.lt(),r=t.data.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(0!==this.i(i,o))return!1}return!0},e.prototype.A=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.i);return n.data=t,n},e}(),Wi=function(){function e(e){this.kt=e}return e.prototype.Et=function(){return this.kt.Et().key},e.prototype.It=function(){return this.kt.It()},e}(),zi=new qi(Ci.i),Gi=new qi(Ci.i),Ki=new qi(Ci.i),Qi=new Hi(Ci.i),Yi=new Hi(L),Xi=function(){function e(e){this.i=e?function(t,n){return e(t,n)||Ci.i(t.key,n.key)}:function(e,t){return Ci.i(e.key,t.key)},this.Mt=X(),this.Ot=new qi(this.i)}return e.Lt=function(t){return new e(t.i)},e.prototype.has=function(e){return null!=this.Mt.get(e)},e.prototype.get=function(e){return this.Mt.get(e)},e.prototype.first=function(){return this.Ot.at()},e.prototype.last=function(){return this.Ot.ct()},e.prototype.m=function(){return this.Ot.m()},e.prototype.indexOf=function(e){var t=this.Mt.get(e);return t?this.Ot.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.Ot.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.Ot.ut(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.Mt.rt(e.key,e),t.Ot.rt(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.Mt.remove(e),this.Ot.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.Ot.lt(),r=t.Ot.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.i=this.i,r.Mt=t,r.Ot=n,r},e}(),Ji=function(){function e(){this.Bt=new qi(Ci.i)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Bt.get(t);n?0!==e.type&&3===n.type?this.Bt=this.Bt.rt(t,e):3===e.type&&1!==n.type?this.Bt=this.Bt.rt(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Bt=this.Bt.rt(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Bt=this.Bt.rt(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Bt=this.Bt.remove(t):1===e.type&&2===n.type?this.Bt=this.Bt.rt(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Bt=this.Bt.rt(t,{type:2,doc:e.doc}):u():this.Bt=this.Bt.rt(t,e)},e.prototype.qt=function(){var e=[];return this.Bt.ut(function(t,n){e.push(n)}),e},e}(),$i=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.Ut=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Wt=a,this.jt=s}return e.Kt=function(t,n,r,i){var o=[];return n.forEach(function(e){o.push({type:0,doc:e})}),new e(t,n,Xi.Lt(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.Qt.m()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.Wt===e.Wt&&this.Qt.isEqual(e.Qt)&&Tt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.Ut.isEqual(e.Ut)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Zi=function(){function e(e,t,n,r,i){this.et=e,this.Gt=t,this.zt=n,this.Ht=r,this.Yt=i}return e.Jt=function(t,n){var r=new Map;return r.set(t,eo.Xt(t,n)),new e(Mi.min(),r,$(),Q(),J())},e}(),eo=function(){function e(e,t,n,r,i){this.resumeToken=e,this.Zt=t,this.te=n,this.ee=r,this.ne=i}return e.Xt=function(t,n){return new e(Oi.B,n,J(),J(),J())},e}(),to=function(e,t,n,r){this.se=e,this.removedTargetIds=t,this.key=n,this.ie=r},no=function(e,t){this.targetId=e,this.re=t},ro=function(e,t,n,r){void 0===n&&(n=Oi.B),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},io=function(){function e(){this.oe=0,this.ae=ee(),this.ce=Oi.B,this.ue=!1,this.he=!0}return Object.defineProperty(e.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),e.prototype.fe=function(e){e.O()>0&&(this.he=!0,this.ce=e)},e.prototype.de=function(){var e=J(),t=J(),n=J();return this.ae.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:u()}}),new eo(this.ce,this.ue,e,t,n)},e.prototype.we=function(){this.he=!1,this.ae=ee()},e.prototype.me=function(e,t){this.he=!0,this.ae=this.ae.rt(e,t)},e.prototype.Te=function(e){this.he=!0,this.ae=this.ae.remove(e)},e.prototype.Ee=function(){this.oe+=1},e.prototype.Ie=function(){this.oe-=1},e.prototype.Ae=function(){this.he=!0,this.ue=!0},e}(),oo=function(){function e(e){this.Re=e,this.Pe=new Map,this.ge=Q(),this.ye=Z(),this.Ve=new Hi(L)}return e.prototype.pe=function(e){for(var t=0,n=e.se;t<n.length;t++){var r=n[t];e.ie instanceof ko?this.be(r,e.ie):e.ie instanceof No&&this.ve(r,e.key,e.ie)}for(var i=0,o=e.removedTargetIds;i<o.length;i++){var a=o[i];this.ve(a,e.key,e.ie)}},e.prototype.Se=function(e){var t=this;this.De(e,function(n){var r=t.Ce(n);switch(e.state){case 0:t.Ne(n)&&r.fe(e.resumeToken);break;case 1:r.Ie(),r.le||r.we(),r.fe(e.resumeToken);break;case 2:r.Ie(),r.le||t.removeTarget(n);break;case 3:t.Ne(n)&&(r.Ae(),r.fe(e.resumeToken));break;case 4:t.Ne(n)&&(t.Fe(n),r.fe(e.resumeToken));break;default:u()}})},e.prototype.De=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Pe.forEach(function(e,r){n.Ne(r)&&t(r)})},e.prototype.xe=function(e){var t=e.targetId,n=e.re.count,r=this.$e(t);if(r){var i=r.target;if(z(i))if(0===n){var o=new Ci(i.path);this.ve(t,o,new No(o,Mi.min()))}else c(1===n);else this.ke(t)!==n&&(this.Fe(t),this.Ve=this.Ve.add(t))}},e.prototype.Me=function(e){var t=this,n=new Map;this.Pe.forEach(function(r,i){var o=t.$e(i);if(o){if(r.Zt&&z(o.target)){var a=new Ci(o.target.path);null!==t.ge.get(a)||t.Oe(i,a)||t.ve(i,a,new No(a,e))}r._e&&(n.set(i,r.de()),r.we())}});var r=J();this.ye.forEach(function(e,n){var i=!0;n.Ft(function(e){var n=t.$e(e);return!n||2===n.tt||(i=!1,!1)}),i&&(r=r.add(e))});var i=new Zi(e,n,this.Ve,this.ge,r);return this.ge=Q(),this.ye=Z(),this.Ve=new Hi(L),i},e.prototype.be=function(e,t){if(this.Ne(e)){var n=this.Oe(e,t.key)?2:0;this.Ce(e).me(t.key,n),this.ge=this.ge.rt(t.key,t),this.ye=this.ye.rt(t.key,this.Le(t.key).add(e))}},e.prototype.ve=function(e,t,n){if(this.Ne(e)){var r=this.Ce(e);this.Oe(e,t)?r.me(t,1):r.Te(t),this.ye=this.ye.rt(t,this.Le(t).delete(e)),n&&(this.ge=this.ge.rt(t,n))}},e.prototype.removeTarget=function(e){this.Pe.delete(e)},e.prototype.ke=function(e){var t=this.Ce(e).de();return this.Re.Be(e).size+t.te.size-t.ne.size},e.prototype.Ee=function(e){this.Ce(e).Ee()},e.prototype.Ce=function(e){var t=this.Pe.get(e);return t||(t=new io,this.Pe.set(e,t)),t},e.prototype.Le=function(e){var t=this.ye.get(e);return t||(t=new Hi(L),this.ye=this.ye.rt(e,t)),t},e.prototype.Ne=function(e){var t=null!==this.$e(e);return t||i("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.$e=function(e){var t=this.Pe.get(e);return t&&t.le?null:this.Re.qe(e)},e.prototype.Fe=function(e){var t=this;this.Pe.set(e,new io),this.Re.Be(e).forEach(function(n){t.ve(e,n,null)})},e.prototype.Oe=function(e,t){return this.Re.Be(e).has(t)},e}(),ao=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),so={asc:"ASCENDING",desc:"DESCENDING"},uo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},co=function(e,t){this.U=e,this.Ue=t},lo=function(){this.ze=void 0},ho=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hi.__extends(t,e),t}(lo),fo=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return hi.__extends(t,e),t}(lo),po=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return hi.__extends(t,e),t}(lo),mo=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).serializer=t,r.We=n,r}return hi.__extends(t,e),t}(lo),vo=function(){function e(e){this.fields=e,e.sort(Si.i)}return e.prototype.He=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].T(e))return!0;return!1},e.prototype.isEqual=function(e){return D(this.fields,e.fields,function(e,t){return e.isEqual(t)})},e}(),go=function(e,t){this.field=e,this.transform=t},yo=function(e,t){this.version=e,this.transformResults=t},_o=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.Ge=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}(),bo=function(){},wo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).key=t,i.value=n,i.Ke=r,i.type=0,i}return hi.__extends(t,e),t}(bo),Eo=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this)||this).key=t,o.data=n,o.Qe=r,o.Ke=i,o.type=1,o}return hi.__extends(t,e),t}(bo),To=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.fieldTransforms=n,r.type=2,r.Ke=_o.exists(!0),r}return hi.__extends(t,e),t}(bo),So=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Ke=n,r.type=3,r}return hi.__extends(t,e),t}(bo),Co=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Ke=n,r.type=4,r}return hi.__extends(t,e),t}(bo),Io=function(){function e(e){this.proto=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.m())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!ge(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e._()])||null},e.prototype.isEqual=function(e){return ie(this.proto,e.proto)},e}(),Oo=function(){function e(e){void 0===e&&(e=Io.empty()),this.Xe=e,this.Ze=new Map}return e.prototype.set=function(e,t){return this.tn(e,t),this},e.prototype.delete=function(e){return this.tn(e,null),this},e.prototype.tn=function(e,t){for(var n=this.Ze,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===re(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e._(),t)},e.prototype.Je=function(){var e=this.en(Si.g(),this.Ze);return null!=e?new Io(e):this.Xe},e.prototype.en=function(e,t){var n=this,r=!1,i=this.Xe.field(e),o=ge(i)?Object.assign({},i.mapValue.fields):{};return t.forEach(function(t,i){if(t instanceof Map){var a=n.en(e.child(i),t);null!=a&&(o[i]=a,r=!0)}else null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},e}(),Ao=function(e,t){this.key=e,this.version=t},ko=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this,t,n)||this).nn=r,o.Ye=!!i.Ye,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return hi.__extends(t,e),t.prototype.field=function(e){return this.nn.field(e)},t.prototype.data=function(){return this.nn},t.prototype.sn=function(){return this.nn.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.Ye===e.Ye&&this.hasCommittedMutations===e.hasCommittedMutations&&this.nn.isEqual(e.nn)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Ye+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.Ye||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(Ao),No=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return hi.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Ao),xo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hi.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Ao),Po=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.rn=n,this.filters=r,this.limit=i,this.on=o,this.startAt=a,this.endAt=s,this.an=null,this.cn=null,this.startAt,this.endAt},Ro=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return hi.__extends(t,e),t.create=function(e,n,r){if(e.p())return"in"===n||"not-in"===n?this.hn(e,n,r):new Lo(e,n,r);if(me(r)){if("=="!==n&&"!="!==n)throw new _i(yi.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new t(e,n,r)}if(ve(r)){if("=="!==n&&"!="!==n)throw new _i(yi.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new t(e,n,r)}return"array-contains"===n?new jo(e,r):"in"===n?new Uo(e,r):"not-in"===n?new Fo(e,r):"array-contains-any"===n?new qo(e,r):new t(e,n,r)},t.hn=function(e,t,n){return"in"===t?new Do(e,n):new Mo(e,n)},t.prototype.matches=function(e){var t=e.field(this.field);return"!="===this.op?null!==t&&this.ln(ae(t,this.value)):null!==t&&re(this.value)===re(t)&&this.ln(ae(t,this.value))},t.prototype.ln=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return u()}},t.prototype.un=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),Lo=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Ci.C(r.referenceValue),i}return hi.__extends(t,e),t.prototype.matches=function(e){var t=Ci.i(e.key,this.key);return this.ln(t)},t}(Ro),Do=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=At("in",n),r}return hi.__extends(t,e),t.prototype.matches=function(e){return this.keys.some(function(t){return t.isEqual(e.key)})},t}(Ro),Mo=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=At("not-in",n),r}return hi.__extends(t,e),t.prototype.matches=function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})},t}(Ro),jo=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return hi.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return de(t)&&oe(t.arrayValue,this.value)},t}(Ro),Uo=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return hi.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&oe(this.value.arrayValue,t)},t}(Ro),Fo=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return hi.__extends(t,e),t.prototype.matches=function(e){if(oe(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.field(this.field);return null!==t&&!oe(this.value.arrayValue,t)},t}(Ro),qo=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return hi.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return!(!de(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return oe(t.value.arrayValue,e)})},t}(Ro),Vo=function(e,t){this.position=e,this.before=t},Bo=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t},Ho=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},Wo=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this._n=e,this.fn=t,this.dn=n,this.wn=r,this.mn=i,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}return e.prototype.reset=function(){this.Tn=0},e.prototype.An=function(){this.Tn=this.mn},e.prototype.Rn=function(e){var t=this;this.cancel();var n=Math.floor(this.Tn+this.Pn()),r=Math.max(0,Date.now()-this.In),o=Math.max(0,n-r);o>0&&i("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.En=this._n.gn(this.fn,o,function(){return t.In=Date.now(),e()}),this.Tn*=this.wn,this.Tn<this.dn&&(this.Tn=this.dn),this.Tn>this.mn&&(this.Tn=this.mn)},e.prototype.yn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},e.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},e.prototype.Pn=function(){return(Math.random()-.5)*this.Tn},e}(),zo=function(){function e(e){var t=this;this.pn=null,this.bn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.Sn=!1,e(function(e){t.vn=!0,t.result=e,t.pn&&t.pn(e)},function(e){t.vn=!0,t.error=e,t.bn&&t.bn(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.Sn&&u(),this.Sn=!0,this.vn?this.error?this.Dn(n,this.error):this.Cn(t,this.result):new e(function(e,i){r.pn=function(n){r.Cn(t,n).next(e,i)},r.bn=function(t){r.Dn(n,t).next(e,i)}})},e.prototype.Nn=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.Fn=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.Cn=function(t,n){return t?this.Fn(function(){return t(n)}):e.resolve(n)},e.prototype.Dn=function(t,n){return t?this.Fn(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.xn=function(t){return new e(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(e){return n(e)})}),o=!0,i===r&&e()})},e.$n=function(t){for(var n=e.resolve(!1),r=0,i=t;r<i.length;r++)!function(t){n=n.next(function(n){return n?e.resolve(n):t()})}(i[r]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.xn(r)},e}(),Go=function(){function t(e,n,r){this.name=e,this.version=n,this.kn=r,12.2===t.Mn(di.getUA())&&o("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return i("SimpleDb","Removing database:",e),Dt(window.indexedDB.deleteDatabase(e)).Nn()},t.On=function(){if("undefined"==typeof indexedDB)return!1;if(t.Ln())return!0;var e=di.getUA(),n=t.Mn(e),r=0<n&&n<10,i=t.Bn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Ln=function(){var t;return void 0!==e&&"YES"===(null===(t=e.env)||void 0===t?void 0:t.qn)},t.Un=function(e,t){return e.store(t)},t.Mn=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Bn=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Qn=function(){return hi.__awaiter(this,void 0,void 0,function(){var e,t=this;return hi.__generator(this,function(n){switch(n.label){case 0:return this.db?[3,2]:(i("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,n){var r=indexedDB.open(t.name,t.version);r.onsuccess=function(t){var n=t.target.result;e(n)},r.onblocked=function(){n(new Qo("Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(e){var t=e.target.error;n("VersionError"===t.name?new _i(yi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Qo(t))},r.onupgradeneeded=function(e){i("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion);var n=e.target.result;t.kn.createOrUpgrade(n,r.transaction,e.oldVersion,t.version).next(function(){i("SimpleDb","Database upgrade to version "+t.version+" complete")})}})]);case 1:e.db=n.sent(),n.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(e){return t.Wn(e)}),this.db)]}})})},t.prototype.jn=function(e){this.Wn=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},t.prototype.runTransaction=function(e,t,n){return hi.__awaiter(this,void 0,void 0,function(){var r,o,a,s,u;return hi.__generator(this,function(c){switch(c.label){case 0:r="readonly"===e,o=0,a=function(){var e,a,u,c,l;return hi.__generator(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Qn()];case 2:return s.db=h.sent(),e=Yo.open(s.db,r?"readonly":"readwrite",t),a=n(e).catch(function(t){return e.abort(t),zo.reject(t)}).Nn(),u={},a.catch(function(){}),[4,e.Kn];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,i("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ko=function(){function e(e){this.Gn=e,this.zn=!1,this.Hn=null}return Object.defineProperty(e.prototype,"vn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Yn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Gn=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.zn=!0},e.prototype.Jn=function(e){this.Hn=e},e.prototype.delete=function(){return Dt(this.Gn.delete())},e}(),Qo=function(e){function t(t){var n=this;return(n=e.call(this,yi.UNAVAILABLE,"IndexedDB transaction failed: "+t)||this).name="IndexedDbTransactionError",n}return hi.__extends(t,e),t}(_i),Yo=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.Xn=new Ho,this.transaction.oncomplete=function(){t.Xn.resolve()},this.transaction.onabort=function(){e.error?t.Xn.reject(new Qo(e.error)):t.Xn.resolve()},this.transaction.onerror=function(e){var n=Mt(e.target.error);t.Xn.reject(new Qo(n))}}return e.open=function(t,n,r){try{return new e(t.transaction(r,n))}catch(t){throw new Qo(t)}},Object.defineProperty(e.prototype,"Kn",{get:function(){return this.Xn.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.Xn.reject(e),this.aborted||(i("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Xo(t)},e}(),Xo=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(i("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(i("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Dt(n)},e.prototype.add=function(e){return i("SimpleDb","ADD",this.store.name,e,e),Dt(this.store.add(e))},e.prototype.get=function(e){var t=this;return Dt(this.store.get(e)).next(function(n){return void 0===n&&(n=null),i("SimpleDb","GET",t.store.name,e,n),n})},e.prototype.delete=function(e){return i("SimpleDb","DELETE",this.store.name,e),Dt(this.store.delete(e))},e.prototype.count=function(){return i("SimpleDb","COUNT",this.store.name),Dt(this.store.count())},e.prototype.Zn=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.ts(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.es=function(e,t){i("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.ns=!1;var r=this.cursor(n);return this.ts(r,function(e,t,n){return n.delete()})},e.prototype.ss=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.ts(r,t)},e.prototype.rs=function(e){var t=this.cursor({});return new zo(function(n,r){t.onerror=function(e){var t=Mt(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})},e.prototype.ts=function(e,t){var n=[];return new zo(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Ko(i),a=t(i.primaryKey,i.value,o);if(a instanceof zo){var s=a.catch(function(e){return o.done(),zo.reject(e)});n.push(s)}o.vn?r():null===o.Yn?i.continue():i.continue(o.Yn)}else r()}}).next(function(){return zo.xn(n)})},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.ns?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}(),Jo=!1,$o=function(){function e(e,t,n,r,i){this.os=e,this.fn=t,this.cs=n,this.op=r,this.us=i,this.hs=new Ho,this.then=this.hs.promise.then.bind(this.hs.promise),this.hs.promise.catch(function(e){})}return e.ls=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this._s=setTimeout(function(){return t.fs()},e)},e.prototype.Vn=function(){return this.fs()},e.prototype.cancel=function(e){null!==this._s&&(this.clearTimeout(),this.hs.reject(new _i(yi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.fs=function(){var e=this;this.os.ds(function(){return null!==e._s?(e.clearTimeout(),e.op().then(function(t){return e.hs.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this._s&&(this.us(this),clearTimeout(this._s),this._s=null)},e}(),Zo=function(){function e(){var e=this;this.ws=Promise.resolve(),this.Ts=[],this.Es=!1,this.Is=[],this.As=null,this.Rs=!1,this.Ps=[],this.gs=new Wo(this,"async_queue_retry"),this.ys=function(){var t=Ut();t&&i("AsyncQueue","Visibility state changed to  ",t.visibilityState),e.gs.yn()};var t=Ut();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ys)}return Object.defineProperty(e.prototype,"Vs",{get:function(){return this.Es},enumerable:!1,configurable:!0}),e.prototype.ds=function(e){this.enqueue(e)},e.prototype.ps=function(e){this.bs(),this.vs(e)},e.prototype.Ss=function(){if(!this.Es){this.Es=!0;var e=Ut();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.ys)}},e.prototype.enqueue=function(e){return this.bs(),this.Es?new Promise(function(e){}):this.vs(e)},e.prototype.Ds=function(e){var t=this;this.Ts.push(e),this.ds(function(){return t.Cs()})},e.prototype.Cs=function(){return hi.__awaiter(this,void 0,void 0,function(){var e,t=this;return hi.__generator(this,function(n){switch(n.label){case 0:if(0===this.Ts.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return n.sent(),this.Ts.shift(),this.gs.reset(),[3,4];case 3:if(!Lt(e=n.sent()))throw e;return i("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.Ts.length>0&&this.gs.Rn(function(){return t.Cs()}),n.label=5;case 5:return[2]}})})},e.prototype.vs=function(e){var t=this,n=this.ws.then(function(){return t.Rs=!0,e().catch(function(e){throw t.As=e,t.Rs=!1,o("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(function(e){return t.Rs=!1,e})});return this.ws=n,n},e.prototype.gn=function(e,t,n){var r=this;this.bs(),this.Ps.indexOf(e)>-1&&(t=0);var i=$o.ls(this,e,t,n,function(e){return r.Ns(e)});return this.Is.push(i),i},e.prototype.bs=function(){this.As&&u()},e.prototype.Fs=function(){},e.prototype.xs=function(){return hi.__awaiter(this,void 0,void 0,function(){var e;return hi.__generator(this,function(t){switch(t.label){case 0:return[4,e=this.ws];case 1:t.sent(),t.label=2;case 2:if(e!==this.ws)return[3,0];t.label=3;case 3:return[2]}})})},e.prototype.$s=function(e){for(var t=0,n=this.Is;t<n.length;t++)if(n[t].fn===e)return!0;return!1},e.prototype.ks=function(e){var t=this;return this.xs().then(function(){t.Is.sort(function(e,t){return e.cs-t.cs});for(var n=0,r=t.Is;n<r.length;n++){var i=r[n];if(i.Vn(),"all"!==e&&i.fn===e)break}return t.xs()})},e.prototype.Ms=function(e){this.Ps.push(e)},e.prototype.Ns=function(e){var t=this.Is.indexOf(e);this.Is.splice(t,1)},e}(),ea=function(){this.Os=void 0,this.listeners=[]},ta=function(){this.Ls=new Li(function(e){return St(e)},Tt),this.onlineState="Unknown",this.Bs=new Set},na=function(){function e(e,t,n){this.query=e,this.js=t,this.Ks=!1,this.Gs=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Qs=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new $i(e.query,e.docs,e.Ut,t,e.Qt,e.fromCache,e.Wt,!0)}var o=!1;return this.Ks?this.zs(e)&&(this.js.next(e),o=!0):this.Hs(e,this.onlineState)&&(this.Ys(e),o=!0),this.Gs=e,o},e.prototype.onError=function(e){this.js.error(e)},e.prototype.Us=function(e){this.onlineState=e;var t=!1;return this.Gs&&!this.Ks&&this.Hs(this.Gs,e)&&(this.Ys(this.Gs),t=!0),t},e.prototype.Hs=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.Js&&n||e.docs.m()&&"Offline"!==t)},e.prototype.zs=function(e){if(e.docChanges.length>0)return!0;var t=this.Gs&&this.Gs.hasPendingWrites!==e.hasPendingWrites;return!(!e.Wt&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.Ys=function(e){e=$i.Kt(e.query,e.docs,e.Qt,e.fromCache),this.Ks=!0,this.js.next(e)},e}(),ra=function(){function e(e){this.uid=e}return e.prototype.Xs=function(){return null!=this.uid},e.prototype.Zs=function(){return this.Xs()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
ra.UNAUTHENTICATED=new ra(null),ra.ti=new ra("google-credentials-uid"),ra.ei=new ra("first-party-uid");/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ia=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.ni=function(e){return n.si(e)},this.ii=function(e){return t.ri(e)})}return e.prototype.si=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.ii&&this.ii(e),e},e}();ia.oi=-1;var oa=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.ai=function(t,n,r){var i=JSON.parse(r),a="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new _i(i.error.code,i.error.message)),a?new e(t,n,i.state,s):(o("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.ci=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),aa=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.ai=function(t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),a=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(a=new _i(r.error.code,r.error.message)),i?new e(t,r.state,a):(o("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.ci=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),sa=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.ai=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=$(),s=0;i&&s<r.activeTargetIds.length;++s)i=V(r.activeTargetIds[s]),a=a.add(r.activeTargetIds[s]);return i?new e(t,a):(o("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),ua=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.ai=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(o("SharedClientState","Failed to parse online state: "+t),null)},e}(),ca=function(){function e(){this.activeTargetIds=$()}return e.prototype.ui=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.hi=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.ci=function(){var e={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),la=function(){function e(e,t,n,r,i){this.window=e,this._n=t,this.persistenceKey=n,this.li=r,this._i=null,this.fi=null,this.ni=null,this.di=this.wi.bind(this),this.mi=new qi(L),this.Ti=!1,this.Ei=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ii=zt(this.persistenceKey,this.li),this.Ai=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.mi=this.mi.rt(this.li,new ca),this.Ri=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.gi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.yi=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.di)}return e.On=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return hi.__awaiter(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return hi.__generator(this,function(f){switch(f.label){case 0:return[4,this._i.Vi()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.li&&(i=this.getItem(zt(this.persistenceKey,r)))&&(o=sa.ai(r,i))&&(this.mi=this.mi.rt(o.clientId,o));for(this.pi(),(a=this.storage.getItem(this.yi))&&(s=this.bi(a))&&this.vi(s),u=0,c=this.Ei;u<c.length;u++)l=c[u],this.wi(l);return this.Ei=[],this.window.addEventListener("unload",function(){return h.Si()}),this.Ti=!0,[2]}})})},e.prototype.ri=function(e){this.setItem(this.Ai,JSON.stringify(e))},e.prototype.Di=function(){return this.Ci(this.mi)},e.prototype.Ni=function(e){var t=!1;return this.mi.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t},e.prototype.Fi=function(e){this.xi(e,"pending")},e.prototype.$i=function(e,t,n){this.xi(e,t,n),this.ki(e)},e.prototype.Mi=function(e){var t="not-current";if(this.Ni(e)){var n=this.storage.getItem(Kt(this.persistenceKey,e));if(n){var r=aa.ai(e,n);r&&(t=r.state)}}return this.Oi.ui(e),this.pi(),t},e.prototype.Li=function(e){this.Oi.hi(e),this.pi()},e.prototype.Bi=function(e){return this.Oi.activeTargetIds.has(e)},e.prototype.qi=function(e){this.removeItem(Kt(this.persistenceKey,e))},e.prototype.Ui=function(e,t,n){this.Qi(e,t,n)},e.prototype.Wi=function(e,t,n){var r=this;t.forEach(function(e){r.ki(e)}),this.currentUser=e,n.forEach(function(e){r.Fi(e)})},e.prototype.ji=function(e){this.Ki(e)},e.prototype.Si=function(){this.Ti&&(this.window.removeEventListener("storage",this.di),this.removeItem(this.Ii),this.Ti=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return i("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){i("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){i("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.wi=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(i("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ii)return void o("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._n.Ds(function(){return hi.__awaiter(t,void 0,void 0,function(){var e,t,r,i,a,s;return hi.__generator(this,function(u){if(this.Ti){if(null!==n.key)if(this.Ri.test(n.key)){if(null==n.newValue)return e=this.Gi(n.key),[2,this.zi(e,null)];if(t=this.Hi(n.key,n.newValue))return[2,this.zi(t.clientId,t)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(r=this.Yi(n.key,n.newValue)))return[2,this.Ji(r)]}else if(this.gi.test(n.key)){if(null!==n.newValue&&(i=this.Xi(n.key,n.newValue)))return[2,this.Zi(i)]}else if(n.key===this.yi){if(null!==n.newValue&&(a=this.bi(n.newValue)))return[2,this.vi(a)]}else n.key===this.Ai&&(s=function(e){var t=ia.oi;if(null!=e)try{var n=JSON.parse(e);c("number"==typeof n),t=n}catch(e){o("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==ia.oi&&this.ni(s)}else this.Ei.push(n);return[2]})})})}},Object.defineProperty(e.prototype,"Oi",{get:function(){return this.mi.get(this.li)},enumerable:!1,configurable:!0}),e.prototype.pi=function(){this.setItem(this.Ii,this.Oi.ci())},e.prototype.xi=function(e,t,n){var r=new oa(this.currentUser,e,t,n),i=Gt(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ci())},e.prototype.ki=function(e){var t=Gt(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Ki=function(e){var t={clientId:this.li,onlineState:e};this.storage.setItem(this.yi,JSON.stringify(t))},e.prototype.Qi=function(e,t,n){var r=Kt(this.persistenceKey,e),i=new aa(e,t,n);this.setItem(r,i.ci())},e.prototype.Gi=function(e){var t=this.Ri.exec(e);return t?t[1]:null},e.prototype.Hi=function(e,t){var n=this.Gi(e);return sa.ai(n,t)},e.prototype.Yi=function(e,t){var n=this.Pi.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return oa.ai(new ra(i),r,t)},e.prototype.Xi=function(e,t){var n=this.gi.exec(e),r=Number(n[1]);return aa.ai(r,t)},e.prototype.bi=function(e){return ua.ai(e)},e.prototype.Ji=function(e){return hi.__awaiter(this,void 0,void 0,function(){return hi.__generator(this,function(t){return e.user.uid===this.currentUser.uid?[2,this._i.tr(e.batchId,e.state,e.error)]:(i("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},e.prototype.Zi=function(e){return this._i.er(e.targetId,e.state,e.error)},e.prototype.zi=function(e,t){var n=this,r=t?this.mi.rt(e,t):this.mi.remove(e),i=this.Ci(this.mi),o=this.Ci(r),a=[],s=[];return o.forEach(function(e){i.has(e)||a.push(e)}),i.forEach(function(e){o.has(e)||s.push(e)}),this._i.nr(a,s).then(function(){n.mi=r})},e.prototype.vi=function(e){this.mi.get(e.clientId)&&this.fi(e.onlineState)},e.prototype.Ci=function(e){var t=$();return e.forEach(function(e,n){t=t.$t(n.activeTargetIds)}),t},e}(),ha=function(){function e(){this.sr=new ca,this.ir={},this.fi=null,this.ni=null}return e.prototype.Fi=function(e){},e.prototype.$i=function(e,t,n){},e.prototype.Mi=function(e){return this.sr.ui(e),this.ir[e]||"not-current"},e.prototype.Ui=function(e,t,n){this.ir[e]=t},e.prototype.Li=function(e){this.sr.hi(e)},e.prototype.Bi=function(e){return this.sr.activeTargetIds.has(e)},e.prototype.qi=function(e){delete this.ir[e]},e.prototype.Di=function(){return this.sr.activeTargetIds},e.prototype.Ni=function(e){return this.sr.activeTargetIds.has(e)},e.prototype.start=function(){return this.sr=new ca,Promise.resolve()},e.prototype.Wi=function(e,t,n){},e.prototype.ji=function(e){},e.prototype.Si=function(){},e.prototype.ri=function(e){},e}(),fa=function(){function e(e,t,n,r){this.batchId=e,this.rr=t,this.baseMutations=n,this.mutations=r}return e.prototype.ar=function(e,t,n){for(var r=n.cr,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=nt(o,t,r[i]))}return t},e.prototype.ur=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(e)&&(t=rt(i,t,t,this.rr))}for(var o=t,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(e)&&(t=rt(u,t,o,this.rr))}return t},e.prototype.hr=function(e){var t=this,n=e;return this.mutations.forEach(function(r){var i=t.ur(r.key,e.get(r.key));i&&(n=n.rt(r.key,i))}),n},e.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},J())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&D(this.mutations,e.mutations,function(e,t){return ot(e,t)})&&D(this.baseMutations,e.baseMutations,function(e,t){return ot(e,t)})},e}(),pa=function(){function e(e,t,n,r){this.batch=e,this.lr=t,this.cr=n,this._r=r}return e.from=function(t,n,r){c(t.mutations.length===r.length);for(var i=Ki,o=t.mutations,a=0;a<o.length;a++)i=i.rt(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),da=function(){function e(){this.dr=new Li(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.wr=!1}return Object.defineProperty(e.prototype,"readTime",{get:function(){return this.mr},set:function(e){this.mr=e},enumerable:!1,configurable:!0}),e.prototype.Tr=function(e,t){this.Er(),this.readTime=t,this.dr.set(e.key,e)},e.prototype.Ir=function(e,t){this.Er(),t&&(this.readTime=t),this.dr.set(e,null)},e.prototype.Ar=function(e,t){this.Er();var n=this.dr.get(t);return void 0!==n?zo.resolve(n):this.Rr(e,t)},e.prototype.getEntries=function(e,t){return this.Pr(e,t)},e.prototype.apply=function(e){return this.Er(),this.wr=!0,this.gr(e)},e.prototype.Er=function(){},e}(),ma="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",va=function(){function e(){this.yr=[]}return e.prototype.Vr=function(e){this.yr.push(e)},e.prototype.pr=function(){this.yr.forEach(function(e){return e()})},e}(),ga=function(){function e(e,t,n){this.br=e,this.vr=t,this.Sr=n}return e.prototype.Dr=function(e,t){var n=this;return this.vr.Cr(e,t).next(function(r){return n.Nr(e,t,r)})},e.prototype.Nr=function(e,t,n){return this.br.Ar(e,t).next(function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].ur(t,e);return e})},e.prototype.Fr=function(e,t,n){var r=Y();return t.forEach(function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].ur(e,t);r=r.rt(e,t)}),r},e.prototype.$r=function(e,t){var n=this;return this.br.getEntries(e,t).next(function(t){return n.kr(e,t)})},e.prototype.kr=function(e,t){var n=this;return this.vr.Mr(e,t).next(function(r){var i=n.Fr(e,t,r),o=Q();return i.forEach(function(e,t){t||(t=new No(e,Mi.min())),o=o.rt(e,t)}),o})},e.prototype.Or=function(e,t,n){return function(e){return Ci.F(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Lr(e,t.path):gt(t)?this.Br(e,t,n):this.qr(e,t,n)},e.prototype.Lr=function(e,t){return this.Dr(e,new Ci(t)).next(function(e){var t=X();return e instanceof ko&&(t=t.rt(e.key,e)),t})},e.prototype.Br=function(e,t,n){var r=this,i=t.collectionGroup,o=X();return this.Sr.Ur(e,i).next(function(a){return zo.forEach(a,function(a){var s=function(e,t){return new Po(t,null,e.rn.slice(),e.filters.slice(),e.limit,e.on,e.startAt,e.endAt)}(t,a.child(i));return r.qr(e,s,n).next(function(e){e.forEach(function(e,t){o=o.rt(e,t)})})}).next(function(){return o})})},e.prototype.qr=function(e,t,n){var r,i,o=this;return this.br.Or(e,t,n).next(function(n){return r=n,o.vr.Qr(e,t)}).next(function(t){return i=t,o.Wr(e,i,r).next(function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=rt(u,l,l,o.rr);r=h instanceof ko?r.rt(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(e,n){It(t,n)||(r=r.remove(e))}),r})},e.prototype.Wr=function(e,t,n){for(var r=J(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Eo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.br.getEntries(e,r).next(function(e){return e.forEach(function(e,t){null!==t&&t instanceof ko&&(c=c.rt(e,t))}),c})},e}(),ya=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.jr=n,this.Kr=r}return e.Gr=function(t,n){for(var r=J(),i=J(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),_a=function(){function e(e){this.zr=e,this.buffer=new Hi(Qt),this.Hr=0}return e.prototype.Yr=function(){return++this.Hr},e.prototype.Jr=function(e){var t=[e,this.Yr()];if(this.buffer.size<this.zr)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Qt(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),ba={Xr:!1,Zr:0,eo:0,no:0},wa=function(){function e(e,t,n){this.so=e,this.io=t,this.ro=n}return e.oo=function(t){return new e(t,e.ao,e.co)},e}();wa.uo=-1,wa.ho=1048576,wa.lo=41943040,wa.ao=10,wa.co=1e3,wa._o=new wa(wa.lo,wa.ao,wa.co),wa.fo=new wa(wa.uo,0,0);var Ea=function(){function e(e,t){this.do=e,this.os=t,this.wo=!1,this.mo=null}return e.prototype.start=function(e){this.do.params.so!==wa.uo&&this.To(e)},e.prototype.stop=function(){this.mo&&(this.mo.cancel(),this.mo=null)},Object.defineProperty(e.prototype,"Ti",{get:function(){return null!==this.mo},enumerable:!1,configurable:!0}),e.prototype.To=function(e){var t=this,n=this.wo?3e5:6e4;i("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.mo=this.os.gn("lru_garbage_collection",n,function(){return hi.__awaiter(t,void 0,void 0,function(){var t;return hi.__generator(this,function(n){switch(n.label){case 0:this.mo=null,this.wo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.Eo(this.do)];case 2:return n.sent(),[3,7];case 3:return Lt(t=n.sent())?(i("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Dn(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.To(e)];case 8:return n.sent(),[2]}})})})},e}(),Ta=function(){function e(e,t){this.Io=e,this.params=t}return e.prototype.Ao=function(e,t){return this.Io.Ro(e).next(function(e){return Math.floor(t/100*e)})},e.prototype.Po=function(e,t){var n=this;if(0===t)return zo.resolve(ia.oi);var r=new _a(t);return this.Io.De(e,function(e){return r.Jr(e.sequenceNumber)}).next(function(){return n.Io.yo(e,function(e){return r.Jr(e)})}).next(function(){return r.maxValue})},e.prototype.Vo=function(e,t,n){return this.Io.Vo(e,t,n)},e.prototype.po=function(e,t){return this.Io.po(e,t)},e.prototype.bo=function(e,t){var n=this;return this.params.so===wa.uo?(i("LruGarbageCollector","Garbage collection skipped; disabled"),zo.resolve(ba)):this.vo(e).next(function(r){return r<n.params.so?(i("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.so),ba):n.So(e,t)})},e.prototype.vo=function(e){return this.Io.vo(e)},e.prototype.So=function(e,t){var n,o,a,s,u,c,l,h=this,f=Date.now();return this.Ao(e,this.params.io).next(function(t){return t>h.params.ro?(i("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.ro+" from "+t),o=h.params.ro):o=t,s=Date.now(),h.Po(e,o)}).next(function(r){return n=r,u=Date.now(),h.Vo(e,n,t)}).next(function(t){return a=t,c=Date.now(),h.po(e,n)}).next(function(e){return l=Date.now(),r()<=pi.LogLevel.DEBUG&&i("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-f)+"ms\n\tDetermined least recently used "+o+" in "+(u-s)+"ms\n\tRemoved "+a+" targets in "+(c-u)+"ms\n\tRemoved "+e+" documents in "+(l-c)+"ms\nTotal Duration: "+(l-f)+"ms"),zo.resolve({Xr:!0,Zr:o,eo:a,no:e})})},e}(),Sa=function(e){this.Do=e},Ca=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.Sr=n,this.Co=r,this.No={}}return e.Fo=function(t,n,r,i){return c(""!==t.uid),new e(t.Xs()?t.uid:"",n,r,i)},e.prototype.xo=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hn(e).ss({index:Ra.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.$o=function(e,t,n,r){var i=this,o=fn(e),a=hn(e);return a.add({}).next(function(s){c("number"==typeof s);for(var u=new fa(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map(function(t){return Le(e.Do,t)}),i=n.mutations.map(function(t){return Le(e.Do,t)});return new Ra(t,n.batchId,n.rr.toMillis(),r,i)}(i.serializer,i.userId,u),h=[],f=new Hi(function(e,t){return L(e.R(),t.R())}),p=0,d=r;p<d.length;p++){var m=d[p],v=La.key(i.userId,m.key.path,s);f=f.add(m.key.path.h()),h.push(a.put(l)),h.push(o.put(v,La.PLACEHOLDER))}return f.forEach(function(t){h.push(i.Sr.ko(e,t))}),e.Vr(function(){i.No[s]=u.keys()}),zo.xn(h).next(function(){return u})})},e.prototype.Mo=function(e,t){var n=this;return hn(e).get(t).next(function(e){return e?(c(e.userId===n.userId),an(n.serializer,e)):null})},e.prototype.Oo=function(e,t){var n=this;return this.No[t]?zo.resolve(this.No[t]):this.Mo(e,t).next(function(e){if(e){var r=e.keys();return n.No[t]=r,r}return null})},e.prototype.Lo=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return hn(e).ss({index:Ra.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(c(t.batchId>=r),o=an(n.serializer,t)),i.done()}).next(function(){return o})},e.prototype.Bo=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return hn(e).ss({index:Ra.userMutationsIndex,range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})},e.prototype.qo=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hn(e).Zn(Ra.userMutationsIndex,n).next(function(e){return e.map(function(e){return an(t.serializer,e)})})},e.prototype.Cr=function(e,t){var n=this,r=La.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return fn(e).ss({range:i},function(r,i,a){var s=r[0],l=r[1],h=r[2],f=$t(l);if(s===n.userId&&t.path.isEqual(f))return hn(e).get(h).next(function(e){if(!e)throw u();c(e.userId===n.userId),o.push(an(n.serializer,e))});a.done()}).next(function(){return o})},e.prototype.Mr=function(e,t){var n=this,r=new Hi(L),i=[];return t.forEach(function(t){var o=La.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=fn(e).ss({range:a},function(e,i,o){var a=e[0],s=e[1],u=e[2],c=$t(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()});i.push(s)}),zo.xn(i).next(function(){return n.Uo(e,r)})},e.prototype.Qr=function(e,t){var n=this,r=t.path,i=r.length+1,o=La.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Hi(L);return fn(e).ss({range:a},function(e,t,o){var a=e[0],u=e[1],c=e[2],l=$t(u);a===n.userId&&r.T(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){return n.Uo(e,s)})},e.prototype.Uo=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(hn(e).get(t).next(function(e){if(null===e)throw u();c(e.userId===n.userId),r.push(an(n.serializer,e))}))}),zo.xn(i).next(function(){return r})},e.prototype.Qo=function(e,t){var n=this;return ln(e.Wo,this.userId,t).next(function(r){return e.Vr(function(){n.jo(t.batchId)}),zo.forEach(r,function(t){return n.Co.Ko(e,t)})})},e.prototype.jo=function(e){delete this.No[e]},e.prototype.Go=function(e){var t=this;return this.xo(e).next(function(n){if(!n)return zo.resolve();var r=IDBKeyRange.lowerBound(La.prefixForUser(t.userId)),i=[];return fn(e).ss({range:r},function(e,n,r){if(e[0]===t.userId){var o=$t(e[1]);i.push(o)}else r.done()}).next(function(){c(0===i.length)})})},e.prototype.zo=function(e,t){return cn(e,this.userId,t)},e.prototype.Ho=function(e){var t=this;return pn(e).get(this.userId).next(function(e){return e||new Pa(t.userId,-1,"")})},e}(),Ia=function(){function e(e,t){this.serializer=e,this.Sr=t}return e.prototype.Tr=function(e,t,n){return mn(e).put(vn(t),n)},e.prototype.Ir=function(e,t){var n=mn(e),r=vn(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.Yo(e,r)})},e.prototype.Ar=function(e,t){var n=this;return mn(e).get(vn(t)).next(function(e){return n.Jo(e)})},e.prototype.Xo=function(e,t){var n=this;return mn(e).get(vn(t)).next(function(e){var t=n.Jo(e);return t?{Zo:t,size:gn(e)}:null})},e.prototype.getEntries=function(e,t){var n=this,r=Y();return this.ta(e,t,function(e,t){var i=n.Jo(t);r=r.rt(e,i)}).next(function(){return r})},e.prototype.ea=function(e,t){var n=this,r=Y(),i=new qi(Ci.i);return this.ta(e,t,function(e,t){var o=n.Jo(t);o?(r=r.rt(e,o),i=i.rt(e,gn(t))):(r=r.rt(e,null),i=i.rt(e,0))}).next(function(){return{na:r,sa:i}})},e.prototype.ta=function(e,t,n){if(t.m())return zo.resolve();var r=IDBKeyRange.bound(t.first().path.A(),t.last().path.A()),i=t.lt(),o=i.Et();return mn(e).ss({range:r},function(e,t,r){for(var a=Ci.$(e);o&&Ci.i(o,a)<0;)n(o,null),o=i.Et();o&&o.isEqual(a)&&(n(o,t),o=i.It()?i.Et():null),o?r.Jn(o.path.A()):r.done()}).next(function(){for(;o;)n(o,null),o=i.It()?i.Et():null})},e.prototype.Or=function(e,t,n){var r=this,i=X(),o=t.path.length+1,a={};if(n.isEqual(Mi.min())){var s=t.path.A();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.A(),c=tn(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=ja.collectionReadTimeIndex}return mn(e).ss(a,function(e,n,a){if(e.length===o){var s=Zt(r.serializer,n);t.path.T(s.key.path)?s instanceof ko&&It(t,s)&&(i=i.rt(s.key,s)):a.done()}}).next(function(){return i})},e.prototype.ia=function(e,t){var n=this,r=Q(),i=tn(t),o=mn(e),a=IDBKeyRange.lowerBound(i,!0);return o.ss({index:ja.readTimeIndex,range:a},function(e,t){var o=Zt(n.serializer,t);r=r.rt(o.key,o),i=t.readTime}).next(function(){return{ra:r,readTime:nn(i)}})},e.prototype.oa=function(e){var t=mn(e),n=Mi.min();return t.ss({index:ja.readTimeIndex,reverse:!0},function(e,t,r){t.readTime&&(n=nn(t.readTime)),r.done()}).next(function(){return n})},e.prototype.aa=function(t){return new e.ca(this,!!t&&t.ua)},e.prototype.ha=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return dn(e).get(Ua.key).next(function(e){return c(!!e),e})},e.prototype.Yo=function(e,t){return dn(e).put(Ua.key,t)},e.prototype.Jo=function(e){if(e){var t=Zt(this.serializer,e);return t instanceof No&&t.version.isEqual(Mi.min())?null:t}return null},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Ia.ca=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).la=t,r.ua=n,r._a=new Li(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),r}return hi.__extends(t,e),t.prototype.gr=function(e){var t=this,n=[],r=0,i=new Hi(function(e,t){return L(e.R(),t.R())});return this.dr.forEach(function(o,a){var s=t._a.get(o);if(a){var u=en(t.la.serializer,a,t.readTime);i=i.add(o.path.h());var c=gn(u);r+=c-s,n.push(t.la.Tr(e,o,u))}else if(r-=s,t.ua){var l=en(t.la.serializer,new No(o,Mi.min()),t.readTime);n.push(t.la.Tr(e,o,l))}else n.push(t.la.Ir(e,o))}),i.forEach(function(r){n.push(t.la.Sr.ko(e,r))}),n.push(this.la.updateMetadata(e,r)),zo.xn(n)},t.prototype.Rr=function(e,t){var n=this;return this.la.Xo(e,t).next(function(e){return null===e?(n._a.set(t,0),null):(n._a.set(t,e.size),e.Zo)})},t.prototype.Pr=function(e,t){var n=this;return this.la.ea(e,t).next(function(e){var t=e.na;return e.sa.forEach(function(e,t){n._a.set(e,t)}),t})},t}(da);var Oa=function(){function e(){this.fa=new Aa}return e.prototype.ko=function(e,t){return this.fa.add(t),zo.resolve()},e.prototype.Ur=function(e,t){return zo.resolve(this.fa.getEntries(t))},e}(),Aa=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e._(),n=e.h(),r=this.index[t]||new Hi(Ei.i),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e._(),n=e.h(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Hi(Ei.i)).A()},e}(),ka=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;c(n<r&&n>=0&&r<=10);var o=new Yo(t);n<1&&r>=1&&(function(e){e.createObjectStore(xa.store)}(e),function(e){e.createObjectStore(Pa.store,{keyPath:Pa.keyPath}),e.createObjectStore(Ra.store,{keyPath:Ra.keyPath,autoIncrement:!0}).createIndex(Ra.userMutationsIndex,Ra.userMutationsKeyPath,{unique:!0}),e.createObjectStore(La.store)}(e),yn(e),function(e){e.createObjectStore(ja.store)}(e));var a=zo.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(qa.store),e.deleteObjectStore(Fa.store),e.deleteObjectStore(Va.store)}(e),yn(e)),a=a.next(function(){return function(e){var t=e.store(Va.store),n=new Va(0,0,Mi.min().X(),0);return t.put(Va.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(e,t){return t.store(Ra.store).Zn().next(function(n){e.deleteObjectStore(Ra.store),e.createObjectStore(Ra.store,{keyPath:Ra.keyPath,autoIncrement:!0}).createIndex(Ra.userMutationsIndex,Ra.userMutationsKeyPath,{unique:!0});var r=t.store(Ra.store),i=n.map(function(e){return r.put(e)});return zo.xn(i)})}(e,o)})),a=a.next(function(){!function(e){e.createObjectStore(Ha.store,{keyPath:Ha.keyPath})}(e)})),n<5&&r>=5&&(a=a.next(function(){return i.removeAcknowledgedMutations(o)})),n<6&&r>=6&&(a=a.next(function(){return function(e){e.createObjectStore(Ua.store)}(e),i.addDocumentGlobal(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ensureSequenceNumbers(o)})),n<8&&r>=8&&(a=a.next(function(){return i.createCollectionParentIndex(e,o)})),n<9&&r>=9&&(a=a.next(function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(ja.store);t.createIndex(ja.readTimeIndex,ja.readTimeIndexPath,{unique:!1}),t.createIndex(ja.collectionReadTimeIndex,ja.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(a=a.next(function(){return i.rewriteCanonicalIds(o)})),a},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(ja.store).ss(function(e,n){t+=gn(n)}).next(function(){var n=new Ua(t);return e.store(Ua.store).put(Ua.key,n)})},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(Pa.store),r=e.store(Ra.store);return n.Zn().next(function(n){return zo.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Zn(Ra.userMutationsIndex,i).next(function(r){return zo.forEach(r,function(r){c(r.userId===n.userId);var i=an(t.serializer,r);return ln(e,n.userId,i).next(function(){})})})})})},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(qa.store),n=e.store(ja.store);return e.store(Va.store).get(Va.key).next(function(e){var r=[];return n.ss(function(n,i){var o=new Ei(n),a=function(e){return[0,Yt(e)]}(o);r.push(t.get(a).next(function(n){return n?zo.resolve():function(n){return t.put(new qa(0,Yt(n),e.highestListenSequenceNumber))}(o)}))}).next(function(){return zo.xn(r)})})},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(Ba.store,{keyPath:Ba.keyPath});var n=t.store(Ba.store),r=new Aa,i=function(e){if(r.add(e)){var t=e._(),i=e.h();return n.put({collectionId:t,parent:Yt(i)})}};return t.store(ja.store).ss({ns:!0},function(e,t){var n=new Ei(e);return i(n.h())}).next(function(){return t.store(La.store).ss({ns:!0},function(e,t){e[0];var n=e[1],r=(e[2],$t(n));return i(r.h())})})},e.prototype.rewriteCanonicalIds=function(e){var t=this,n=e.store(Fa.store);return n.ss(function(e,r){var i=sn(r),o=un(t.serializer,i);return n.put(o)})},e}(),Na=function(e,t){this.seconds=e,this.nanoseconds=t},xa=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};xa.store="owner",xa.key="owner";var Pa=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Pa.store="mutationQueues",Pa.keyPath="userId";var Ra=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ra.store="mutations",Ra.keyPath="batchId",Ra.userMutationsIndex="userMutationsIndex",Ra.userMutationsKeyPath=["userId","batchId"];var La=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Yt(t)]},e.key=function(e,t,n){return[e,Yt(t),n]},e}();La.store="documentMutations",La.PLACEHOLDER=new La;var Da=function(e,t){this.path=e,this.readTime=t},Ma=function(e,t){this.path=e,this.version=t},ja=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ja.store="remoteDocuments",ja.readTimeIndex="readTimeIndex",ja.readTimeIndexPath="readTime",ja.collectionReadTimeIndex="collectionReadTimeIndex",ja.collectionReadTimeIndexPath=["parentPath","readTime"];var Ua=function(e){this.byteSize=e};Ua.store="remoteDocumentGlobal",Ua.key="remoteDocumentGlobalKey";var Fa=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Fa.store="targets",Fa.keyPath="targetId",Fa.queryTargetsIndexName="queryTargetsIndex",Fa.queryTargetsKeyPath=["canonicalId","targetId"];var qa=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};qa.store="targetDocuments",qa.keyPath=["targetId","path"],qa.documentTargetsIndex="documentTargetsIndex",qa.documentTargetsKeyPath=["path","targetId"];var Va=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Va.key="targetGlobalKey",Va.store="targetGlobal";var Ba=function(e,t){this.collectionId=e,this.parent=t};Ba.store="collectionParents",Ba.keyPath=["collectionId","parent"];var Ha=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Ha.store="clientMetadata",Ha.keyPath="clientId";var Wa=hi.__spreadArrays(hi.__spreadArrays(hi.__spreadArrays([Pa.store,Ra.store,La.store,ja.store,Fa.store,xa.store,Va.store,qa.store],[Ha.store]),[Ua.store]),[Ba.store]),za=function(){function e(){this.da=new Aa}return e.prototype.ko=function(e,t){var n=this;if(!this.da.has(t)){var r=t._(),i=t.h();e.Vr(function(){n.da.add(t)});var o={collectionId:r,parent:Yt(i)};return _n(e).put(o)}return zo.resolve()},e.prototype.Ur=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[M(t),""],!1,!0);return _n(e).Zn(r).next(function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push($t(o.parent))}return n})},e}(),Ga=function(){function e(e){this.wa=e}return e.prototype.next=function(){return this.wa+=2,this.wa},e.ma=function(){return new e(0)},e.Ta=function(){return new e(-1)},e}(),Ka=function(){function e(e,t){this.Co=e,this.serializer=t}return e.prototype.Ea=function(e){var t=this;return this.Ia(e).next(function(n){var r=new Ga(n.highestTargetId);return n.highestTargetId=r.next(),t.Aa(e,n).next(function(){return n.highestTargetId})})},e.prototype.Ra=function(e){return this.Ia(e).next(function(e){return Mi.Y(new Di(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.Pa=function(e){return this.Ia(e).next(function(e){return e.highestListenSequenceNumber})},e.prototype.ga=function(e,t,n){var r=this;return this.Ia(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.X()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Aa(e,i)})},e.prototype.ya=function(e,t){var n=this;return this.Va(e,t).next(function(){return n.Ia(e).next(function(r){return r.targetCount+=1,n.pa(t,r),n.Aa(e,r)})})},e.prototype.ba=function(e,t){return this.Va(e,t)},e.prototype.va=function(e,t){var n=this;return this.Sa(e,t.targetId).next(function(){return bn(e).delete(t.targetId)}).next(function(){return n.Ia(e)}).next(function(t){return c(t.targetCount>0),t.targetCount-=1,n.Aa(e,t)})},e.prototype.Vo=function(e,t,n){var r=this,i=0,o=[];return bn(e).ss(function(a,s){var u=sn(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.va(e,u)))}).next(function(){return zo.xn(o)}).next(function(){return i})},e.prototype.De=function(e,t){return bn(e).ss(function(e,n){var r=sn(n);t(r)})},e.prototype.Ia=function(e){return wn(e).get(Va.key).next(function(e){return c(null!==e),e})},e.prototype.Aa=function(e,t){return wn(e).put(Va.key,t)},e.prototype.Va=function(e,t){return bn(e).put(un(this.serializer,t))},e.prototype.pa=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.Da=function(e){return this.Ia(e).next(function(e){return e.targetCount})},e.prototype.Ca=function(e,t){var n=H(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return bn(e).ss({range:r,index:Fa.queryTargetsIndexName},function(e,n,r){var o=sn(n);W(t,o.target)&&(i=o,r.done())}).next(function(){return i})},e.prototype.Na=function(e,t,n){var r=this,i=[],o=En(e);return t.forEach(function(t){var a=Yt(t.path);i.push(o.put(new qa(n,a))),i.push(r.Co.Fa(e,n,t))}),zo.xn(i)},e.prototype.xa=function(e,t,n){var r=this,i=En(e);return zo.forEach(t,function(t){var o=Yt(t.path);return zo.xn([i.delete([n,o]),r.Co.$a(e,n,t)])})},e.prototype.Sa=function(e,t){var n=En(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.ka=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=En(e),i=J();return r.ss({range:n,ns:!0},function(e,t,n){var r=$t(e[1]),o=new Ci(r);i=i.add(o)}).next(function(){return i})},e.prototype.zo=function(e,t){var n=Yt(t.path),r=IDBKeyRange.bound([n],[M(n)],!1,!0),i=0;return En(e).ss({index:qa.documentTargetsIndex,ns:!0,range:r},function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())}).next(function(){return i>0})},e.prototype.qe=function(e,t){return bn(e).get(t).next(function(e){return e?sn(e):null})},e}(),Qa="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ya=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Wo=t,r.Ma=n,r}return hi.__extends(t,e),t}(va),Xa=function(){function e(t,n,r,i,a,s,u,c,l,h){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this._n=a,this.window=s,this.document=u,this.Oa=l,this.La=h,this.Ba=null,this.qa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ua=null,this.inForeground=!1,this.Qa=null,this.Wa=null,this.ja=Number.NEGATIVE_INFINITY,this.Ka=function(e){return Promise.resolve()},!e.On())throw new _i(yi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Co=new Ja(this,i),this.Ga=n+"main",this.serializer=new Sa(c),this.za=new Go(this.Ga,10,new ka(this.serializer)),this.Ha=new Ka(this.Co,this.serializer),this.Sr=new za,this.br=new Ia(this.serializer,this.Sr),this.window&&this.window.localStorage?this.Ya=this.window.localStorage:(this.Ya=null,!1===h&&o("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.Un=function(e,t){if(e instanceof Ya)return Go.Un(e.Wo,t);throw u()},e.prototype.start=function(){var e=this;return this.Ja().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new _i(yi.FAILED_PRECONDITION,Qa);return e.Xa(),e.Za(),e.tc(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.Ha.Pa(t)})}).then(function(t){e.Ba=new ia(t,e.Oa)}).then(function(){e.qa=!0}).catch(function(t){return e.za&&e.za.close(),Promise.reject(t)})},e.prototype.ec=function(e){var t=this;return this.Ka=function(n){return hi.__awaiter(t,void 0,void 0,function(){return hi.__generator(this,function(t){return this.Ti?[2,e(n)]:[2]})})},e(this.isPrimary)},e.prototype.nc=function(e){var t=this;this.za.jn(function(n){return hi.__awaiter(t,void 0,void 0,function(){return hi.__generator(this,function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},e.prototype.sc=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this._n.ds(function(){return hi.__awaiter(t,void 0,void 0,function(){return hi.__generator(this,function(e){switch(e.label){case 0:return this.Ti?[4,this.Ja()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.Ja=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return Sn(t).put(new Ha(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.ic(t).next(function(t){t||(e.isPrimary=!1,e._n.Ds(function(){return e.Ka(!1)}))})}).next(function(){return e.rc(t)}).next(function(n){return e.isPrimary&&!n?e.oc(t).next(function(){return!1}):!!n&&e.ac(t).next(function(){return!0})})}).catch(function(t){if(Lt(t))return i("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return i("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e._n.Ds(function(){return e.Ka(t)}),e.isPrimary=t})},e.prototype.ic=function(e){var t=this;return Tn(e).get(xa.key).next(function(e){return zo.resolve(t.cc(e))})},e.prototype.uc=function(e){return Sn(e).delete(this.clientId)},e.prototype.hc=function(){return hi.__awaiter(this,void 0,void 0,function(){var t,n,r,i,o=this;return hi.__generator(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.lc(this.ja,18e5)?[3,2]:(this.ja=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var n=e.Un(t,Ha.store);return n.Zn().next(function(e){var t=o._c(e,18e5),r=e.filter(function(e){return-1===t.indexOf(e)});return zo.forEach(r,function(e){return n.delete(e.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Ya)for(n=0,r=t;n<r.length;n++)i=r[n],this.Ya.removeItem(this.fc(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.tc=function(){var e=this;this.Wa=this._n.gn("client_metadata_refresh",4e3,function(){return e.Ja().then(function(){return e.hc()}).then(function(){return e.tc()})})},e.prototype.cc=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.rc=function(e){var t=this;return this.La?zo.resolve(!0):Tn(e).get(xa.key).next(function(n){if(null!==n&&t.lc(n.leaseTimestampMs,5e3)&&!t.dc(n.ownerId)){if(t.cc(n)&&t.networkEnabled)return!0;if(!t.cc(n)){if(!n.allowTabSynchronization)throw new _i(yi.FAILED_PRECONDITION,Qa);return!1}}return!(!t.networkEnabled||!t.inForeground)||Sn(e).Zn().next(function(e){return void 0===t._c(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&i("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.Si=function(){return hi.__awaiter(this,void 0,void 0,function(){var e=this;return hi.__generator(this,function(t){switch(t.label){case 0:return this.qa=!1,this.wc(),this.Wa&&(this.Wa.cancel(),this.Wa=null),this.mc(),this.Tc(),[4,this.za.runTransaction("readwrite",[xa.store,Ha.store],function(t){var n=new Ya(t,ia.oi);return e.oc(n).next(function(){return e.uc(n)})})];case 1:return t.sent(),this.za.close(),this.Ec(),[2]}})})},e.prototype._c=function(e,t){var n=this;return e.filter(function(e){return n.lc(e.updateTimeMs,t)&&!n.dc(e.clientId)})},e.prototype.Vi=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return Sn(t).Zn().next(function(t){return e._c(t,18e5).map(function(e){return e.clientId})})})},Object.defineProperty(e.prototype,"Ti",{get:function(){return this.qa},enumerable:!1,configurable:!0}),e.prototype.Ic=function(e){return Ca.Fo(e,this.serializer,this.Sr,this.Co)},e.prototype.Ac=function(){return this.Ha},e.prototype.Rc=function(){return this.br},e.prototype.Pc=function(){return this.Sr},e.prototype.runTransaction=function(e,t,n){var r=this;i("IndexedDbPersistence","Starting transaction:",e);var a,s="readonly"===t?"readonly":"readwrite";return this.za.runTransaction(s,Wa,function(i){return a=new Ya(i,r.Ba?r.Ba.next():ia.oi),"readwrite-primary"===t?r.ic(a).next(function(e){return!!e||r.rc(a)}).next(function(t){if(!t)throw o("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r._n.Ds(function(){return r.Ka(!1)}),new _i(yi.FAILED_PRECONDITION,ma);return n(a)}).next(function(e){return r.ac(a).next(function(){return e})}):r.gc(a).next(function(){return n(a)})}).then(function(e){return a.pr(),e})},e.prototype.gc=function(e){var t=this;return Tn(e).get(xa.key).next(function(e){if(null!==e&&t.lc(e.leaseTimestampMs,5e3)&&!t.dc(e.ownerId)&&!t.cc(e)&&!(t.La||t.allowTabSynchronization&&e.allowTabSynchronization))throw new _i(yi.FAILED_PRECONDITION,Qa)})},e.prototype.ac=function(e){var t=new xa(this.clientId,this.allowTabSynchronization,Date.now());return Tn(e).put(xa.key,t)},e.On=function(){return Go.On()},e.prototype.oc=function(e){var t=this,n=Tn(e);return n.get(xa.key).next(function(e){return t.cc(e)?(i("IndexedDbPersistence","Releasing primary lease."),n.delete(xa.key)):zo.resolve()})},e.prototype.lc=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(o("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.Xa=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Qa=function(){e._n.ds(function(){return e.inForeground="visible"===e.document.visibilityState,e.Ja()})},this.document.addEventListener("visibilitychange",this.Qa),this.inForeground="visible"===this.document.visibilityState)},e.prototype.mc=function(){this.Qa&&(this.document.removeEventListener("visibilitychange",this.Qa),this.Qa=null)},e.prototype.Za=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ua=function(){t.wc(),t._n.ds(function(){return t.Si()})},this.window.addEventListener("unload",this.Ua))},e.prototype.Tc=function(){this.Ua&&(this.window.removeEventListener("unload",this.Ua),this.Ua=null)},e.prototype.dc=function(e){var t;try{var n=null!==(null===(t=this.Ya)||void 0===t?void 0:t.getItem(this.fc(e)));return i("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return o("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.wc=function(){if(this.Ya)try{this.Ya.setItem(this.fc(this.clientId),String(Date.now()))}catch(e){o("Failed to set zombie client id.",e)}},e.prototype.Ec=function(){if(this.Ya)try{this.Ya.removeItem(this.fc(this.clientId))}catch(e){}},e.prototype.fc=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}(),Ja=function(){function e(e,t){this.db=e,this.do=new Ta(this,t)}return e.prototype.Ro=function(e){var t=this.yc(e);return this.db.Ac().Da(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.yc=function(e){var t=0;return this.yo(e,function(e){t++}).next(function(){return t})},e.prototype.De=function(e,t){return this.db.Ac().De(e,t)},e.prototype.yo=function(e,t){return this.Vc(e,function(e,n){return t(n)})},e.prototype.Fa=function(e,t,n){return Cn(e,n)},e.prototype.$a=function(e,t,n){return Cn(e,n)},e.prototype.Vo=function(e,t,n){return this.db.Ac().Vo(e,t,n)},e.prototype.Ko=function(e,t){return Cn(e,t)},e.prototype.bc=function(e,t){return function(e,t){var n=!1;return pn(e).rs(function(r){return cn(e,r,t).next(function(e){return e&&(n=!0),zo.resolve(!e)})}).next(function(){return n})}(e,t)},e.prototype.po=function(e,t){var n=this,r=this.db.Rc().aa(),i=[],o=0;return this.Vc(e,function(a,s){if(s<=t){var u=n.bc(e,a).next(function(t){if(!t)return o++,r.Ar(e,a).next(function(){return r.Ir(a),En(e).delete([0,Yt(a.path)])})});i.push(u)}}).next(function(){return zo.xn(i)}).next(function(){return r.apply(e)}).next(function(){return o})},e.prototype.removeTarget=function(e,t){var n=t.nt(e.Ma);return this.db.Ac().ba(e,n)},e.prototype.vc=function(e,t){return Cn(e,t)},e.prototype.Vc=function(e,t){var n,r=En(e),i=ia.oi;return r.ss({index:qa.documentTargetsIndex},function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==ia.oi&&t(new Ci($t(n)),i),i=s,n=a):i=ia.oi}).next(function(){i!==ia.oi&&t(new Ci($t(n)),i)})},e.prototype.vo=function(e){return this.db.Rc().ha(e)},e}(),$a=function(){function e(e,t,n){this.persistence=e,this.Sc=t,this.Dc=new qi(L),this.Cc=new Li(function(e){return H(e)},W),this.Nc=Mi.min(),this.vr=e.Ic(n),this.Fc=e.Rc(),this.Ha=e.Ac(),this.xc=new ga(this.Fc,this.vr,this.persistence.Pc()),this.Sc.$c(this.xc)}return e.prototype.Eo=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.bo(n,t.Dc)})},e}(),Za=function(){function e(){this.Mc=new Hi(es.Oc),this.Lc=new Hi(es.Bc)}return e.prototype.m=function(){return this.Mc.m()},e.prototype.Fa=function(e,t){var n=new es(e,t);this.Mc=this.Mc.add(n),this.Lc=this.Lc.add(n)},e.prototype.qc=function(e,t){var n=this;e.forEach(function(e){return n.Fa(e,t)})},e.prototype.$a=function(e,t){this.Uc(new es(e,t))},e.prototype.Qc=function(e,t){var n=this;e.forEach(function(e){return n.$a(e,t)})},e.prototype.Wc=function(e){var t=this,n=new Ci(new Ei([])),r=new es(n,e),i=new es(n,e+1),o=[];return this.Lc.Nt([r,i],function(e){t.Uc(e),o.push(e.key)}),o},e.prototype.jc=function(){var e=this;this.Mc.forEach(function(t){return e.Uc(t)})},e.prototype.Uc=function(e){this.Mc=this.Mc.delete(e),this.Lc=this.Lc.delete(e)},e.prototype.Kc=function(e){var t=new Ci(new Ei([])),n=new es(t,e),r=new es(t,e+1),i=J();return this.Lc.Nt([n,r],function(e){i=i.add(e.key)}),i},e.prototype.zo=function(e){var t=new es(e,0),n=this.Mc.xt(t);return null!==n&&e.isEqual(n.key)},e}(),es=function(){function e(e,t){this.key=e,this.Gc=t}return e.Oc=function(e,t){return Ci.i(e.key,t.key)||L(e.Gc,t.Gc)},e.Bc=function(e,t){return L(e.Gc,t.Gc)||Ci.i(e.key,t.key)},e}(),ts=function(e,t){this.user=t,this.type="OAuth",this.zc={},this.zc.Authorization="Bearer "+e},ns=function(){function e(){this.Hc=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.Yc=function(){},e.prototype.Jc=function(e){this.Hc=e,e(ra.UNAUTHENTICATED)},e.prototype.Xc=function(){this.Hc=null},e}(),rs=function(){function e(e){var t=this;this.Zc=null,this.currentUser=ra.UNAUTHENTICATED,this.tu=!1,this.eu=0,this.Hc=null,this.forceRefresh=!1,this.Zc=function(){t.eu++,t.currentUser=t.nu(),t.tu=!0,t.Hc&&t.Hc(t.currentUser)},this.eu=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Zc):(this.Zc(null),e.get().then(function(e){t.auth=e,t.Zc&&t.auth.addAuthTokenListener(t.Zc)},function(){}))}return e.prototype.getToken=function(){var e=this,t=this.eu,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.eu!==t?(i("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(c("string"==typeof n.accessToken),new ts(n.accessToken,e.currentUser)):null}):Promise.resolve(null)},e.prototype.Yc=function(){this.forceRefresh=!0},e.prototype.Jc=function(e){this.Hc=e,this.tu&&e(this.currentUser)},e.prototype.Xc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Zc),this.Zc=null,this.Hc=null},e.prototype.nu=function(){var e=this.auth&&this.auth.getUid();return c(null===e||"string"==typeof e),new ra(e)},e}(),is=function(){function e(e,t){this.su=e,this.iu=t,this.type="FirstParty",this.user=ra.ei}return Object.defineProperty(e.prototype,"zc",{get:function(){var e={"X-Goog-AuthUser":this.iu},t=this.su.auth.ru([]);return t&&(e.Authorization=t),e},enumerable:!1,configurable:!0}),e}(),os=function(){function e(e,t){this.su=e,this.iu=t}return e.prototype.getToken=function(){return Promise.resolve(new is(this.su,this.iu))},e.prototype.Jc=function(e){e(ra.ei)},e.prototype.Xc=function(){},e.prototype.Yc=function(){},e}(),as=function(){function e(e,t,n,r,i,o){this._n=e,this.ou=n,this.au=r,this.cu=i,this.listener=o,this.state=0,this.uu=0,this.hu=null,this.stream=null,this.gs=new Wo(e,t)}return e.prototype.lu=function(){return 1===this.state||2===this.state||4===this.state},e.prototype._u=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.fu()},e.prototype.stop=function(){return hi.__awaiter(this,void 0,void 0,function(){return hi.__generator(this,function(e){switch(e.label){case 0:return this.lu()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.du=function(){this.state=0,this.gs.reset()},e.prototype.wu=function(){var e=this;this._u()&&null===this.hu&&(this.hu=this._n.gn(this.ou,6e4,function(){return e.mu()}))},e.prototype.Tu=function(e){this.Eu(),this.stream.send(e)},e.prototype.mu=function(){return hi.__awaiter(this,void 0,void 0,function(){return hi.__generator(this,function(e){return this._u()?[2,this.close(0)]:[2]})})},e.prototype.Eu=function(){this.hu&&(this.hu.cancel(),this.hu=null)},e.prototype.close=function(e,t){return hi.__awaiter(this,void 0,void 0,function(){return hi.__generator(this,function(n){switch(n.label){case 0:return this.Eu(),this.gs.cancel(),this.uu++,3!==e?this.gs.reset():t&&t.code===yi.RESOURCE_EXHAUSTED?(o(t.toString()),o("Using maximum backoff delay to prevent overloading the backend."),this.gs.An()):t&&t.code===yi.UNAUTHENTICATED&&this.cu.Yc(),null!==this.stream&&(this.Iu(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Au(t)];case 1:return n.sent(),[2]}})})},e.prototype.Iu=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.Ru(this.uu),n=this.uu;this.cu.getToken().then(function(t){e.uu===n&&e.Pu(t)},function(n){t(function(){var t=new _i(yi.UNKNOWN,"Fetching auth token failed: "+n.message);return e.gu(t)})})},e.prototype.Pu=function(e){var t=this,n=this.Ru(this.uu);this.stream=this.yu(e),this.stream.Vu(function(){n(function(){return t.state=2,t.listener.Vu()})}),this.stream.Au(function(e){n(function(){return t.gu(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},e.prototype.fu=function(){var e=this;this.state=4,this.gs.Rn(function(){return hi.__awaiter(e,void 0,void 0,function(){return hi.__generator(this,function(e){return this.state=0,this.start(),[2]})})})},e.prototype.gu=function(e){return i("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.Ru=function(e){var t=this;return function(n){t._n.ds(function(){return t.uu===e?n():(i("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),ss=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return hi.__extends(t,e),t.prototype.yu=function(e){return this.au.pu("Listen",e)},t.prototype.onMessage=function(e){this.gs.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:u()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.Ue?(c(void 0===t||"string"==typeof t),Oi.fromBase64String(t||"")):(c(void 0===t||t instanceof Uint8Array),Oi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){var t=void 0===e.code?yi.UNKNOWN:K(e.code);return new _i(t,e.message||"")}(a);n=new ro(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;var l=t.documentChange;l.document,l.document.name,l.document.updateTime;var h=Ae(e,l.document.name),f=Se(l.document.updateTime),p=new Io({mapValue:{fields:l.document.fields}}),d=new ko(h,f,p,{}),m=l.targetIds||[],v=l.removedTargetIds||[];n=new to(m,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var g=t.documentDelete;g.document;var y=Ae(e,g.document),_=g.readTime?Se(g.readTime):Mi.min(),b=new No(y,_),w=g.removedTargetIds||[];n=new to([],w,b.key,b)}else if("documentRemove"in t){t.documentRemove;var E=t.documentRemove;E.document;var T=Ae(e,E.document),S=E.removedTargetIds||[];n=new to([],S,T,null)}else{if(!("filter"in t))return u();t.filter;var C=t.filter;C.targetId;var I=C.count||0,O=new Fi(I),A=C.targetId;n=new no(A,O)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Mi.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Mi.min():t.readTime?Se(t.readTime):Mi.min()}(e);return this.listener.bu(t,n)},t.prototype.vu=function(e){var t={};t.database=xe(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=z(r)?{documents:Me(e,r)}:{query:je(e,r)}).targetId=t.targetId,t.resumeToken.O()>0&&(n.resumeToken=Ee(e,t.resumeToken)),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return u()}}(0,t.tt);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Tu(t)},t.prototype.Su=function(e){var t={};t.database=xe(this.serializer),t.removeTarget=e,this.Tu(t)},t}(as),us=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a.Du=!1,a}return hi.__extends(t,e),Object.defineProperty(t.prototype,"Cu",{get:function(){return this.Du},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.Du=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.Iu=function(){this.Du&&this.Nu([])},t.prototype.yu=function(e){return this.au.pu("Write",e)},t.prototype.onMessage=function(e){if(c(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Du){this.gs.reset();var t=function(e,t){return e&&e.length>0?(c(void 0!==t),e.map(function(e){return function(e,t){var n=Se(e.updateTime?e.updateTime:t);n.isEqual(Mi.min())&&(n=Se(t));var r=null;return e.transformResults&&e.transformResults.length>0&&(r=e.transformResults),new yo(n,r)}(e,t)})):[]}(e.writeResults,e.commitTime),n=Se(e.commitTime);return this.listener.Fu(n,t)}return c(!e.writeResults||0===e.writeResults.length),this.Du=!0,this.listener.xu()},t.prototype.$u=function(){var e={};e.database=xe(this.serializer),this.Tu(e)},t.prototype.Nu=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return Le(t.serializer,e)})};this.Tu(n)},t}(as),cs=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.au=n,i.serializer=r,i.ku=!1,i}return hi.__extends(t,e),t.prototype.Mu=function(){if(this.ku)throw new _i(yi.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ou=function(e,t,n){var r=this;return this.Mu(),this.credentials.getToken().then(function(i){return r.au.Ou(e,t,n,i)}).catch(function(e){throw e.code===yi.UNAUTHENTICATED&&r.credentials.Yc(),e})},t.prototype.Lu=function(e,t,n){var r=this;return this.Mu(),this.credentials.getToken().then(function(i){return r.au.Lu(e,t,n,i)}).catch(function(e){throw e.code===yi.UNAUTHENTICATED&&r.credentials.Yc(),e})},t.prototype.terminate=function(){this.ku=!1},t}(function(){}),ls=function(){function e(e,t){this.os=e,this.fi=t,this.state="Unknown",this.Bu=0,this.qu=null,this.Uu=!0}return e.prototype.Qu=function(){var e=this;0===this.Bu&&(this.Wu("Unknown"),this.qu=this.os.gn("online_state_timeout",1e4,function(){return e.qu=null,e.ju("Backend didn't respond within 10 seconds."),e.Wu("Offline"),Promise.resolve()}))},e.prototype.Ku=function(e){"Online"===this.state?this.Wu("Unknown"):++this.Bu>=1&&(this.Gu(),this.ju("Connection failed 1 times. Most recent error: "+e.toString()),this.Wu("Offline"))},e.prototype.set=function(e){this.Gu(),this.Bu=0,"Online"===e&&(this.Uu=!1),this.Wu(e)},e.prototype.Wu=function(e){e!==this.state&&(this.state=e,this.fi(e))},e.prototype.ju=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Uu?(o(t),this.Uu=!1):i("OnlineStateTracker",t)},e.prototype.Gu=function(){null!==this.qu&&(this.qu.cancel(),this.qu=null)},e}(),hs=function(e,t,n,r,o){var a=this;this.zu=e,this.Hu=t,this.os=n,this.Yu={},this.Ju=[],this.Xu=new Map,this.Zu=new Set,this.th=[],this.eh=o,this.eh.nh(function(e){n.ds(function(){return hi.__awaiter(a,void 0,void 0,function(){return hi.__generator(this,function(e){switch(e.label){case 0:return zn(this)?(i("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return hi.__awaiter(this,void 0,void 0,function(){var t;return hi.__generator(this,function(n){switch(n.label){case 0:return(t=l(e)).Zu.add(4),[4,jn(t)];case 1:return n.sent(),t.sh.set("Unknown"),t.Zu.delete(4),[4,Mn(t)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})}),this.sh=new ls(n,r)},fs=function(e){this.key=e},ps=function(e){this.key=e},ds=function(){function e(e,t){this.query=e,this._h=t,this.fh=null,this.Zt=!1,this.dh=J(),this.Qt=J(),this.wh=Ot(e),this.mh=new Xi(this.wh)}return Object.defineProperty(e.prototype,"Th",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.Eh=function(e,t){var n=this,r=t?t.Ih:new Ji,i=t?t.mh:this.mh,o=t?t.Qt:this.Qt,a=i,s=!1,u=pt(this.query)&&i.size===this.query.limit?i.last():null,c=dt(this.query)&&i.size===this.query.limit?i.first():null;if(e.ut(function(e,t){var l=i.get(e),h=t instanceof ko?t:null;h&&(h=It(n.query,h)?h:null);var f=!!l&&n.Qt.has(l.key),p=!!h&&(h.Ye||n.Qt.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.Ah(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.wh(h,u)>0||c&&n.wh(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(h?(a=a.add(h),o=p?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))}),pt(this.query)||dt(this.query))for(;a.size>this.query.limit;){var l=pt(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{mh:a,Ih:r,Rh:s,Qt:o}},e.prototype.Ah=function(e,t){return e.Ye&&t.hasCommittedMutations&&!t.Ye},e.prototype.gr=function(e,t,n){var r=this,i=this.mh;this.mh=e.mh,this.Qt=e.Qt;var o=e.Ih.qt();o.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return u()}};return n(e)-n(t)}(e.type,t.type)||r.wh(e.doc,t.doc)}),this.Ph(n);var a=t?this.gh():[],s=0===this.dh.size&&this.Zt?1:0,c=s!==this.fh;return this.fh=s,0!==o.length||c?{snapshot:new $i(this.query,e.mh,i,o,e.Qt,0===s,c,!1),yh:a}:{yh:a}},e.prototype.Us=function(e){return this.Zt&&"Offline"===e?(this.Zt=!1,this.gr({mh:this.mh,Ih:new Ji,Qt:this.Qt,Rh:!1},!1)):{yh:[]}},e.prototype.Vh=function(e){return!this._h.has(e)&&!!this.mh.has(e)&&!this.mh.get(e).Ye},e.prototype.Ph=function(e){var t=this;e&&(e.te.forEach(function(e){return t._h=t._h.add(e)}),e.ee.forEach(function(e){}),e.ne.forEach(function(e){return t._h=t._h.delete(e)}),this.Zt=e.Zt)},e.prototype.gh=function(){var e=this;if(!this.Zt)return[];var t=this.dh;this.dh=J(),this.mh.forEach(function(t){e.Vh(t.key)&&(e.dh=e.dh.add(t.key))});var n=[];return t.forEach(function(t){e.dh.has(t)||n.push(new ps(t))}),this.dh.forEach(function(e){t.has(e)||n.push(new fs(e))}),n},e.prototype.ph=function(e){this._h=e.kc,this.dh=J();var t=this.Eh(e.documents);return this.gr(t,!0)},e.prototype.bh=function(){return $i.Kt(this.query,this.mh,this.Qt,0===this.fh)},e}(),ms=function(e,t,n){this.query=e,this.targetId=t,this.view=n},vs=function(e){this.key=e,this.Sh=!1},gs=function(){function e(e,t,n,r,i,o){this.zu=e,this.Dh=t,this.Ch=n,this.Nh=r,this.currentUser=i,this.Fh=o,this.xh={},this.$h=new Li(function(e){return St(e)},Tt),this.kh=new Map,this.Mh=[],this.Oh=new qi(Ci.i),this.Lh=new Map,this.Bh=new Za,this.qh={},this.Uh=new Map,this.Qh=Ga.Ta(),this.onlineState="Unknown",this.Wh=void 0}return Object.defineProperty(e.prototype,"jh",{get:function(){return!0===this.Wh},enumerable:!1,configurable:!0}),e}(),ys=function(){function e(){}return e.prototype.$c=function(e){this.Jh=e},e.prototype.Or=function(e,t,n,o){var a=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.rn.length||1===e.rn.length&&e.rn[0].field.p())}(t)||n.isEqual(Mi.min())?this.Xh(e,t):this.Jh.$r(e,o).next(function(s){var u=a.Zh(t,s);return(pt(t)||dt(t))&&a.Rh(t.on,u,o,n)?a.Xh(e,t):(r()<=pi.LogLevel.DEBUG&&i("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ct(t)),a.Jh.Or(e,t,n).next(function(e){return u.forEach(function(t){e=e.rt(t.key,t)}),e}))})},e.prototype.Zh=function(e,t){var n=new Hi(Ot(e));return t.forEach(function(t,r){r instanceof ko&&It(e,r)&&(n=n.add(r))}),n},e.prototype.Rh=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},e.prototype.Xh=function(e,t){return r()<=pi.LogLevel.DEBUG&&i("IndexFreeQueryEngine","Using full collection scan to execute query:",Ct(t)),this.Jh.Or(e,t,Mi.min())},e}(),_s=function(){function e(e,t){this.Sr=e,this.Co=t,this.vr=[],this.tl=1,this.el=new Hi(es.Oc)}return e.prototype.xo=function(e){return zo.resolve(0===this.vr.length)},e.prototype.$o=function(e,t,n,r){var i=this.tl;this.tl++,this.vr.length>0&&this.vr[this.vr.length-1];var o=new fa(i,t,n,r);this.vr.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.el=this.el.add(new es(u.key,i)),this.Sr.ko(e,u.key.path.h())}return zo.resolve(o)},e.prototype.Mo=function(e,t){return zo.resolve(this.nl(t))},e.prototype.Lo=function(e,t){var n=t+1,r=this.sl(n),i=r<0?0:r;return zo.resolve(this.vr.length>i?this.vr[i]:null)},e.prototype.Bo=function(){return zo.resolve(0===this.vr.length?-1:this.tl-1)},e.prototype.qo=function(e){return zo.resolve(this.vr.slice())},e.prototype.Cr=function(e,t){var n=this,r=new es(t,0),i=new es(t,Number.POSITIVE_INFINITY),o=[];return this.el.Nt([r,i],function(e){var t=n.nl(e.Gc);o.push(t)}),zo.resolve(o)},e.prototype.Mr=function(e,t){var n=this,r=new Hi(L);return t.forEach(function(e){var t=new es(e,0),i=new es(e,Number.POSITIVE_INFINITY);n.el.Nt([t,i],function(e){r=r.add(e.Gc)})}),zo.resolve(this.il(r))},e.prototype.Qr=function(e,t){var n=t.path,r=n.length+1,i=n;Ci.F(i)||(i=i.child(""));var o=new es(new Ci(i),0),a=new Hi(L);return this.el.Ft(function(e){var t=e.key.path;return!!n.T(t)&&(t.length===r&&(a=a.add(e.Gc)),!0)},o),zo.resolve(this.il(a))},e.prototype.il=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.nl(e);null!==r&&n.push(r)}),n},e.prototype.Qo=function(e,t){var n=this;c(0===this.rl(t.batchId,"removed")),this.vr.shift();var r=this.el;return zo.forEach(t.mutations,function(i){var o=new es(i.key,t.batchId);return r=r.delete(o),n.Co.Ko(e,i.key)}).next(function(){n.el=r})},e.prototype.jo=function(e){},e.prototype.zo=function(e,t){var n=new es(t,0),r=this.el.xt(n);return zo.resolve(t.isEqual(r&&r.key))},e.prototype.Go=function(e){return this.vr.length,zo.resolve()},e.prototype.rl=function(e,t){return this.sl(e)},e.prototype.sl=function(e){return 0===this.vr.length?0:e-this.vr[0].batchId},e.prototype.nl=function(e){var t=this.sl(e);return t<0||t>=this.vr.length?null:this.vr[t]},e}(),bs=function(){function e(e,t){this.Sr=e,this.ol=t,this.docs=new qi(Ci.i),this.size=0}return e.prototype.Tr=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ol(t);return this.docs=this.docs.rt(r,{Zo:t,size:a,readTime:n}),this.size+=a-o,this.Sr.ko(e,r.path.h())},e.prototype.Ir=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.Ar=function(e,t){var n=this.docs.get(t);return zo.resolve(n?n.Zo:null)},e.prototype.getEntries=function(e,t){var n=this,r=Y();return t.forEach(function(e){var t=n.docs.get(e);r=r.rt(e,t?t.Zo:null)}),zo.resolve(r)},e.prototype.Or=function(e,t,n){for(var r=X(),i=new Ci(t.path.child("")),o=this.docs._t(i);o.It();){var a=o.Et(),s=a.key,u=a.value,c=u.Zo,l=u.readTime;if(!t.path.T(s.path))break;l.L(n)<=0||c instanceof ko&&It(t,c)&&(r=r.rt(c.key,c))}return zo.resolve(r)},e.prototype.al=function(e,t){return zo.forEach(this.docs,function(e){return t(e)})},e.prototype.aa=function(t){return new e.ca(this)},e.prototype.ha=function(e){return zo.resolve(this.size)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
bs.ca=function(e){function t(t){var n=this;return(n=e.call(this)||this).la=t,n}return hi.__extends(t,e),t.prototype.gr=function(e){var t=this,n=[];return this.dr.forEach(function(r,i){i?n.push(t.la.Tr(e,i,t.readTime)):t.la.Ir(r)}),zo.xn(n)},t.prototype.Rr=function(e,t){return this.la.Ar(e,t)},t.prototype.Pr=function(e,t){return this.la.getEntries(e,t)},t}(da);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ws=function(){function e(e){this.persistence=e,this.cl=new Li(function(e){return H(e)},W),this.lastRemoteSnapshotVersion=Mi.min(),this.highestTargetId=0,this.ul=0,this.hl=new Za,this.targetCount=0,this.ll=Ga.ma()}return e.prototype.De=function(e,t){return this.cl.forEach(function(e,n){return t(n)}),zo.resolve()},e.prototype.Ra=function(e){return zo.resolve(this.lastRemoteSnapshotVersion)},e.prototype.Pa=function(e){return zo.resolve(this.ul)},e.prototype.Ea=function(e){return this.highestTargetId=this.ll.next(),zo.resolve(this.highestTargetId)},e.prototype.ga=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ul&&(this.ul=t),zo.resolve()},e.prototype.Va=function(e){this.cl.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ll=new Ga(t),this.highestTargetId=t),e.sequenceNumber>this.ul&&(this.ul=e.sequenceNumber)},e.prototype.ya=function(e,t){return this.Va(t),this.targetCount+=1,zo.resolve()},e.prototype.ba=function(e,t){return this.Va(t),zo.resolve()},e.prototype.va=function(e,t){return this.cl.delete(t.target),this.hl.Wc(t.targetId),this.targetCount-=1,zo.resolve()},e.prototype.Vo=function(e,t,n){var r=this,i=0,o=[];return this.cl.forEach(function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.cl.delete(a),o.push(r.Sa(e,s.targetId)),i++)}),zo.xn(o).next(function(){return i})},e.prototype.Da=function(e){return zo.resolve(this.targetCount)},e.prototype.Ca=function(e,t){var n=this.cl.get(t)||null;return zo.resolve(n)},e.prototype.Na=function(e,t,n){return this.hl.qc(t,n),zo.resolve()},e.prototype.xa=function(e,t,n){this.hl.Qc(t,n);var r=this.persistence.Co,i=[];return r&&t.forEach(function(t){i.push(r.Ko(e,t))}),zo.xn(i)},e.prototype.Sa=function(e,t){return this.hl.Wc(t),zo.resolve()},e.prototype.ka=function(e,t){var n=this.hl.Kc(t);return zo.resolve(n)},e.prototype.zo=function(e,t){return zo.resolve(this.hl.zo(t))},e}(),Es=function(){function e(e){var t=this;this._l={},this.Ba=new ia(0),this.qa=!1,this.qa=!0,this.Co=e(this),this.Ha=new ws(this),this.Sr=new Oa,this.br=new bs(this.Sr,function(e){return t.Co.fl(e)})}return e.prototype.start=function(){return Promise.resolve()},e.prototype.Si=function(){return this.qa=!1,Promise.resolve()},Object.defineProperty(e.prototype,"Ti",{get:function(){return this.qa},enumerable:!1,configurable:!0}),e.prototype.nc=function(){},e.prototype.sc=function(){},e.prototype.Pc=function(){return this.Sr},e.prototype.Ic=function(e){var t=this._l[e.Zs()];return t||(t=new _s(this.Sr,this.Co),this._l[e.Zs()]=t),t},e.prototype.Ac=function(){return this.Ha},e.prototype.Rc=function(){return this.br},e.prototype.runTransaction=function(e,t,n){var r=this;i("MemoryPersistence","Starting transaction:",e);var o=new Ts(this.Ba.next());return this.Co.dl(),n(o).next(function(e){return r.Co.wl(o).next(function(){return e})}).Nn().then(function(e){return o.pr(),e})},e.prototype.ml=function(e,t){return zo.$n(Object.values(this._l).map(function(n){return function(){return n.zo(e,t)}}))},e}(),Ts=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ma=t,n}return hi.__extends(t,e),t}(va),Ss=function(){function e(e){this.persistence=e,this.Tl=new Za,this.El=null}return e.Il=function(t){return new e(t)},Object.defineProperty(e.prototype,"Al",{get:function(){if(this.El)return this.El;throw u()},enumerable:!1,configurable:!0}),e.prototype.Fa=function(e,t,n){return this.Tl.Fa(n,t),this.Al.delete(n.toString()),zo.resolve()},e.prototype.$a=function(e,t,n){return this.Tl.$a(n,t),this.Al.add(n.toString()),zo.resolve()},e.prototype.Ko=function(e,t){return this.Al.add(t.toString()),zo.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.Tl.Wc(t.targetId).forEach(function(e){return n.Al.add(e.toString())});var r=this.persistence.Ac();return r.ka(e,t.targetId).next(function(e){e.forEach(function(e){return n.Al.add(e.toString())})}).next(function(){return r.va(e,t)})},e.prototype.dl=function(){this.El=new Set},e.prototype.wl=function(e){var t=this,n=this.persistence.Rc().aa();return zo.forEach(this.Al,function(r){var i=Ci.D(r);return t.Rl(e,i).next(function(e){e||n.Ir(i)})}).next(function(){return t.El=null,n.apply(e)})},e.prototype.vc=function(e,t){var n=this;return this.Rl(e,t).next(function(e){e?n.Al.delete(t.toString()):n.Al.add(t.toString())})},e.prototype.fl=function(e){return 0},e.prototype.Rl=function(e,t){var n=this;return zo.$n([function(){return zo.resolve(n.Tl.zo(t))},function(){return n.persistence.Ac().zo(e,t)},function(){return n.persistence.ml(e,t)}])},e}(),Cs=function(){function e(e){this.Pl=e.Pl,this.gl=e.gl}return e.prototype.Vu=function(e){this.yl=e},e.prototype.Au=function(e){this.Vl=e},e.prototype.onMessage=function(e){this.pl=e},e.prototype.close=function(){this.gl()},e.prototype.send=function(e){this.Pl(e)},e.prototype.bl=function(){this.yl()},e.prototype.vl=function(e){this.Vl(e)},e.prototype.Sl=function(e){this.pl(e)},e}(),Is={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Os=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n}return hi.__extends(t,e),t.prototype.$l=function(e,t,n,r){return new Promise(function(o,a){var s=new mi.XhrIo;s.listenOnce(mi.EventType.COMPLETE,function(){try{switch(s.getLastErrorCode()){case mi.ErrorCode.NO_ERROR:var t=s.getResponseJson();i("Connection","XHR received:",JSON.stringify(t)),o(t);break;case mi.ErrorCode.TIMEOUT:i("Connection",'RPC "'+e+'" timed out'),a(new _i(yi.DEADLINE_EXCEEDED,"Request time out"));break;case mi.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(i("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var c=function(e){var t=e.toLowerCase().replace("_","-");return Object.values(yi).indexOf(t)>=0?t:yi.UNKNOWN}(r.status);a(new _i(c,r.message))}else a(new _i(yi.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new _i(yi.UNAVAILABLE,"Connection failed."));break;default:u()}}finally{i("Connection",'RPC "'+e+'" completed.')}});var c=JSON.stringify(r);s.send(t,"POST",c,n,15)})},t.prototype.pu=function(e,t){var n=[this.Cl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=mi.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.xl(o.initMessageHeaders,t),di.isMobileCordova()||di.isReactNative()||di.isElectron()||di.isIE()||di.isUWP()||di.isBrowserExtension()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");i("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),l=!1,h=!1,f=new Cs({Pl:function(e){h?i("Connection","Not sending because WebChannel is closed:",e):(l||(i("Connection","Opening WebChannel transport."),u.open(),l=!0),i("Connection","WebChannel sending:",e),u.send(e))},gl:function(){return u.close()}}),p=function(e,t){u.listen(e,function(e){try{t(e)}catch(e){setTimeout(function(){throw e},0)}})};return p(mi.WebChannel.EventType.OPEN,function(){h||i("Connection","WebChannel transport opened.")}),p(mi.WebChannel.EventType.CLOSE,function(){h||(h=!0,i("Connection","WebChannel transport closed"),f.vl())}),p(mi.WebChannel.EventType.ERROR,function(e){h||(h=!0,a("Connection","WebChannel transport errored:",e),f.vl(new _i(yi.UNAVAILABLE,"The operation could not be completed")))}),p(mi.WebChannel.EventType.MESSAGE,function(e){var t;if(!h){var n=e.data[0];c(!!n);var r=n,o=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(o){i("Connection","WebChannel received error:",o);var a=o.status,s=function(e){var t=Ai[e];if(void 0!==t)return K(t)}(a),l=o.message;void 0===s&&(s=yi.INTERNAL,l="Unknown error status: "+a+" with message "+o.message),h=!0,f.vl(new _i(s,l)),u.close()}else i("Connection","WebChannel received:",n),f.Sl(n)}}),setTimeout(function(){f.bl()},0),f},t}(function(){function e(e){this.Dl=e,this.U=e.U;var t=e.ssl?"https":"http";this.Cl=t+"://"+e.host,this.Nl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return e.prototype.Ou=function(e,t,n,r){var o=this.Fl(e,t);i("RestConnection","Sending: ",o,n);var s={};return this.xl(s,r),this.$l(e,o,s,n).then(function(e){return i("RestConnection","Received: ",e),e},function(t){throw a("RestConnection",e+" failed with error: ",t,"url: ",o,"request:",n),t})},e.prototype.Lu=function(e,t,n,r){return this.Ou(e,t,n,r)},e.prototype.xl=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/7.21.0",e["Content-Type"]="text/plain",t)for(var n in t.zc)t.zc.hasOwnProperty(n)&&(e[n]=t.zc[n])},e.prototype.Fl=function(e,t){var n=Is[e];return this.Cl+"/v1/"+t+":"+n},e}()),As=function(){function e(){var e=this;this.kl=function(){return e.Ml()},this.Ol=function(){return e.Ll()},this.Bl=[],this.ql()}return e.prototype.nh=function(e){this.Bl.push(e)},e.prototype.Si=function(){window.removeEventListener("online",this.kl),window.removeEventListener("offline",this.Ol)},e.prototype.ql=function(){window.addEventListener("online",this.kl),window.addEventListener("offline",this.Ol)},e.prototype.Ml=function(){i("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.Bl;e<t.length;e++)(0,t[e])(0)},e.prototype.Ll=function(){i("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.Bl;e<t.length;e++)(0,t[e])(1)},e.On=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),ks=function(){function e(){}return e.prototype.nh=function(e){},e.prototype.Si=function(){},e}(),Ns="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",xs=function(){function e(){}return e.prototype.initialize=function(e){return hi.__awaiter(this,void 0,void 0,function(){return hi.__generator(this,function(t){switch(t.label){case 0:return this.Nh=this.Ul(e),this.persistence=this.Ql(e),[4,this.persistence.start()];case 1:return t.sent(),this.Wl=this.jl(e),this.zu=this.Kl(e),[2]}})})},e.prototype.jl=function(e){return null},e.prototype.Kl=function(e){return t=this.persistence,n=new ys,r=e.Gl,new $a(t,n,r);var t,n,r},e.prototype.Ql=function(e){if(e.persistenceSettings.zl)throw new _i(yi.FAILED_PRECONDITION,Ns);return new Es(Ss.Il)},e.prototype.Ul=function(e){return new ha},e.prototype.terminate=function(){return hi.__awaiter(this,void 0,void 0,function(){return hi.__generator(this,function(e){switch(e.label){case 0:return this.Wl&&this.Wl.stop(),[4,this.Nh.Si()];case 1:return e.sent(),[4,this.persistence.Si()];case 2:return e.sent(),[2]}})})},e.prototype.clearPersistence=function(e,t){throw new _i(yi.FAILED_PRECONDITION,Ns)},e}(),Ps=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hi.__extends(t,e),t.prototype.initialize=function(t){return hi.__awaiter(this,void 0,void 0,function(){var n,r=this;return hi.__generator(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Hl._i,this.Nh instanceof la?(this.Nh._i={tr:Or.bind(null,n),er:Pr.bind(null,n),nr:Rr.bind(null,n),Vi:xr.bind(null,n)},[4,this.Nh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.ec(function(e){return hi.__awaiter(r,void 0,void 0,function(){return hi.__generator(this,function(t){switch(t.label){case 0:return[4,Ar(this.Hl._i,e)];case 1:return t.sent(),this.Wl&&(e&&!this.Wl.Ti?this.Wl.start(this.zu):e||this.Wl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},t.prototype.Ul=function(e){if(e.persistenceSettings.zl&&e.persistenceSettings.synchronizeTabs){var t=jt();if(!la.On(t))throw new _i(yi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=In(e.Dl.U,e.Dl.persistenceKey);return new la(t,e.os,n,e.clientId,e.Gl)}return new ha},t}(function(e){function t(t){var n=this;return(n=e.call(this)||this).Hl=t,n}return hi.__extends(t,e),t.prototype.initialize=function(t){return hi.__awaiter(this,void 0,void 0,function(){return hi.__generator(this,function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,function(e){return hi.__awaiter(this,void 0,void 0,function(){var t,n;return hi.__generator(this,function(r){return t=l(e),n=l(t.Fc),[2,t.persistence.runTransaction("Synchronize last document change read time","readonly",function(e){return n.oa(e)}).then(function(e){t.Nc=e})]})})}(this.zu)];case 2:return n.sent(),[4,this.Hl.initialize(this,t)];case 3:return n.sent(),[4,Dr(this.Hl._i)];case 4:return n.sent(),[4,$n(this.Hl.Dh)];case 5:return n.sent(),[2]}})})},t.prototype.jl=function(e){var t=this.persistence.Co.do;return new Ea(t,e.os)},t.prototype.Ql=function(e){var t=In(e.Dl.U,e.Dl.persistenceKey),n=Mr(e.Dl.U);return new Xa(e.persistenceSettings.synchronizeTabs,t,e.clientId,wa.oo(e.persistenceSettings.cacheSizeBytes),e.os,jt(),Ut(),n,this.Nh,e.persistenceSettings.La)},t.prototype.Ul=function(e){return new ha},t.prototype.clearPersistence=function(e,t){return function(e){return hi.__awaiter(this,void 0,void 0,function(){var t;return hi.__generator(this,function(n){switch(n.label){case 0:return Go.On()?(t=e+"main",[4,Go.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(In(e,t))},t}(xs)),Rs=function(){function e(){}return e.prototype.initialize=function(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n=this;return hi.__generator(this,function(r){switch(r.label){case 0:return this.zu?[3,2]:(this.zu=e.zu,this.Nh=e.Nh,this.Hu=this.Yl(t),this.Dh=this.Jl(t),this.Ch=this.Xl(t),this._i=this.Zl(t),this.Nh.fi=function(e){return fr(n._i,e,1)},this.Dh.Yu.t_=Sr.bind(null,this._i),[4,or(this.Dh,this._i.jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.Xl=function(e){return new ta},e.prototype.Yl=function(e){var t,n=Mr(e.Dl.U),r=(t=e.Dl,new Os(t));return function(e,t,n){return new cs(e,t,n)}(e.credentials,r,n)},e.prototype.Jl=function(e){var t,n,r,i,o,a=this;return t=this.zu,n=this.Hu,r=e.os,i=function(e){return fr(a._i,e,0)},o=As.On()?new As:new ks,new hs(t,n,r,i,o)},e.prototype.Zl=function(e){return function(e,t,n,r,i,o,a){var s=new gs(e,t,n,r,i,o);return a&&(s.Wh=!0),s}(this.zu,this.Dh,this.Ch,this.Nh,e.Gl,e.Fh,!e.persistenceSettings.zl||!e.persistenceSettings.synchronizeTabs)},e.prototype.terminate=function(){return Un(this.Dh)},e}(),Ls=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.e_(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.e_(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.n_=function(){this.muted=!0},e.prototype.e_=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),Ds=function(e){!function(e,t,n,r){if(!(t instanceof Array)||t.length<1)throw new _i(yi.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+P(1,"element")+".")}(0,e);for(var t=0;t<e.length;++t)if(y("FieldPath","string",t,e[t]),0===e[t].length)throw new _i(yi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.s_=new Si(e)},Ms=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.call(this,t)||this}return hi.__extends(t,e),t.documentId=function(){return new t(Si.v().R())},t.prototype.isEqual=function(e){if(!(e instanceof t))throw k("isEqual","FieldPath",1,e);return this.s_.isEqual(e.s_)},t}(Ds),js=new RegExp("[~\\*/\\[\\]]"),Us=function(){this.i_=this},Fs=function(e){function t(t){var n=this;return(n=e.call(this)||this).r_=t,n}return hi.__extends(t,e),t.prototype.o_=function(e){if(2!==e.a_)throw 1===e.a_?e.c_(this.r_+"() can only appear at the top level of your update data"):e.c_(this.r_+"() cannot be used with set() unless you pass {merge:true}");return e.Qe.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Us),qs=function(e){function t(t){var n=this;return(n=e.call(this)||this).r_=t,n}return hi.__extends(t,e),t.prototype.o_=function(e){return new go(e.path,new ho)},t.prototype.isEqual=function(e){return e instanceof t},t}(Us),Vs=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).r_=t,r.l_=n,r}return hi.__extends(t,e),t.prototype.o_=function(e){var t=jr(this,e,!0),n=this.l_.map(function(e){return Hr(e,t)}),r=new fo(n);return new go(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Us),Bs=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).r_=t,r.l_=n,r}return hi.__extends(t,e),t.prototype.o_=function(e){var t=jr(this,e,!0),n=this.l_.map(function(e){return Hr(e,t)}),r=new po(n);return new go(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Us),Hs=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).r_=t,r.__=n,r}return hi.__extends(t,e),t.prototype.o_=function(e){var t=new mo(e.serializer,be(e.serializer,this.__));return new go(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Us),Ws=function(e){function t(){return e.call(this)||this}return hi.__extends(t,e),t.delete=function(){return d("FieldValue.delete",arguments),new zs(new Fs("FieldValue.delete"))},t.serverTimestamp=function(){return d("FieldValue.serverTimestamp",arguments),new zs(new qs("FieldValue.serverTimestamp"))},t.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return v("FieldValue.arrayUnion",arguments,1),new zs(new Vs("FieldValue.arrayUnion",e))},t.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return v("FieldValue.arrayRemove",arguments,1),new zs(new Bs("FieldValue.arrayRemove",e))},t.increment=function(e){return y("FieldValue.increment","number",1,e),m("FieldValue.increment",arguments,1),new zs(new Hs("FieldValue.increment",e))},t}(Us),zs=function(e){function t(t){var n=this;return(n=e.call(this)||this).i_=t,n.r_=t.r_,n}return hi.__extends(t,e),t.prototype.o_=function(e){return this.i_.o_(e)},t.prototype.isEqual=function(e){return e instanceof t&&this.i_.isEqual(e.i_)},t}(Ws),Gs=function(){function e(e,t){if(m("GeoPoint",arguments,2),y("GeoPoint","number",1,e),y("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new _i(yi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _i(yi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this.f_=e,this.d_=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this.f_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.d_},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.f_===e.f_&&this.d_===e.d_},e.prototype.toJSON=function(){return{latitude:this.f_,longitude:this.d_}},e.prototype.H=function(e){return L(this.f_,e.f_)||L(this.d_,e.d_)},e}(),Ks=/^__.*__$/,Qs=function(e,t,n){this.w_=e,this.m_=t,this.T_=n},Ys=function(){function e(e,t,n){this.data=e,this.Qe=t,this.fieldTransforms=n}return e.prototype.E_=function(e,t){var n=[];return null!==this.Qe?n.push(new Eo(e,this.data,this.Qe,t)):n.push(new wo(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new To(e,this.fieldTransforms)),n},e}(),Xs=function(){function e(e,t,n){this.data=e,this.Qe=t,this.fieldTransforms=n}return e.prototype.E_=function(e,t){var n=[new Eo(e,this.data,this.Qe,t)];return this.fieldTransforms.length>0&&n.push(new To(e,this.fieldTransforms)),n},e}(),Js=function(){function e(e,t,n,r,i,o){this.settings=e,this.U=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.I_(),this.fieldTransforms=i||[],this.Qe=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"a_",{get:function(){return this.settings.a_},enumerable:!1,configurable:!0}),e.prototype.A_=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},e.prototype.R_=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.A_({path:n,h_:!1});return r.P_(e),r},e.prototype.g_=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.A_({path:n,h_:!1});return r.I_(),r},e.prototype.y_=function(e){return this.A_({path:void 0,h_:!0})},e.prototype.c_=function(e){return Yr(e,this.settings.methodName,this.settings.V_||!1,this.path,this.settings.u_)},e.prototype.contains=function(e){return void 0!==this.Qe.find(function(t){return e.T(t)})||void 0!==this.fieldTransforms.find(function(t){return e.T(t.field)})},e.prototype.I_=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.P_(this.path.get(e))},e.prototype.P_=function(e){if(0===e.length)throw this.c_("Document fields must not be empty");if(Ur(this.a_)&&Ks.test(e))throw this.c_('Document fields cannot begin and end with "__"')},e}(),$s=function(){function e(e,t,n){this.U=e,this.ignoreUndefinedProperties=t,this.serializer=n||Mr(e)}return e.prototype.p_=function(e,t,n,r){return void 0===r&&(r=!1),new Js({a_:e,methodName:t,u_:n,path:Si.g(),h_:!1,V_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},e}(),Zs=function(){function e(e){this.Hu=e,this.b_=new Map,this.mutations=[],this.v_=!1,this.S_=null,this.D_=new Set}return e.prototype.C_=function(e){return hi.__awaiter(this,void 0,void 0,function(){var t,n=this;return hi.__generator(this,function(r){switch(r.label){case 0:if(this.N_(),this.mutations.length>0)throw new _i(yi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,s;return hi.__generator(this,function(h){switch(h.label){case 0:return n=l(e),r=xe(n.serializer)+"/documents",i={documents:t.map(function(e){return Oe(n.serializer,e)})},[4,n.Lu("BatchGetDocuments",r,i)];case 1:return o=h.sent(),a=new Map,o.forEach(function(e){var t=function(e,t){return"found"in t?function(e,t){c(!!t.found),t.found.name,t.found.updateTime;var n=Ae(e,t.found.name),r=Se(t.found.updateTime),i=new Io({mapValue:{fields:t.found.fields}});return new ko(n,r,i,{})}(e,t):"missing"in t?function(e,t){c(!!t.missing),c(!!t.readTime);var n=Ae(e,t.missing),r=Se(t.readTime);return new No(n,r)}(e,t):u()}(n.serializer,e);a.set(t.key.toString(),t)}),s=[],[2,(t.forEach(function(e){var t=a.get(e.toString());c(!!t),s.push(t)}),s)]}})})}(this.Hu,e)];case 1:return[2,((t=r.sent()).forEach(function(e){e instanceof No||e instanceof ko?n.F_(e):u()}),t)]}})})},e.prototype.set=function(e,t){this.write(t.E_(e,this.Ke(e))),this.D_.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.E_(e,this.x_(e)))}catch(e){this.S_=e}this.D_.add(e.toString())},e.prototype.delete=function(e){this.write([new So(e,this.Ke(e))]),this.D_.add(e.toString())},e.prototype.commit=function(){return hi.__awaiter(this,void 0,void 0,function(){var e,t=this;return hi.__generator(this,function(n){switch(n.label){case 0:if(this.N_(),this.S_)throw this.S_;return e=this.b_,this.mutations.forEach(function(t){e.delete(t.key.toString())}),e.forEach(function(e,n){var r=Ci.D(n);t.mutations.push(new Co(r,t.Ke(r)))}),[4,function(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n,r,i;return hi.__generator(this,function(o){switch(o.label){case 0:return n=l(e),r=xe(n.serializer)+"/documents",i={writes:t.map(function(e){return Le(n.serializer,e)})},[4,n.Ou("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Hu,this.mutations)];case 1:return n.sent(),this.v_=!0,[2]}})})},e.prototype.F_=function(e){var t;if(e instanceof ko)t=e.version;else{if(!(e instanceof No))throw u();t=Mi.min()}var n=this.b_.get(e.key.toString());if(n){if(!t.isEqual(n))throw new _i(yi.ABORTED,"Document version changed between two reads.")}else this.b_.set(e.key.toString(),t)},e.prototype.Ke=function(e){var t=this.b_.get(e.toString());return!this.D_.has(e.toString())&&t?_o.updateTime(t):_o.Ge()},e.prototype.x_=function(e){var t=this.b_.get(e.toString());if(!this.D_.has(e.toString())&&t){if(t.isEqual(Mi.min()))throw new _i(yi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _o.updateTime(t)}return _o.exists(!0)},e.prototype.write=function(e){this.N_(),this.mutations=this.mutations.concat(e)},e.prototype.N_=function(){},e}(),eu=function(){function e(e,t,n,r){this.os=e,this.Hu=t,this.updateFunction=n,this.hs=r,this.k_=5,this.gs=new Wo(this.os,"transaction_retry")}return e.prototype.run=function(){this.M_()},e.prototype.M_=function(){var e=this;this.gs.Rn(function(){return hi.__awaiter(e,void 0,void 0,function(){var e,t,n=this;return hi.__generator(this,function(r){return e=new Zs(this.Hu),(t=this.O_(e))&&t.then(function(t){n.os.ds(function(){return e.commit().then(function(){n.hs.resolve(t)}).catch(function(e){n.L_(e)})})}).catch(function(e){n.L_(e)}),[2]})})})},e.prototype.O_=function(e){try{var t=this.updateFunction(e);return!F(t)&&t.catch&&t.then?t:(this.hs.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.hs.reject(e),null}},e.prototype.L_=function(e){var t=this;this.k_>0&&this.B_(e)?(this.k_-=1,this.os.ds(function(){return t.M_(),Promise.resolve()})):this.hs.reject(e)},e.prototype.B_=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!G(t)}return!1},e}(),tu=function(){function e(e,t){this.credentials=e,this.os=t,this.clientId=Ii.k(),this.q_=new Ho}return e.prototype.start=function(e,t,n,r){var o=this;this.U_(),this.Dl=e;var a=new Ho,s=!1;return this.credentials.Jc(function(e){if(!s)return s=!0,i("FirestoreClient","Initializing. user=",e.uid),o.Q_(t,n,r,e,a).then(o.q_.resolve,o.q_.reject);o.os.Ds(function(){return function(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n,r;return hi.__generator(this,function(o){switch(o.label){case 0:return(n=l(e)).os.Fs(),i("RemoteStore","RemoteStore received new credentials"),r=zn(n),n.Zu.add(3),[4,jn(n)];case 1:return o.sent(),r&&n.sh.set("Unknown"),[4,n.Yu.t_(t)];case 2:return o.sent(),n.Zu.delete(3),[4,Mn(n)];case 3:return o.sent(),[2]}})})}(o.Dh,e)})}),this.os.ds(function(){return o.q_.promise}),a.promise},e.prototype.enableNetwork=function(){var e=this;return this.U_(),this.os.enqueue(function(){return e.persistence.sc(!0),function(e){var t=l(e);return t.Zu.delete(0),Mn(t)}(e.Dh)})},e.prototype.Q_=function(e,t,n,r,i){return hi.__awaiter(this,void 0,void 0,function(){var o,a,s=this;return hi.__generator(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),o={os:this.os,Dl:this.Dl,clientId:this.clientId,credentials:this.credentials,Gl:r,Fh:100,persistenceSettings:n},[4,e.initialize(o)];case 1:return u.sent(),[4,t.initialize(e,o)];case 2:return u.sent(),this.persistence=e.persistence,this.Nh=e.Nh,this.zu=e.zu,this.Wl=e.Wl,this.Hu=t.Hu,this.Dh=t.Dh,this._i=t._i,this.W_=t.Ch,this.W_.qs=ur.bind(null,this._i),this.W_.Ws=lr.bind(null,this._i),this.persistence.nc(function(){return hi.__awaiter(s,void 0,void 0,function(){return hi.__generator(this,function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}})})}),i.resolve(),[3,4];case 3:if(a=u.sent(),i.reject(a),!this.j_(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.Q_(new xs,new Rs,{zl:!1},r,i))];case 4:return[2]}})})},e.prototype.j_=function(e){return"FirebaseError"===e.name?e.code===yi.FAILED_PRECONDITION||e.code===yi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code},e.prototype.U_=function(){if(this.os.Vs)throw new _i(yi.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.disableNetwork=function(){var e=this;return this.U_(),this.os.enqueue(function(){return e.persistence.sc(!1),function(e){return hi.__awaiter(this,void 0,void 0,function(){var t;return hi.__generator(this,function(n){switch(n.label){case 0:return(t=l(e)).Zu.add(0),[4,jn(t)];case 1:return n.sent(),t.sh.set("Offline"),[2]}})})}(e.Dh)})},e.prototype.terminate=function(){var e=this;this.os.Ss();var t=new Ho;return this.os.ps(function(){return hi.__awaiter(e,void 0,void 0,function(){var e,n;return hi.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.Wl&&this.Wl.stop(),[4,Un(this.Dh)];case 1:return r.sent(),[4,this.Nh.Si()];case 2:return r.sent(),[4,this.persistence.Si()];case 3:return r.sent(),this.credentials.Xc(),t.resolve(),[3,5];case 4:return e=r.sent(),n=Ft(e,"Failed to shutdown persistence"),t.reject(n),[3,5];case 5:return[2]}})})}),t.promise},e.prototype.waitForPendingWrites=function(){var e=this;this.U_();var t=new Ho;return this.os.ds(function(){return function(e,t){return hi.__awaiter(this,void 0,void 0,function(){var n,r,o,a,s;return hi.__generator(this,function(u){switch(u.label){case 0:zn((n=l(e)).Dh)||i("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(e){var t=l(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t.vr.Bo(e)})}(n.zu)];case 2:return-1===(r=u.sent())?[2,void t.resolve()]:((o=n.Uh.get(r)||[]).push(t),n.Uh.set(r,o),[3,4]);case 3:return a=u.sent(),s=Ft(a,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}})})}(e._i,t)}),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.U_();var i=new Ls(n),o=new na(e,i,t);return this.os.ds(function(){return qt(r.W_,o)}),function(){i.n_(),r.os.ds(function(){return Vt(r.W_,o)})}},e.prototype.K_=function(e){return hi.__awaiter(this,void 0,void 0,function(){var t,n=this;return hi.__generator(this,function(r){switch(r.label){case 0:return this.U_(),[4,this.q_.promise];case 1:return r.sent(),t=new Ho,[2,(this.os.ds(function(){return function(e,t,n){return hi.__awaiter(this,void 0,void 0,function(){var r,i,o;return hi.__generator(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(e,t){var n=l(e);return n.persistence.runTransaction("read document","readonly",function(e){return n.xc.Dr(e,t)})}(e,t)];case 1:return(r=a.sent())instanceof ko?n.resolve(r):r instanceof No?n.resolve(null):n.reject(new _i(yi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=a.sent(),o=Ft(i,"Failed to get document '"+t+" from cache"),n.reject(o),[3,3];case 3:return[2]}})})}(n.zu,e,t)}),t.promise)]}})})},e.prototype.G_=function(e,t){return void 0===t&&(t={}),hi.__awaiter(this,void 0,void 0,function(){var n,r=this;return hi.__generator(this,function(i){switch(i.label){case 0:return this.U_(),[4,this.q_.promise];case 1:return i.sent(),n=new Ho,[2,(this.os.ds(function(){return function(e,t,n,r,i){var o=new Ls({next:function(o){t.ds(function(){return Vt(e,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new _i(yi.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new _i(yi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new na(ft(n.path),o,{includeMetadataChanges:!0,Js:!0});return qt(e,a)}(r.W_,r.os,e,t,n)}),n.promise)]}})})},e.prototype.z_=function(e){return hi.__awaiter(this,void 0,void 0,function(){var t,n=this;return hi.__generator(this,function(r){switch(r.label){case 0:return this.U_(),[4,this.q_.promise];case 1:return r.sent(),t=new Ho,[2,(this.os.ds(function(){return function(e,t,n){return hi.__awaiter(this,void 0,void 0,function(){var r,i,o,a,s,u;return hi.__generator(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Rn(e,t,!0)];case 1:return r=c.sent(),i=new ds(t,r.kc),o=i.Eh(r.documents),a=i.gr(o,!1),n.resolve(a.snapshot),[3,3];case 2:return s=c.sent(),u=Ft(s,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})}(n.zu,e,t)}),t.promise)]}})})},e.prototype.H_=function(e,t){return void 0===t&&(t={}),hi.__awaiter(this,void 0,void 0,function(){var n,r=this;return hi.__generator(this,function(i){switch(i.label){case 0:return this.U_(),[4,this.q_.promise];case 1:return i.sent(),n=new Ho,[2,(this.os.ds(function(){return function(e,t,n,r,i){var o=new Ls({next:function(n){t.ds(function(){return Vt(e,a)}),n.fromCache&&"server"===r.source?i.reject(new _i(yi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new na(n,o,{includeMetadataChanges:!0,Js:!0});return qt(e,a)}(r.W_,r.os,e,t,n)}),n.promise)]}})})},e.prototype.write=function(e){var t=this;this.U_();var n=new Ho;return this.os.ds(function(){return function(e,t,n){return hi.__awaiter(this,void 0,void 0,function(){var r,i,o,a;return hi.__generator(this,function(s){switch(s.label){case 0:r=Dr(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=l(e),i=Di.now(),o=t.reduce(function(e,t){return e.add(t.key)},J());return r.persistence.runTransaction("Locally write mutations","readwrite",function(e){return r.xc.$r(e,o).next(function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=it(c,n.get(c.key));null!=l&&a.push(new Eo(c.key,l,lt(l.proto.mapValue),_o.exists(!0)))}return r.vr.$o(e,i,a,t)})}).then(function(e){var t=e.hr(n);return{batchId:e.batchId,dr:t}})}(r.zu,t)];case 2:return i=s.sent(),r.Nh.Fi(i.batchId),function(e,t,n){var r=e.qh[e.currentUser.Zs()];r||(r=new qi(L)),r=r.rt(t,n),e.qh[e.currentUser.Zs()]=r}(r,i.batchId,n),[4,Tr(r,i.dr)];case 3:return s.sent(),[4,$n(r.Dh)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Ft(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}(t._i,e,n)}),n.promise},e.prototype.U=function(){return this.Dl.U},e.prototype.Y_=function(e){var t=this;this.U_();var n=new Ls(e);return this.os.ds(function(){return hi.__awaiter(t,void 0,void 0,function(){return hi.__generator(this,function(e){return[2,function(e,t){l(e).Bs.add(t),t.next()}(this.W_,n)]})})}),function(){n.n_(),t.os.ds(function(){return hi.__awaiter(t,void 0,void 0,function(){return hi.__generator(this,function(e){return[2,function(e,t){l(e).Bs.delete(t)}(this.W_,n)]})})})}},Object.defineProperty(e.prototype,"J_",{get:function(){return this.os.Vs},enumerable:!1,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.U_();var n=new Ho;return this.os.ds(function(){return new eu(t.os,t.Hu,e,n).run(),Promise.resolve()}),n.promise},e}(),nu=function(){function e(e,t,n,r,i){this.U=e,this.timestampsInSnapshots=t,this.X_=n,this.Z_=r,this.tf=i}return e.prototype.ef=function(e){switch(re(e)){case 0:return null;case 1:return e.booleanValue;case 2:return le(e.integerValue||e.doubleValue);case 3:return this.nf(e.timestampValue);case 4:return this.sf(e);case 5:return e.stringValue;case 6:return this.tf(he(e.bytesValue));case 7:return this.if(e.referenceValue);case 8:return this.rf(e.geoPointValue);case 9:return this.af(e.arrayValue);case 10:return this.cf(e.mapValue);default:throw u()}},e.prototype.cf=function(e){var t=this,n={};return f(e.fields||{},function(e,r){n[e]=t.ef(r)}),n},e.prototype.rf=function(e){return new Gs(le(e.latitude),le(e.longitude))},e.prototype.af=function(e){var t=this;return(e.values||[]).map(function(e){return t.ef(e)})},e.prototype.sf=function(e){switch(this.X_){case"previous":var t=function e(t){var n=t.mapValue.fields.__previous_value__;return te(n)?e(n):n}(e);return null==t?null:this.ef(t);case"estimate":return this.nf(ne(e));default:return null}},e.prototype.nf=function(e){var t=ce(e),n=new Di(t.seconds,t.nanos);return this.timestampsInSnapshots?n:n.toDate()},e.prototype.if=function(e){var t=Ei.P(e);c(Ke(t));var n=new Ri(t.get(1),t.get(3)),r=new Ci(t.u(5));return n.isEqual(this.U)||o("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Z_(r)},e}(),ru=wa.uo,iu=function(){function e(e){var t,n,r,i;if(void 0===e.host){if(void 0!==e.ssl)throw new _i(yi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else b("settings","non-empty string","host",e.host),this.host=e.host,w("settings","boolean","ssl",e.ssl),this.ssl=null===(t=e.ssl)||void 0===t||t;if(A("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),w("settings","object","credentials",e.credentials),this.credentials=e.credentials,w("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),w("settings","boolean","ignoreUndefinedProperties",e.ignoreUndefinedProperties),!0===e.timestampsInSnapshots?o("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===e.timestampsInSnapshots&&o("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=e.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=e.ignoreUndefinedProperties)&&void 0!==r&&r,w("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=wa.lo;else{if(e.cacheSizeBytes!==ru&&e.cacheSizeBytes<wa.ho)throw new _i(yi.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+wa.ho);this.cacheSizeBytes=e.cacheSizeBytes}w("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=e.experimentalForceLongPolling)&&void 0!==i&&i}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),ou=function(){function e(t,n,r,i){var o=this;if(void 0===r&&(r=new xs),void 0===i&&(i=new Rs),this.uf=r,this.hf=i,this.lf=null,this._f=new Zo,this.INTERNAL={delete:function(){return hi.__awaiter(o,void 0,void 0,function(){return hi.__generator(this,function(e){switch(e.label){case 0:return this.ff(),[4,this.df.terminate()];case 1:return e.sent(),[2]}})})}},"object"==typeof t.options){var a=t;this.lf=a,this.w_=e.wf(a),this.mf=a.name,this.Tf=new rs(n)}else{var s=t;if(!s.projectId)throw new _i(yi.INVALID_ARGUMENT,"Must provide projectId");this.w_=new Ri(s.projectId,s.database),this.mf="[DEFAULT]",this.Tf=new ns}this.Ef=new iu({})}return Object.defineProperty(e.prototype,"If",{get:function(){return this.Af||(this.Af=new $s(this.w_,this.Ef.ignoreUndefinedProperties)),this.Af},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){m("Firestore.settings",arguments,1),y("Firestore.settings","object",1,e),e.merge&&delete(e=Object.assign(Object.assign({},this.Ef),e)).merge;var t=new iu(e);if(this.df&&!this.Ef.isEqual(t))throw new _i(yi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.Ef=t,void 0!==t.credentials&&(this.Tf=function(e){if(!e)return new ns;switch(e.type){case"gapi":var t=e.Rf;return c(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new os(t,e.iu||"0");case"provider":return e.Rf;default:throw new _i(yi.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.enableNetwork=function(){return this.ff(),this.df.enableNetwork()},e.prototype.disableNetwork=function(){return this.ff(),this.df.disableNetwork()},e.prototype.enablePersistence=function(e){var t,n;if(this.df)throw new _i(yi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(e&&(void 0!==e.experimentalTabSynchronization&&o("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(t=e.synchronizeTabs)&&void 0!==t?t:e.experimentalTabSynchronization)&&void 0!==n&&n,i=!!e.experimentalForceOwningTab&&e.experimentalForceOwningTab,r&&i))throw new _i(yi.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Pf(this.uf,this.hf,{zl:!0,cacheSizeBytes:this.Ef.cacheSizeBytes,synchronizeTabs:r,La:i})},e.prototype.clearPersistence=function(){return hi.__awaiter(this,void 0,void 0,function(){var e,t=this;return hi.__generator(this,function(n){if(void 0!==this.df&&!this.df.J_)throw new _i(yi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return e=new Ho,[2,(this._f.ps(function(){return hi.__awaiter(t,void 0,void 0,function(){var t;return hi.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.uf.clearPersistence(this.w_,this.mf)];case 1:return n.sent(),e.resolve(),[3,3];case 2:return t=n.sent(),e.reject(t),[3,3];case 3:return[2]}})})}),e.promise)]})})},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"gf",{get:function(){return this.ff(),this.df.J_},enumerable:!1,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.ff(),this.df.waitForPendingWrites()},e.prototype.onSnapshotsInSync=function(e){if(this.ff(),Jr(e))return this.df.Y_(e);y("Firestore.onSnapshotsInSync","function",1,e);var t={next:e};return this.df.Y_(t)},e.prototype.ff=function(){return this.df||this.Pf(new xs,new Rs,{zl:!1}),this.df},e.prototype.yf=function(){return new Pi(this.w_,this.mf,this.Ef.host,this.Ef.ssl,this.Ef.experimentalForceLongPolling)},e.prototype.Pf=function(e,t,n){var r=this.yf();return this.df=new tu(this.Tf,this._f),this.df.start(r,e,t,n)},e.wf=function(e){if(t=e.options,!Object.prototype.hasOwnProperty.call(t,"projectId"))throw new _i(yi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var t,n=e.options.projectId;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(!n||"string"!=typeof n)throw new _i(yi.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Ri(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.lf)throw new _i(yi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.lf},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){return m("Firestore.collection",arguments,1),y("Firestore.collection","non-empty string",1,e),this.ff(),new du(Ei.P(e),this,null)},e.prototype.doc=function(e){return m("Firestore.doc",arguments,1),y("Firestore.doc","non-empty string",1,e),this.ff(),uu.Vf(Ei.P(e),this,null)},e.prototype.collectionGroup=function(e){if(m("Firestore.collectionGroup",arguments,1),y("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new _i(yi.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ff(),new fu(function(e){return new Po(Ei.g(),e)}(e),this,null)},e.prototype.runTransaction=function(e){var t=this;return m("Firestore.runTransaction",arguments,1),y("Firestore.runTransaction","function",1,e),this.ff().transaction(function(n){return e(new au(t,n))})},e.prototype.batch=function(){return this.ff(),new su(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(r()){case pi.LogLevel.DEBUG:return"debug";case pi.LogLevel.ERROR:return"error";case pi.LogLevel.SILENT:return"silent";case pi.LogLevel.WARN:return"warn";case pi.LogLevel.INFO:return"info";case pi.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),e.setLogLevel=function(e){var t;m("Firestore.setLogLevel",arguments,1),T("setLogLevel",["debug","error","silent","warn","info","verbose"],1,e),t=e,bi.setLogLevel(t)},e.prototype.pf=function(){return this.Ef.timestampsInSnapshots},e.prototype.bf=function(){return this.Ef},e}(),au=function(){function e(e,t){this.vf=e,this.Sf=t}return e.prototype.get=function(e){var t=this;m("Transaction.get",arguments,1);var n=si("Transaction.get",e,this.vf);return this.Sf.C_([n.m_]).then(function(e){if(!e||1!==e.length)return u();var r=e[0];if(r instanceof No)return new lu(t.vf,n.m_,null,!1,!1,n.T_);if(r instanceof ko)return new lu(t.vf,n.m_,r,!1,!1,n.T_);throw u()})},e.prototype.set=function(e,t,n){g("Transaction.set",arguments,2,3);var r=si("Transaction.set",e,this.vf);n=ii("Transaction.set",n);var i=ci(r.T_,t,n),o=Fr(this.vf.If,"Transaction.set",r.m_,i,null!==r.T_,n);return this.Sf.set(r.m_,o),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof t||t instanceof Ms?(v("Transaction.update",arguments,3),r=si("Transaction.update",e,this.vf),i=Vr(this.vf.If,"Transaction.update",r.m_,t,n,o)):(m("Transaction.update",arguments,2),r=si("Transaction.update",e,this.vf),i=qr(this.vf.If,"Transaction.update",r.m_,t)),this.Sf.update(r.m_,i),this},e.prototype.delete=function(e){m("Transaction.delete",arguments,1);var t=si("Transaction.delete",e,this.vf);return this.Sf.delete(t.m_),this},e}(),su=function(){function e(e){this.vf=e,this.Df=[],this.Cf=!1}return e.prototype.set=function(e,t,n){g("WriteBatch.set",arguments,2,3),this.Nf();var r=si("WriteBatch.set",e,this.vf);n=ii("WriteBatch.set",n);var i=ci(r.T_,t,n),o=Fr(this.vf.If,"WriteBatch.set",r.m_,i,null!==r.T_,n);return this.Df=this.Df.concat(o.E_(r.m_,_o.Ge())),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.Nf(),"string"==typeof t||t instanceof Ms?(v("WriteBatch.update",arguments,3),r=si("WriteBatch.update",e,this.vf),i=Vr(this.vf.If,"WriteBatch.update",r.m_,t,n,o)):(m("WriteBatch.update",arguments,2),r=si("WriteBatch.update",e,this.vf),i=qr(this.vf.If,"WriteBatch.update",r.m_,t)),this.Df=this.Df.concat(i.E_(r.m_,_o.exists(!0))),this},e.prototype.delete=function(e){m("WriteBatch.delete",arguments,1),this.Nf();var t=si("WriteBatch.delete",e,this.vf);return this.Df=this.Df.concat(new So(t.m_,_o.Ge())),this},e.prototype.commit=function(){return this.Nf(),this.Cf=!0,this.Df.length>0?this.vf.ff().write(this.Df):Promise.resolve()},e.prototype.Nf=function(){if(this.Cf)throw new _i(yi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),uu=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n.w_,t,r)||this).m_=t,i.firestore=n,i.T_=r,i.df=i.firestore.ff(),i}return hi.__extends(t,e),t.Vf=function(e,n,r){if(e.length%2!=0)throw new _i(yi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.R()+" has "+e.length);return new t(new Ci(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.m_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new du(this.m_.path.h(),this.firestore,this.T_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.m_.path.R()},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){if(m("DocumentReference.collection",arguments,1),y("DocumentReference.collection","non-empty string",1,e),!e)throw new _i(yi.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=Ei.P(e);return new du(this.m_.path.child(t),this.firestore,null)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw k("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.m_.isEqual(e.m_)&&this.T_===e.T_},t.prototype.set=function(e,t){g("DocumentReference.set",arguments,1,2),t=ii("DocumentReference.set",t);var n=ci(this.T_,e,t),r=Fr(this.firestore.If,"DocumentReference.set",this.m_,n,null!==this.T_,t);return this.df.write(r.E_(this.m_,_o.Ge()))},t.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof e||e instanceof Ms?(v("DocumentReference.update",arguments,2),n=Vr(this.firestore.If,"DocumentReference.update",this.m_,e,t,r)):(m("DocumentReference.update",arguments,1),n=qr(this.firestore.If,"DocumentReference.update",this.m_,e)),this.df.write(n.E_(this.m_,_o.exists(!0)))},t.prototype.delete=function(){return m("DocumentReference.delete",arguments,0),this.df.write([new So(this.m_,_o.Ge())])},t.prototype.onSnapshot=function(){for(var e,t,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];g("DocumentReference.onSnapshot",arguments,1,4);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Jr(i[s])||(A("DocumentReference.onSnapshot",a=i[s],["includeMetadataChanges"]),w("DocumentReference.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++);var u={includeMetadataChanges:a.includeMetadataChanges};if(Jr(i[s])){var c=i[s];i[s]=null===(e=c.next)||void 0===e?void 0:e.bind(c),i[s+1]=null===(t=c.error)||void 0===t?void 0:t.bind(c),i[s+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else y("DocumentReference.onSnapshot","function",s,i[s]),_("DocumentReference.onSnapshot","function",s+1,i[s+1]),_("DocumentReference.onSnapshot","function",s+2,i[s+2]);var l={next:function(e){i[s]&&i[s](r.Ff(e))},error:i[s+1],complete:i[s+2]};return this.df.listen(ft(this.m_.path),u,l)},t.prototype.get=function(e){var t=this;g("DocumentReference.get",arguments,0,1),ai("DocumentReference.get",e);var n=this.firestore.ff();return e&&"cache"===e.source?n.K_(this.m_).then(function(e){return new lu(t.firestore,t.m_,e,!0,e instanceof ko&&e.Ye,t.T_)}):n.G_(this.m_,e).then(function(e){return t.Ff(e)})},t.prototype.withConverter=function(e){return new t(this.m_,this.firestore,e)},t.prototype.Ff=function(e){var t=e.docs.get(this.m_);return new lu(this.firestore,this.m_,t,e.fromCache,e.hasPendingWrites,this.T_)},t}(Qs),cu=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),lu=function(){function e(e,t,n,r,i,o){this.vf=e,this.m_=t,this.xf=n,this.$f=r,this.kf=i,this.T_=o}return e.prototype.data=function(e){var t=this;if(g("DocumentSnapshot.data",arguments,0,1),e=oi("DocumentSnapshot.data",e),this.xf){if(this.T_){var n=new hu(this.vf,this.m_,this.xf,this.$f,this.kf,null);return this.T_.fromFirestore(n,e)}return new nu(this.vf.w_,this.vf.pf(),e.serverTimestamps||"none",function(e){return new uu(e,t.vf,null)},function(e){return new xi(e)}).ef(this.xf.sn())}},e.prototype.get=function(e,t){var n=this;if(g("DocumentSnapshot.get",arguments,1,2),t=oi("DocumentSnapshot.get",t),this.xf){var r=this.xf.data().field(Kr("DocumentSnapshot.get",e,this.m_));if(null!==r)return new nu(this.vf.w_,this.vf.pf(),t.serverTimestamps||"none",function(e){return new uu(e,n.vf,n.T_)},function(e){return new xi(e)}).ef(r)}},Object.defineProperty(e.prototype,"id",{get:function(){return this.m_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new uu(this.m_,this.vf,this.T_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this.xf},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new cu(this.kf,this.$f)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw k("isEqual","DocumentSnapshot",1,t);return this.vf===t.vf&&this.$f===t.$f&&this.m_.isEqual(t.m_)&&(null===this.xf?null===t.xf:this.xf.isEqual(t.xf))&&this.T_===t.T_},e}(),hu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hi.__extends(t,e),t.prototype.data=function(t){return e.prototype.data.call(this,t)},t}(lu),fu=function(){function e(e,t,n){this.Mf=e,this.firestore=t,this.T_=n}return e.prototype.where=function(t,n,r){m("Query.where",arguments,3),O("Query.where",3,r);var i=T("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),o=Kr("Query.where",t),a=$r(this.Mf,"Query.where",this.firestore.If,this.firestore.w_,o,i,r);return new e(function(e,t){var n=e.filters.concat([t]);return new Po(e.path,e.collectionGroup,e.rn.slice(),n,e.limit,e.on,e.startAt,e.endAt)}(this.Mf,a),this.firestore,this.T_)},e.prototype.orderBy=function(t,n){var r;if(g("Query.orderBy",arguments,1,2),_("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new _i(yi.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Kr("Query.orderBy",t),o=Zr(this.Mf,i,r);return new e(function(e,t){var n=e.rn.concat([t]);return new Po(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.on,e.startAt,e.endAt)}(this.Mf,o),this.firestore,this.T_)},e.prototype.limit=function(t){return m("Query.limit",arguments,1),y("Query.limit","number",1,t),N("Query.limit",1,t),new e(bt(this.Mf,t,"F"),this.firestore,this.T_)},e.prototype.limitToLast=function(t){return m("Query.limitToLast",arguments,1),y("Query.limitToLast","number",1,t),N("Query.limitToLast",1,t),new e(bt(this.Mf,t,"L"),this.firestore,this.T_)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];v("Query.startAt",arguments,1);var i=this.Of("Query.startAt",t,n,!0);return new e(wt(this.Mf,i),this.firestore,this.T_)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];v("Query.startAfter",arguments,1);var i=this.Of("Query.startAfter",t,n,!1);return new e(wt(this.Mf,i),this.firestore,this.T_)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];v("Query.endBefore",arguments,1);var i=this.Of("Query.endBefore",t,n,!0);return new e(Et(this.Mf,i),this.firestore,this.T_)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];v("Query.endAt",arguments,1);var i=this.Of("Query.endAt",t,n,!1);return new e(Et(this.Mf,i),this.firestore,this.T_)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw k("isEqual","Query",1,t);return this.firestore===t.firestore&&Tt(this.Mf,t.Mf)&&this.T_===t.T_},e.prototype.withConverter=function(t){return new e(this.Mf,this.firestore,t)},e.prototype.Of=function(e,t,n,r){if(O(e,1,t),t instanceof lu)return m(e,hi.__spreadArrays([t],n),1),function(e,t,n,r,i){if(!r)throw new _i(yi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=yt(e);a<s.length;a++){var u=s[a];if(u.field.p())o.push(fe(t,r.key));else{var c=r.field(u.field);if(te(c))throw new _i(yi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.R();throw new _i(yi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Vo(o,i)}(this.Mf,this.firestore.w_,e,t.xf,r);var i=[t].concat(n);return function(e,t,n,r,i,o){var a=e.rn;if(i.length>a.length)throw new _i(yi.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.p()){if("string"!=typeof c)throw new _i(yi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!gt(e)&&-1!==c.indexOf("/"))throw new _i(yi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Ei.P(c));if(!Ci.F(l))throw new _i(yi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ci(l);s.push(fe(t,h))}else{var f=Br(n,r,c);s.push(f)}}return new Vo(s,o)}(this.Mf,this.firestore.w_,this.firestore.If,e,i,r)},e.prototype.onSnapshot=function(){for(var e,t,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];g("Query.onSnapshot",arguments,1,4);var a={},s=0;if("object"!=typeof i[s]||Jr(i[s])||(A("Query.onSnapshot",a=i[s],["includeMetadataChanges"]),w("Query.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++),Jr(i[s])){var u=i[s];i[s]=null===(e=u.next)||void 0===e?void 0:e.bind(u),i[s+1]=null===(t=u.error)||void 0===t?void 0:t.bind(u),i[s+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else y("Query.onSnapshot","function",s,i[s]),_("Query.onSnapshot","function",s+1,i[s+1]),_("Query.onSnapshot","function",s+2,i[s+2]);var c={next:function(e){i[s]&&i[s](new pu(r.firestore,r.Mf,e,r.T_))},error:i[s+1],complete:i[s+2]};return ri(this.Mf),this.firestore.ff().listen(this.Mf,a,c)},e.prototype.get=function(e){var t=this;g("Query.get",arguments,0,1),ai("Query.get",e),ri(this.Mf);var n=this.firestore.ff();return(e&&"cache"===e.source?n.z_(this.Mf):n.H_(this.Mf,e)).then(function(e){return new pu(t.firestore,t.Mf,e,t.T_)})},e}(),pu=function(){function e(e,t,n,r){this.vf=e,this.Lf=t,this.Bf=n,this.T_=r,this.qf=null,this.Uf=null,this.metadata=new cu(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.Bf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.Bf.docs.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;g("QuerySnapshot.forEach",arguments,1,2),y("QuerySnapshot.forEach","function",1,e),this.Bf.docs.forEach(function(r){e.call(t,n.Qf(r,n.metadata.fromCache,n.Bf.Qt.has(r.key)))})},Object.defineProperty(e.prototype,"query",{get:function(){return new fu(this.Lf,this.vf,this.T_)},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){e&&(A("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),w("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this.Bf.jt)throw new _i(yi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.qf&&this.Uf===t||(this.qf=function(e,t,n){if(e.Ut.m()){var r=0;return e.docChanges.map(function(t){var i=n(t.doc,e.fromCache,e.Qt.has(t.doc.key));return t.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}})}var i=e.Ut;return e.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var r=n(t.doc,e.fromCache,e.Qt.has(t.doc.key)),o=-1,a=-1;return 0!==t.type&&(o=i.indexOf(t.doc.key),i=i.delete(t.doc.key)),1!==t.type&&(a=(i=i.add(t.doc)).indexOf(t.doc.key)),{type:ui(t.type),doc:r,oldIndex:o,newIndex:a}})}(this.Bf,t,this.Qf.bind(this)),this.Uf=t),this.qf},e.prototype.isEqual=function(t){if(!(t instanceof e))throw k("isEqual","QuerySnapshot",1,t);return this.vf===t.vf&&Tt(this.Lf,t.Lf)&&this.Bf.isEqual(t.Bf)&&this.T_===t.T_},e.prototype.Qf=function(e,t,n){return new hu(this.vf,e.key,e,t,n,this.T_)},e}(),du=function(e){function t(t,n,r){var i=this;if((i=e.call(this,ft(t),n,r)||this).Wf=t,t.length%2!=1)throw new _i(yi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.R()+" has "+t.length);return i}return hi.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.Mf.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this.Mf.path.h();return e.m()?null:new uu(new Ci(e),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Mf.path.R()},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){g("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=Ii.k()),y("CollectionReference.doc","non-empty string",1,e);var t=Ei.P(e);return uu.Vf(this.Mf.path.child(t),this.firestore,this.T_)},t.prototype.add=function(e){m("CollectionReference.add",arguments,1);var t=this.T_?this.T_.toFirestore(e):e;y("CollectionReference.add","object",1,t);var n=this.doc();return new uu(n.m_,this.firestore,null).set(t).then(function(){return n})},t.prototype.withConverter=function(e){return new t(this.Wf,this.firestore,e)},t}(fu),mu={Firestore:ou,GeoPoint:Gs,Timestamp:Di,Blob:xi,Transaction:au,WriteBatch:su,DocumentReference:uu,DocumentSnapshot:lu,Query:fu,QueryDocumentSnapshot:hu,QuerySnapshot:pu,CollectionReference:du,FieldPath:Ms,FieldValue:Ws,setLogLevel:ou.setLogLevel,CACHE_SIZE_UNLIMITED:ru};li(gi.default),t.__PRIVATE_registerFirestore=li}).call(t,n(162))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(e,t){function n(){this.constructor=e}hn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(){}function a(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function s(e){var t=a(e);return"array"==t||"object"==t&&"number"==typeof e.length}function u(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function c(e){return Object.prototype.hasOwnProperty.call(e,mn)&&e[mn]||(e[mn]=++vn)}function l(e,t,n){return e.call.apply(e.bind,arguments)}function h(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function f(e,t,n){return f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l:h,f.apply(null,arguments)}function p(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.S=t.prototype,e.prototype=new n,e.prototype.constructor=e}function m(){this.j=this.j,this.i=this.i}function v(e){e:{for(var t=It,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}function g(e){return Array.prototype.concat.apply([],arguments)}function y(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function _(e){return/^[\s\xa0]*$/.test(e)}function b(e,t){return-1!=e.indexOf(t)}function w(e,t){return e<t?-1:e>t?1:0}function E(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function T(e){var t={};for(var n in e)t[n]=e[n];return t}function S(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<Sn.length;o++)n=Sn[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function C(e){return C[" "](e),e}function I(e,t){var n=Mn;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function O(){var e=dn.document;return e?e.documentMode:void 0}function A(e){return I(e,function(){for(var t=0,n=wn(String(Cn)).split("."),r=wn(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=w(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||w(0==a[2].length,0==s[2].length)||w(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}function k(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function N(e,t){if(k.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(Nn){e:{try{C(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Vn[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}function x(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++Hn,this.Y=this.Z=!1}function P(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function R(e){this.src=e,this.a={},this.b=0}function L(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=_n(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(P(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function D(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}function M(e,t,n,r,i){if(r&&r.once)return F(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)M(e,t[o],n,r,i);return null}return n=G(n),e&&e[Bn]?e.va(t,n,u(r)?!!r.capture:!!r,i):j(e,t,n,!1,r,i)}function j(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=u(i)?!!i.capture:!!i;if(a&&!Un)return null;var s=z(e);if(s||(e[Wn]=s=new R(e)),n=s.add(t,n,r,a,o),n.proxy)return n;if(r=U(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)qn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(B(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function U(){var e=W,t=Un?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}function F(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)F(e,t[o],n,r,i);return null}return n=G(n),e&&e[Bn]?e.wa(t,n,u(r)?!!r.capture:!!r,i):j(e,t,n,!0,r,i)}function q(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)q(e,t[o],n,r,i);else r=u(r)?!!r.capture:!!r,n=G(n),e&&e[Bn]?(e=e.c,(t=String(t).toString())in e.a&&(o=e.a[t],-1<(n=D(o,n,r,i))&&(P(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=z(e))&&(t=e.a[t.toString()],e=-1,t&&(e=D(t,n,r,i)),(n=-1<e?t[e]:null)&&V(n))}function V(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[Bn])L(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(B(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=z(t))?(L(n,e),0==n.b&&(n.src=null,t[Wn]=null)):P(e)}}}function B(e){return e in zn?zn[e]:zn[e]="on"+e}function H(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&V(e),n.call(r,t)}function W(e,t){if(e.Y)return!0;if(!Un){if(!t)e:{t=["window","event"];for(var n=dn,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return t=new N(t,this),H(e,t)}return H(e,new N(t,this))}function z(e){return e=e[Wn],e instanceof R?e:null}function G(e){return"function"==a(e)?e:(e[Gn]||(e[Gn]=function(t){return e.handleEvent(t)}),e[Gn])}function K(){m.call(this),this.c=new R(this),this.J=this,this.C=null}function Q(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&L(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Y(){this.b=this.a=null}function X(){var e=Jn,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function J(){this.next=this.b=this.a=null}function $(e){dn.setTimeout(function(){throw e},0)}function Z(e,t){Yn||ee(),Xn||(Yn(),Xn=!0),Jn.add(e,t)}function ee(){var e=dn.Promise.resolve(void 0);Yn=function(){e.then(te)}}function te(){for(var e;e=X();){try{e.a.call(e.b)}catch(e){$(e)}var t=Qn;t.g(e),t.b<t.f&&(t.b++,e.next=t.a,t.a=e)}Xn=!1}function ne(e,t){K.call(this),this.b=e||1,this.a=t||dn,this.f=f(this.Ya,this),this.g=gn()}function re(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function ie(e,t,n){if("function"==a(e))n&&(e=f(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=f(e.handleEvent,e)}return 2147483647<Number(t)?-1:dn.setTimeout(e,t||0)}function oe(e){e.a=ie(function(){e.a=null,e.c&&(e.c=!1,oe(e))},e.h);var t=e.b;e.b=null,e.g.apply(null,t)}function ae(e){m.call(this),this.b=e,this.a={}}function se(e,t,n,r){Array.isArray(n)||(n&&(Zn[0]=n.toString()),n=Zn);for(var i=0;i<n.length;i++){var o=M(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function ue(e){E(e.a,function(e,t){this.a.hasOwnProperty(t)&&V(e)},e),e.a={}}function ce(){this.a=!0}function le(e,t,n,r,i,o){e.info(function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}function he(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}function fe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+de(e,n)+(r?" "+r:"")})}function pe(e,t){e.info(function(){return"TIMEOUT: "+t})}function de(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Kn(n)}catch(e){return t}}function me(){return er=er||new K}function ve(e){k.call(this,"serverreachability",e)}function ge(e){var t=me();t.dispatchEvent(new ve(t,e))}function ye(e){k.call(this,"statevent",e)}function _e(e){var t=me();t.dispatchEvent(new ye(t,e))}function be(e){k.call(this,"timingevent",e)}function we(e,t){if("function"!=a(e))throw Error("Fn must not be null and must be a function");return dn.setTimeout(function(){e()},t)}function Ee(){}function Te(e){var t;return(t=e.a)||(t=e.a={}),t}function Se(){}function Ce(){k.call(this,"d")}function Ie(){k.call(this,"c")}function Oe(){}function Ae(e,t,n,r){this.g=e,this.c=t,this.f=n,this.T=r||1,this.J=new ae(this),this.P=or,e=kn?125:void 0,this.R=new ne(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}function ke(e,t,n){e.H=1,e.i=$e(Ge(t)),e.j=n,e.I=!0,Ne(e,null)}function Ne(e,t){e.u=gn(),Re(e),e.l=Ge(e.i);var n=e.l,r=e.T;Array.isArray(r)||(r=[String(r)]),ut(n.b,"t",r),e.D=0,e.a=nn(e.g,e.g.C?t:null),0<e.O&&(e.F=new $n(f(e.Ca,e,e.a),e.O)),se(e.J,e.a,"readystatechange",e.Wa),t=e.B?T(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),ge(1),le(e.c,e.m,e.l,e.f,e.T,e.j)}function xe(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=Pe(e,n);if(i==sr){4==t&&(e.h=4,_e(14),r=!1),fe(e.c,e.f,null,"[Incomplete Response]");break}if(i==ar){e.h=4,_e(15),fe(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}fe(e.c,e.f,i,null),Ue(e,i)}4==t&&0==n.length&&(e.h=1,_e(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.W&&(e.W=!0,t=e.g,t.a==e&&t.V&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qt(t),t.F=!0)):(fe(e.c,e.f,n,"[Invalid Chunked Response]"),je(e),Me(e))}function Pe(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?sr:(n=Number(t.substring(n,r)),isNaN(n)?ar:(r+=1)+n>t.length?sr:(t=t.substr(r,n),e.D=r+n,t))}function Re(e){e.U=gn()+e.P,Le(e,e.P)}function Le(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=we(f(e.Ua,e),t)}function De(e){e.o&&(dn.clearTimeout(e.o),e.o=null)}function Me(e){0==e.g.v||e.A||Jt(e.g,e)}function je(e){De(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,re(e.R),ue(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Ue(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||mt(n.b,e)))if(n.I=e.N,!e.C&&mt(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Xt(n),Ut(n)}Kt(n),_e(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=we(f(n.Ra,n),6e3));if(1>=dt(n.b)&&n.ea){try{n.ea()}catch(e){}n.ea=void 0}}else Zt(n,11)}else if((e.C||n.a==e)&&Xt(n),!_(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(b(l,"spdy")||b(l,"quic")||b(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(vt(h,h.b),h.b=null))}if(u.A){var p=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;p&&(u.na=p,Je(u.B,u.A,p))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=gn()-e.u,n.c.info("Handshake RTT: "+n.N+"ms")),u=n;var d=e;if(u.la=tn(u,u.C?u.ga:null,u.fa),d.C){gt(u.b,d);var m=d,v=u.D;v&&m.setTimeout(v),m.o&&(De(m),Re(m)),u.a=d}else Gt(u);0<n.g.length&&Vt(n)}else"stop"!=i[0]&&"close"!=i[0]||Zt(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Zt(n,7):jt(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ge(4)}catch(e){}}function Fe(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return e=t}function qe(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"==typeof e)bn(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(s(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=Fe(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Ve(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ve)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Be(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];He(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],He(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function He(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function We(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ze(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof ze){this.a=void 0!==t?t:e.a,Ke(this,e.f),this.j=e.j,Qe(this,e.c),Ye(this,e.h),this.g=e.g,t=e.b;var n=new it;n.c=t.c,t.a&&(n.a=new Ve(t.a),n.b=t.b),Xe(this,n),this.i=e.i}else e&&(n=String(e).match(ur))?(this.a=!!t,Ke(this,n[1]||"",!0),this.j=tt(n[2]||""),Qe(this,n[3]||"",!0),Ye(this,n[4]),this.g=tt(n[5]||"",!0),Xe(this,n[6]||"",!0),this.i=tt(n[7]||"")):(this.a=!!t,this.b=new it(null,this.a))}function Ge(e){return new ze(e)}function Ke(e,t,n){e.f=n?tt(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Qe(e,t,n){e.c=n?tt(t,!0):t}function Ye(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Xe(e,t,n){t instanceof it?(e.b=t,lt(e.b,e.a)):(n||(t=nt(t,fr)),e.b=new it(t,e.a))}function Je(e,t,n){e.b.set(t,n)}function $e(e){return Je(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^gn()).toString(36)),e}function Ze(e){return e instanceof ze?Ge(e):new ze(e,void 0)}function et(e,t,n,r){var i=new ze(null,void 0);return e&&Ke(i,e),t&&Qe(i,t),n&&Ye(i,n),r&&(i.g=r),i}function tt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function nt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,rt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function rt(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}function it(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function ot(e){e.a||(e.a=new Ve,e.b=0,e.c&&We(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function at(e,t){ot(e),t=ct(e,t),He(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,He(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Be(e)))}function st(e,t){return ot(e),t=ct(e,t),He(e.a.b,t)}function ut(e,t,n){at(e,t),0<n.length&&(e.c=null,e.a.set(ct(e,t),y(n)),e.b+=n.length)}function ct(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function lt(e,t){t&&!e.f&&(ot(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(at(this,t),ut(this,n,e))},e)),e.f=t}function ht(e,t){this.b=e,this.a=t}function ft(e){this.g=e||dr,dn.PerformanceNavigationTiming?(e=dn.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(dn.ia&&dn.ia.ya&&dn.ia.ya()&&dn.ia.ya().qb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}function pt(e){return!!e.b||!!e.a&&e.a.size>=e.f}function dt(e){return e.b?1:e.a?e.a.size:0}function mt(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function vt(e,t){e.a?e.a.add(t):e.b=t}function gt(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function yt(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var o=i(e.a.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return y(e.c)}function _t(){}function bt(){this.a=new _t}function wt(e,t,n){var r=n||"";try{qe(e,function(e,n){var i=e;u(e)&&(i=Kn(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Et(e,t){var n=new ce;if(dn.Image){var r=new Image;r.onload=p(Tt,n,r,"TestLoadImage: loaded",!0,t),r.onerror=p(Tt,n,r,"TestLoadImage: error",!1,t),r.onabort=p(Tt,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=p(Tt,n,r,"TestLoadImage: timeout",!1,t),dn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Tt(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function St(e){K.call(this),this.headers=new Ve,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=vr,this.D=this.F=!1}function Ct(e){return On&&A(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}function It(e){return"content-type"==e.toLowerCase()}function Ot(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,At(e),Nt(e)}function At(e){e.u||(e.u=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function kt(e){if(e.b&&void 0!==pn&&(!e.s[1]||4!=Pt(e)||2!=e.X()))if(e.l&&4==Pt(e))ie(e.za,0,e);else if(e.dispatchEvent("readystatechange"),4==Pt(e)){e.b=!1;try{var t=e.X();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=0===t){var o=String(e.B).match(ur)[1]||null;if(!o&&dn.self&&dn.self.location){var a=dn.self.location.protocol;o=a.substr(0,a.length-1)}i=!gr.test(o?o.toLowerCase():"")}r=i}if(r)e.dispatchEvent("complete"),e.dispatchEvent("success");else{e.h=6;try{var s=2<Pt(e)?e.a.statusText:""}catch(e){s=""}e.f=s+" ["+e.X()+"]",At(e)}}finally{Nt(e)}}}function Nt(e,t){if(e.a){xt(e);var n=e.a,r=e.s[0]?o:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){}}}function xt(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(dn.clearTimeout(e.m),e.m=null)}function Pt(e){return e.a?e.a.readyState:0}function Rt(e){var t="";return E(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rt(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Je(e,t,n))}function Dt(e,t,n){return n&&n.internalChannelParams?n.internalChannelParams[e]||t:t}function Mt(e){this.pa=0,this.g=[],this.c=new ce,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Dt("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Dt("baseRetryDelayMs",5e3,e),this.Ma=Dt("retryDelaySeedMs",1e4,e),this.Ja=Dt("forwardChannelMaxRetries",2,e),this.ma=Dt("forwardChannelRequestTimeoutMs",2e4,e),this.Ka=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new ft(e&&e.concurrentRequestLimit),this.ka=new bt,this.da=e&&e.fastHandshake||!1,this.Ga=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&e&&e.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function jt(e){if(Ft(e),3==e.v){var t=e.R++,n=Ge(e.B);Je(n,"SID",e.J),Je(n,"RID",t),Je(n,"TYPE","terminate"),Wt(e,n),t=new Ae(e,e.c,t,void 0),t.H=2,t.i=$e(Ge(n)),n=!1,dn.navigator&&dn.navigator.sendBeacon&&(n=dn.navigator.sendBeacon(t.i.toString(),"")),!n&&dn.Image&&((new Image).src=t.i,n=!0),n||(t.a=nn(t.g,null),t.a.ba(t.i)),t.u=gn(),Re(t)}en(e)}function Ut(e){e.a&&(Qt(e),e.a.cancel(),e.a=null)}function Ft(e){Ut(e),e.j&&(dn.clearTimeout(e.j),e.j=null),Xt(e),e.b.cancel(),e.h&&("number"==typeof e.h&&dn.clearTimeout(e.h),e.h=null)}function qt(e,t){e.g.push(new ht(e.La++,t)),3==e.v&&Vt(e)}function Vt(e){pt(e.b)||e.h||(e.h=!0,Z(e.Ba,e),e.u=0)}function Bt(e,t){return!(dt(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.Ia?0:e.Ja)||(e.h=we(f(e.Ba,e,t),$t(e,e.u)),e.u++,0)))}function Ht(e,t){var n;n=t?t.f:e.R++;var r=Ge(e.B);Je(r,"SID",e.J),Je(r,"RID",n),Je(r,"AID",e.P),Wt(e,r),e.i&&e.l&&Lt(r,e.i,e.l),n=new Ae(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=zt(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),vt(e.b,n),ke(n,r,t)}function Wt(e,t){e.f&&qe({},function(e,n){Je(t,n,e)})}function zt(e,t,n){n=Math.min(e.g.length,n);var r=e.f?f(e.f.Ha,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{wt(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Gt(e){e.a||e.j||(e.U=1,Z(e.Aa,e),e.o=0)}function Kt(e){return!(e.a||e.j||3<=e.o||(e.U++,e.j=we(f(e.Aa,e),$t(e,e.o)),e.o++,0))}function Qt(e){null!=e.s&&(dn.clearTimeout(e.s),e.s=null)}function Yt(e){e.a=new Ae(e,e.c,"rpc",e.U),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Ge(e.la);Je(t,"RID","rpc"),Je(t,"SID",e.J),Je(t,"CI",e.H?"0":"1"),Je(t,"AID",e.P),Wt(e,t),Je(t,"TYPE","xmlhttp"),e.i&&e.l&&Lt(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=$e(Ge(t)),n.j=null,n.I=!0,Ne(n,e)}function Xt(e){null!=e.m&&(dn.clearTimeout(e.m),e.m=null)}function Jt(e,t){var n=null;if(e.a==t){Xt(e),Qt(e),e.a=null;var r=2}else{if(!mt(e.b,t))return;n=t.s,gt(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=gn()-t.u;var i=e.u;r=me(),r.dispatchEvent(new be(r,n,t,i)),Vt(e)}else Gt(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&Bt(e,t)||2==r&&Kt(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Zt(e,5);break;case 4:Zt(e,10);break;case 3:Zt(e,6);break;default:Zt(e,2)}}function $t(e,t){var n=e.Fa+Math.floor(Math.random()*e.Ma);return e.f||(n*=2),n*t}function Zt(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=f(e.Xa,e);n||(n=new ze("//www.google.com/images/cleardot.gif"),dn.location&&"http"==dn.location.protocol||Ke(n,"https"),$e(n)),Et(n.toString(),r)}else _e(2);e.v=0,e.f&&e.f.ra(t),en(e),Ft(e)}function en(e){e.v=0,e.I=-1,e.f&&(0==yt(e.b).length&&0==e.g.length||(e.b.c.length=0,y(e.g),e.g.length=0),e.f.qa())}function tn(e,t,n){var r=Ze(n);if(""!=r.c)t&&Qe(r,t+"."+r.c),Ye(r,r.h);else{var i=dn.location;r=et(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.W&&E(e.W,function(e,t){Je(r,t,e)}),t=e.A,n=e.na,t&&n&&Je(r,t,n),Je(r,"VER",e.ha),Wt(e,r),r}function nn(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return t=new St(e.Ka),t.F=e.C,t}function rn(){}function on(){if(On&&!(10<=Number(jn)))throw Error("Environmental error: no available transport.")}function an(e,t){K.call(this),this.a=new Mt(t),this.l=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!_(e)&&(this.a.i=e),this.h=t&&t.supportsCrossDomainXhr||!1,this.g=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&(e=this.b,t in e&&delete e[t])),this.f=new cn(this)}function sn(e){Ce.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function un(){Ie.call(this),this.status=1}function cn(e){this.a=e}n.d(t,"ErrorCode",function(){return wr}),n.d(t,"EventType",function(){return Er}),n.d(t,"WebChannel",function(){return Tr}),n.d(t,"XhrIo",function(){return Sr}),n.d(t,"createWebChannelTransport",function(){return br});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var ln,hn=function(e,t){return(hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},fn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},pn=pn||{},dn=fn||self,mn="closure_uid_"+(1e9*Math.random()>>>0),vn=0,gn=Date.now;m.prototype.j=!1,m.prototype.ja=function(){this.j||(this.j=!0,this.G(),1)||c(this)},m.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var yn,_n=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},bn=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},wn=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};e:{var En=dn.navigator;if(En){var Tn=En.userAgent;if(Tn){yn=Tn;break e}}yn=""}var Sn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");C[" "]=o;var Cn,In=b(yn,"Opera"),On=b(yn,"Trident")||b(yn,"MSIE"),An=b(yn,"Edge"),kn=An||On,Nn=b(yn,"Gecko")&&!(b(yn.toLowerCase(),"webkit")&&!b(yn,"Edge"))&&!(b(yn,"Trident")||b(yn,"MSIE"))&&!b(yn,"Edge"),xn=b(yn.toLowerCase(),"webkit")&&!b(yn,"Edge");e:{var Pn="",Rn=function(){var e=yn;return Nn?/rv:([^\);]+)(\)|;)/.exec(e):An?/Edge\/([\d\.]+)/.exec(e):On?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):xn?/WebKit\/(\S+)/.exec(e):In?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Rn&&(Pn=Rn?Rn[1]:""),On){var Ln=O();if(null!=Ln&&Ln>parseFloat(Pn)){Cn=String(Ln);break e}}Cn=Pn}var Dn,Mn={};if(dn.document&&On){Dn=O()||parseInt(Cn,10)||void 0}else Dn=void 0;var jn=Dn,Un=!On||9<=Number(jn),Fn=On&&!A("9"),qn=function(){if(!dn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{dn.addEventListener("test",o,t),dn.removeEventListener("test",o,t)}catch(e){}return e}();k.prototype.b=function(){this.defaultPrevented=!0},d(N,k);var Vn={2:"touch",3:"pen",4:"mouse"};N.prototype.b=function(){N.S.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Fn)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var Bn="closure_listenable_"+(1e6*Math.random()|0),Hn=0;R.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=D(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):(t=new x(t,this.src,o,!!r,i),t.Z=n,e.push(t)),t};var Wn="closure_lm_"+(1e6*Math.random()|0),zn={},Gn="__closure_events_fn_"+(1e9*Math.random()>>>0);d(K,m),K.prototype[Bn]=!0,ln=K.prototype,ln.addEventListener=function(e,t,n,r){M(this,e,t,n,r)},ln.removeEventListener=function(e,t,n,r){q(this,e,t,n,r)},ln.dispatchEvent=function(e){var t,n=this.C;if(n)for(t=[];n;n=n.C)t.push(n);n=this.J;var r=e.type||e;if("string"==typeof e)e=new k(e,n);else if(e instanceof k)e.target=e.target||n;else{var i=e;e=new k(r,n),S(e,i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.a=t[o];i=Q(a,r,!0,e)&&i}if(a=e.a=n,i=Q(a,r,!0,e)&&i,i=Q(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)a=e.a=t[o],i=Q(a,r,!1,e)&&i;return i},ln.G=function(){if(K.S.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)P(n[r]);delete t.a[e],t.b--}}this.C=null},ln.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},ln.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Kn=dn.JSON.stringify,Qn=new(function(){function e(e,t,n){this.f=n,this.c=e,this.g=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())(function(){return new J},function(e){e.reset()},100);Y.prototype.add=function(e,t){var n=Qn.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},J.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},J.prototype.reset=function(){this.next=this.b=this.a=null};var Yn,Xn=!1,Jn=new Y;d(ne,K),ln=ne.prototype,ln.aa=!1,ln.M=null,ln.Ya=function(){if(this.aa){var e=gn()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(re(this),this.start()))}},ln.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=gn())},ln.G=function(){ne.S.G.call(this),re(this),delete this.a};var $n=function(e){function t(t,n,r){var i=e.call(this)||this;return i.g=null!=r?t.bind(r):t,i.h=n,i.b=null,i.c=!1,i.a=null,i}return r(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:oe(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(dn.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(m);d(ae,m);var Zn=[];ae.prototype.G=function(){ae.S.G.call(this),ue(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ce.prototype.info=function(){};var er=null;d(ve,k),d(ye,k),d(be,k);var tr={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},nr={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};Ee.prototype.a=null;var rr={OPEN:"a",$a:"b",Ea:"c",jb:"d"};d(Ce,k),d(Ie,k);var ir;d(Oe,Ee),ir=new Oe;var or=45e3,ar={},sr={};ln=Ae.prototype,ln.setTimeout=function(e){this.P=e},ln.Wa=function(e){e=e.target;var t=this.F;t&&3==Pt(e)?t.f():this.Ca(e)},ln.Ca=function(e){try{if(e==this.a)e:{var t=Pt(this.a),n=this.a.ua(),r=this.a.X();if(!(3>t||3==t&&!kn&&!this.a.$())){this.A||4!=t||7==n||ge(8==n||0>=r?3:2),De(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,he(this.c,this.m,this.l,this.f,this.T,t,i),this.b){if(this.V&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,_e(12),je(this),Me(this);break e}fe(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ue(this,u)}this.I?(xe(this,t,o),kn&&this.b&&3==t&&(se(this.J,this.R,"tick",this.Va),this.R.start())):(fe(this.c,this.f,o,null),Ue(this,o)),4==t&&je(this),this.b&&!this.A&&(4==t?Jt(this.g,this):(this.b=!1,Re(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,_e(12)):(this.h=0,_e(13)),je(this),Me(this)}}}catch(e){}},ln.Va=function(){if(this.a){var e=Pt(this.a),t=this.a.$();this.D<t.length&&(De(this),xe(this,e,t),this.b&&4!=e&&Re(this))}},ln.cancel=function(){this.A=!0,je(this)},ln.Ua=function(){this.o=null;var e=gn();0<=e-this.U?(pe(this.c,this.l),2!=this.H&&(ge(3),_e(17)),je(this),this.h=2,Me(this)):Le(this,this.U-e)},ln=Ve.prototype,ln.K=function(){Be(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},ln.L=function(){return Be(this),this.a.concat()},ln.get=function(e,t){return He(this.b,e)?this.b[e]:t},ln.set=function(e,t){He(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},ln.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var ur=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;ze.prototype.toString=function(){var e=[],t=this.f;t&&e.push(nt(t,cr,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(nt(t,cr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(nt(n,"/"==n.charAt(0)?hr:lr,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",nt(n,pr)),e.join("")};var cr=/[#\/\?@]/g,lr=/[#\?:]/g,hr=/[#\?]/g,fr=/[#\?@]/g,pr=/#/g;ln=it.prototype,ln.add=function(e,t){ot(this),this.c=null,e=ct(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},ln.forEach=function(e,t){ot(this),this.a.forEach(function(n,r){bn(n,function(n){e.call(t,n,r,this)},this)},this)},ln.L=function(){ot(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},ln.K=function(e){ot(this);var t=[];if("string"==typeof e)st(this,e)&&(t=g(t,this.a.get(ct(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=g(t,e[n])}return t},ln.set=function(e,t){return ot(this),this.c=null,e=ct(this,e),st(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},ln.get=function(e,t){return e?(e=this.K(e),0<e.length?String(e[0]):t):t},ln.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var dr=10;ft.prototype.cancel=function(){var e,t;if(this.c=yt(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},_t.prototype.stringify=function(e){return dn.JSON.stringify(e,void 0)},_t.prototype.parse=function(e){return dn.JSON.parse(e,void 0)};var mr=dn.JSON.parse;d(St,K);var vr="",gr=/^https?$/i,yr=["POST","PUT"];ln=St.prototype,ln.ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=Te(this.H?this.H:ir),this.a.onreadystatechange=f(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(e){return void Ot(this,e)}e=n||"";var i=new Ve(this.headers);r&&qe(r,function(e,t){i.set(t,e)}),r=v(i.L()),n=dn.FormData&&e instanceof dn.FormData,!(0<=_n(yr,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.a.setRequestHeader(t,e)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{xt(this),0<this.o&&((this.D=Ct(this.a))?(this.a.timeout=this.o,this.a.ontimeout=f(this.xa,this)):this.m=ie(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){Ot(this,e)}},ln.xa=function(){void 0!==pn&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},ln.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Nt(this))},ln.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Nt(this,!0)),St.S.G.call(this)},ln.za=function(){this.j||(this.A||this.l||this.g?kt(this):this.Ta())},ln.Ta=function(){kt(this)},ln.X=function(){try{return 2<Pt(this)?this.a.status:-1}catch(e){return-1}},ln.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},ln.Na=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),mr(t)}},ln.ua=function(){return this.h},ln.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},ln=Mt.prototype,ln.ha=8,ln.v=1,ln.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t=new Ae(this,this.c,e,void 0),n=this.l;this.O&&(n?(n=T(n),S(n,this.O)):n=this.O),null===this.i&&(t.B=n);var r;if(this.da)e:{for(var i=r=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.g.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=zt(this,t,r),i=Ge(this.B),Je(i,"RID",e),Je(i,"CVER",22),this.A&&Je(i,"X-HTTP-Session-Id",this.A),Wt(this,i),this.i&&n&&Lt(i,this.i,n),vt(this.b,t),this.Ga&&Je(i,"TYPE","init"),this.da?(Je(i,"$req",r),Je(i,"SID","null"),t.V=!0,ke(t,i,null)):ke(t,i,r),this.v=2}}else 3==this.v&&(e?Ht(this,e):0==this.g.length||pt(this.b)||Ht(this))},ln.Aa=function(){if(this.j=null,Yt(this),this.V&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=we(f(this.Sa,this),e)}},ln.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ut(this),Yt(this))},ln.Ra=function(){null!=this.m&&(this.m=null,Ut(this),Kt(this),_e(19))},ln.Xa=function(e){e?(this.c.info("Successfully pinged google.com"),_e(2)):(this.c.info("Failed to ping google.com"),_e(1))},ln=rn.prototype,ln.ta=function(){},ln.sa=function(){},ln.ra=function(){},ln.qa=function(){},ln.Ha=function(){},on.prototype.a=function(e,t){return new an(e,t)},d(an,K),ln=an.prototype,ln.addEventListener=function(e,t,n,r){an.S.addEventListener.call(this,e,t,n,r)},ln.removeEventListener=function(e,t,n,r){an.S.removeEventListener.call(this,e,t,n,r)},ln.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var e=this.a,t=this.l,n=this.b||void 0;_e(0),e.fa=t,e.W=n||{},e.H=e.T,e.B=tn(e,null,e.fa),Vt(e)},ln.close=function(){jt(this.a)},ln.Pa=function(e){if("string"==typeof e){var t={};t.__data__=e,qt(this.a,t)}else this.g?(t={},t.__data__=Kn(e),qt(this.a,t)):qt(this.a,e)},ln.G=function(){this.a.f=null,delete this.f,jt(this.a),delete this.a,an.S.G.call(this)},d(sn,Ce),d(un,Ie),d(cn,rn),cn.prototype.ta=function(){this.a.dispatchEvent("a")},cn.prototype.sa=function(e){this.a.dispatchEvent(new sn(e))},cn.prototype.ra=function(e){this.a.dispatchEvent(new un(e))},cn.prototype.qa=function(){this.a.dispatchEvent("b")},on.prototype.createWebChannel=on.prototype.a,an.prototype.send=an.prototype.Pa,an.prototype.open=an.prototype.Oa,an.prototype.close=an.prototype.close,tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,nr.COMPLETE="complete",Se.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",K.prototype.listen=K.prototype.va,St.prototype.listenOnce=St.prototype.wa,St.prototype.getLastError=St.prototype.Qa,St.prototype.getLastErrorCode=St.prototype.ua,St.prototype.getStatus=St.prototype.X,St.prototype.getResponseJson=St.prototype.Na,St.prototype.getResponseText=St.prototype.$,St.prototype.send=St.prototype.ba;var _r={createWebChannelTransport:function(){return new on},ErrorCode:tr,EventType:nr,WebChannel:Se,XhrIo:St},br=_r.createWebChannelTransport,wr=_r.ErrorCode,Er=_r.EventType,Tr=_r.WebChannel,Sr=_r.XhrIo;t.default=_r}.call(t,n(52))},function(e,t,n){"use strict";function r(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function i(e,t,n){var i=r(e),o=i,a=void 0;try{var s=t&&t.error;if(s){var u=s.status;if("string"==typeof u){if(!p[u])return new d("internal","internal");i=p[u],o=u}var c=s.message;"string"==typeof c&&(o=c),void 0!==(a=s.details)&&(a=n.decode(a))}}catch(e){}return"ok"===i?null:new d(i,o,a)}function o(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function a(e){var t,n=new Promise(function(n,r){t=setTimeout(function(){r(new d("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}function s(e,t){return l.__awaiter(this,void 0,void 0,function(){var n;return l.__generator(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}function u(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("messaging");return new g(n,r,i,t)}var c=n(28),l=n(23),h=n(35),f=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(c),p={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},d=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return l.__extends(t,e),t}(Error),m=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(function(e){return n.auth=e},function(){}),this.messaging||t.get().then(function(e){return n.messaging=e},function(){})}return e.prototype.getAuthToken=function(){return l.__awaiter(this,void 0,void 0,function(){var e,t;return l.__generator(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=n.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return t=n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(e){if(!(this.messaging&&"Notification"in self&&"granted"===Notification.permission))return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]})})},e.prototype.getContext=function(){return l.__awaiter(this,void 0,void 0,function(){var e,t;return l.__generator(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}})})},e}(),v=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map(function(e){return t.encode(e)});if("function"==typeof e||"object"==typeof e)return o(e,function(e){return t.encode(e)});throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(e){return t.decode(e)}):"function"==typeof e||"object"==typeof e?o(e,function(e){return t.decode(e)}):e},e}(),g=function(){function e(e,t,n,r){var i=this;void 0===r&&(r="us-central1"),this.app_=e,this.region_=r,this.serializer=new v,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(i.deleteService())}},this.contextProvider=new m(t,n),this.cancelAllRequests=new Promise(function(e){i.deleteService=function(){return e()}})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId,n=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+n+"/"+e:"https://"+n+"-"+t+".cloudfunctions.net/"+e},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return l.__awaiter(this,void 0,void 0,function(){var r,i,o,a;return l.__generator(this,function(s){switch(s.label){case 0:n.append("Content-Type","application/json"),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,fetch(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 2:return r=s.sent(),[3,4];case 3:return i=s.sent(),[2,{status:0,json:null}];case 4:o=null,s.label=5;case 5:return s.trys.push([5,7,,8]),[4,r.json()];case 6:return o=s.sent(),[3,8];case 7:return a=s.sent(),[3,8];case 8:return[2,{status:r.status,json:o}]}})})},e.prototype.call=function(e,t,n){return l.__awaiter(this,void 0,void 0,function(){var r,o,u,c,h,f,p,m,v,g,y,_;return l.__generator(this,function(l){switch(l.label){case 0:return r=this._url(e),t=this.serializer.encode(t),o={data:t},u=new Headers,[4,this.contextProvider.getContext()];case 1:return c=l.sent(),c.authToken&&u.append("Authorization","Bearer "+c.authToken),c.instanceIdToken&&u.append("Firebase-Instance-ID-Token",c.instanceIdToken),h=n.timeout||7e4,f=a(h),p=f.timer,m=f.promise,[4,Promise.race([s(p,this.postJSON(r,o,u)),m,s(p,this.cancelAllRequests)])];case 2:if(!(v=l.sent()))throw new d("cancelled","Firebase Functions instance was deleted.");if(g=i(v.status,v.json,this.serializer))throw g;if(!v.json)throw new d("internal","Response is not valid JSON object.");if(y=v.json.data,void 0===y&&(y=v.json.result),void 0===y)throw new d("internal","Response is missing data field.");return _=this.serializer.decode(y),[2,{data:_}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e){var t={Functions:g};e.INTERNAL.registerComponent(new h.Component("functions",u,"PUBLIC").setServiceProps(t).setMultipleInstances(!0))}(f.default),f.default.registerVersion("@firebase/functions","0.4.51")},function(e,t,n){"use strict";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function r(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(X.__spread)(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function i(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function o(e){return Object(X.__awaiter)(this,void 0,void 0,function(){var t,n,i,o,s=this;return Object(X.__generator)(this,function(u){switch(u.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=u.sent(),n=t.map(function(e){return e.name}),!n.includes(ae))return[2,null];u.label=2;case 2:return i=null,[4,Object(J.openDb)(ae,se,function(t){return Object(X.__awaiter)(s,void 0,void 0,function(){var n,o,a,a,a,s;return Object(X.__generator)(this,function(u){switch(u.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(ue)?(n=t.transaction.objectStore(ue),[4,n.index("fcmSenderId").get(e)]):[2];case 1:return o=u.sent(),[4,n.clear()];case 2:if(u.sent(),!o)return[2];if(2===t.oldVersion){if(a=o,!a.auth||!a.p256dh||!a.endpoint)return[2];i={token:a.fcmToken,createTime:null!==(s=a.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:a.auth,p256dh:a.p256dh,endpoint:a.endpoint,swScope:a.swScope,vapidKey:"string"==typeof a.vapidKey?a.vapidKey:r(a.vapidKey)}}}else 3===t.oldVersion?(a=o,i={token:a.fcmToken,createTime:a.createTime,subscriptionOptions:{auth:r(a.auth),p256dh:r(a.p256dh),endpoint:a.endpoint,swScope:a.swScope,vapidKey:r(a.vapidKey)}}):4===t.oldVersion&&(a=o,i={token:a.fcmToken,createTime:a.createTime,subscriptionOptions:{auth:r(a.auth),p256dh:r(a.p256dh),endpoint:a.endpoint,swScope:a.swScope,vapidKey:r(a.vapidKey)}});return[2]}})})})];case 3:return o=u.sent(),o.close(),[4,Object(J.deleteDb)(ae)];case 4:return u.sent(),[4,Object(J.deleteDb)("fcm_vapid_details_db")];case 5:return u.sent(),[4,Object(J.deleteDb)("undefined")];case 6:return u.sent(),[2,a(i)?i:null]}})})}function a(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}function s(){return fe||(fe=Object(J.openDb)(ce,le,function(e){switch(e.oldVersion){case 0:e.createObjectStore(he)}})),fe}function u(e){return Object(X.__awaiter)(this,void 0,void 0,function(){var t,n,r,i;return Object(X.__generator)(this,function(a){switch(a.label){case 0:return t=h(e),[4,s()];case 1:return n=a.sent(),[4,n.transaction(he).objectStore(he).get(t)];case 2:return r=a.sent(),r?[2,r]:[3,3];case 3:return[4,o(e.appConfig.senderId)];case 4:return i=a.sent(),i?[4,c(e,i)]:[3,6];case 5:return a.sent(),[2,i];case 6:return[2]}})})}function c(e,t){return Object(X.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(X.__generator)(this,function(o){switch(o.label){case 0:return n=h(e),[4,s()];case 1:return r=o.sent(),i=r.transaction(he,"readwrite"),[4,i.objectStore(he).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}})})}function l(e){return Object(X.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(X.__generator)(this,function(i){switch(i.label){case 0:return t=h(e),[4,s()];case 1:return n=i.sent(),r=n.transaction(he,"readwrite"),[4,r.objectStore(he).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function h(e){return e.appConfig.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(e,t){return Object(X.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(X.__generator)(this,function(c){switch(c.label){case 0:return[4,v(e)];case 1:n=c.sent(),r=g(t),i={method:"POST",headers:n,body:JSON.stringify(r)},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(m(e.appConfig),i)];case 3:return a=c.sent(),[4,a.json()];case 4:return o=c.sent(),[3,6];case 5:throw s=c.sent(),te.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw u=o.error.message,te.create("token-subscribe-failed",{errorInfo:u});if(!o.token)throw te.create("token-subscribe-no-token");return[2,o.token]}})})}function p(e,t){return Object(X.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(X.__generator)(this,function(c){switch(c.label){case 0:return[4,v(e)];case 1:n=c.sent(),r=g(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(m(e.appConfig)+"/"+t.token,i)];case 3:return a=c.sent(),[4,a.json()];case 4:return o=c.sent(),[3,6];case 5:throw s=c.sent(),te.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw u=o.error.message,te.create("token-update-failed",{errorInfo:u});if(!o.token)throw te.create("token-update-no-token");return[2,o.token]}})})}function d(e,t){return Object(X.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(X.__generator)(this,function(u){switch(u.label){case 0:return[4,v(e)];case 1:n=u.sent(),r={method:"DELETE",headers:n},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(m(e.appConfig)+"/"+t,r)];case 3:return i=u.sent(),[4,i.json()];case 4:if(o=u.sent(),o.error)throw a=o.error.message,te.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw s=u.sent(),te.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}})})}function m(e){var t=e.projectId;return re+"/projects/"+t+"/registrations"}function v(e){var t=e.appConfig,n=e.installations;return Object(X.__awaiter)(this,void 0,void 0,function(){var e;return Object(X.__generator)(this,function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}})})}function g(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==ne&&(o.web.applicationPubKey=i),o}function y(e,t,n){return Object(X.__awaiter)(this,void 0,void 0,function(){var i,o,a,s;return Object(X.__generator)(this,function(c){switch(c.label){case 0:if("granted"!==Notification.permission)throw te.create("permission-blocked");return[4,E(t,n)];case 1:return i=c.sent(),[4,u(e)];case 2:return o=c.sent(),a={vapidKey:n,swScope:t.scope,endpoint:i.endpoint,auth:r(i.getKey("auth")),p256dh:r(i.getKey("p256dh"))},o?[3,3]:[2,w(e,a)];case 3:if(T(o.subscriptionOptions,a))return[3,8];c.label=4;case 4:return c.trys.push([4,6,,7]),[4,d(e,o.token)];case 5:return c.sent(),[3,7];case 6:return s=c.sent(),console.warn(s),[3,7];case 7:return[2,w(e,a)];case 8:return Date.now()>=o.createTime+pe?[2,b({token:o.token,createTime:Date.now(),subscriptionOptions:a},e,t)]:[2,o.token];case 9:return[2]}})})}function _(e,t){return Object(X.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(X.__generator)(this,function(i){switch(i.label){case 0:return[4,u(e)];case 1:return n=i.sent(),n?[4,d(e,n.token)]:[3,4];case 2:return i.sent(),[4,l(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function b(e,t,n){return Object(X.__awaiter)(this,void 0,void 0,function(){var r,i,o;return Object(X.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,p(t,e)];case 1:return r=a.sent(),i=Object(X.__assign)(Object(X.__assign)({},e),{token:r,createTime:Date.now()}),[4,c(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,_(t,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function w(e,t){return Object(X.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(X.__generator)(this,function(i){switch(i.label){case 0:return[4,f(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,c(e,r)];case 2:return i.sent(),[2,r.token]}})})}function E(e,t){return Object(X.__awaiter)(this,void 0,void 0,function(){var n;return Object(X.__generator)(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:i(t)})]}})})}function T(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function S(e){var t={from:e.from,collapseKey:e.collapse_key};return C(t,e),I(t,e),O(t,e),t}function C(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function I(e,t){t.data&&(e.data=t.data)}function O(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function A(e){return"object"==typeof e&&!!e&&oe in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function k(e){return new Promise(function(t){setTimeout(t,e)})}function N(e){var t,n=Object(X.__assign)({},e.notification);return n.data=(t={},t[ie]=e,t),n}function x(e){var t=e.data;if(!t)return null;try{return t.json()}catch(e){return null}}function P(e){return Object(X.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,a,s;return Object(X.__generator)(this,function(u){switch(u.label){case 0:return[4,D()];case 1:t=u.sent();try{for(n=Object(X.__values)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(e){a={error:e}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function R(e){return e.some(function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")})}function L(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=K.PUSH_RECEIVED;try{for(var i=Object(X.__values)(e),o=i.next();!o.done;o=i.next())o.value.postMessage(t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function D(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function M(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}function j(e){var t,n,r;return(null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action)||(A(e.data)?self.location.origin:null)}function U(e){switch(e){case K.NOTIFICATION_CLICKED:return"notification_open";case K.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function F(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function q(e){var t,n;if(!e||!e.options)throw V("App Configuration Object");if(!e.name)throw V("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var o=Object(X.__values)(r),a=o.next();!a.done;a=o.next()){var s=a.value;if(!i[s])throw V(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function V(e){return te.create("missing-app-config-values",{valueName:e})}function B(e){var t=e.getProvider("app").getImmediate(),n=q(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),o={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!H())throw te.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new de(o):new me(o)}function H(){return self&&"ServiceWorkerGlobalScope"in self?z():W()}function W(){return"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function z(){return"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Object.defineProperty(t,"__esModule",{value:!0});var G,K,Q=(n(81),n(35)),Y=(n.n(Q),n(38)),X=(n.n(Y),n(23)),J=n(163),$=(n.n(J),n(28)),Z=n.n($),ee=(G={},G["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',G["only-available-in-window"]="This method is available in a Window context.",G["only-available-in-sw"]="This method is available in a service worker context.",G["permission-default"]="The notification permission was not granted and dismissed instead.",G["permission-blocked"]="The notification permission was not granted and blocked instead.",G["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",G["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",G["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",G["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",G["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",G["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",G["token-update-no-token"]="FCM returned no token when updating the user to push.",G["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",G["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",G["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",G["invalid-vapid-key"]="The public VAPID key must be a string.",G["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",G),te=new Y.ErrorFactory("messaging","Messaging",ee),ne="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",re="https://fcmregistrations.googleapis.com/v1",ie="FCM_MSG",oe="google.c.a.c_id";!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(K||(K={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ae="fcm_token_details_db",se=5,ue="fcm_token_object_Store",ce="firebase-messaging-database",le=1,he="firebase-messaging-store",fe=null,pe=6048e5,de=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(e){e.waitUntil(t.onPush(e))}),self.addEventListener("pushsubscriptionchange",function(e){e.waitUntil(t.onSubChange(e))}),self.addEventListener("notificationclick",function(e){e.waitUntil(t.onNotificationClick(e))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw te.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return Object(X.__awaiter)(this,void 0,void 0,function(){var n;return Object(X.__generator)(this,function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,u(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:ne,r.label=2;case 2:return[2,y(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return _(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw te.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw te.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw te.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw te.create("only-available-in-window")},e.prototype.onMessage=function(){throw te.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw te.create("only-available-in-window")},e.prototype.onPush=function(e){return Object(X.__awaiter)(this,void 0,void 0,function(){var t,n,r,i;return Object(X.__generator)(this,function(o){switch(o.label){case 0:return t=x(e),t?[4,D()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return n=o.sent(),R(n)?[2,L(n,t)]:(r=!1,t.notification?[4,M(N(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=S(t),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[2])}})})},e.prototype.onSubChange=function(e){var t,n;return Object(X.__awaiter)(this,void 0,void 0,function(){var r,i;return Object(X.__generator)(this,function(o){switch(o.label){case 0:return r=e.newSubscription,r?[3,2]:[4,_(this.firebaseDependencies,self.registration)];case 1:return o.sent(),[2];case 2:return[4,u(this.firebaseDependencies)];case 3:return i=o.sent(),[4,_(this.firebaseDependencies,self.registration)];case 4:return o.sent(),[4,y(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===i||void 0===i?void 0:i.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:ne)];case 5:return o.sent(),[2]}})})},e.prototype.onNotificationClick=function(e){var t,n;return Object(X.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s;return Object(X.__generator)(this,function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n[ie])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=j(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,P(o)]):[2]):[2];case 1:return s=u.sent(),s?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,k(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=K.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}})})},e}(),me=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(e){return t.messageEventListener(e)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return Object(X.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(X.__generator)(this,function(r){switch(r.label){case 0:return t=e.data,t.isFirebaseMessaging?(this.onMessageCallback&&t.messageType===K.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(F(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),n=t.data,A(n)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return Object(X.__awaiter)(this,void 0,void 0,function(){return Object(X.__generator)(this,function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw te.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,y(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(e){return Object(X.__awaiter)(this,void 0,void 0,function(){return Object(X.__generator)(this,function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=ne),[2]})})},e.prototype.updateSwReg=function(e){return Object(X.__awaiter)(this,void 0,void 0,function(){return Object(X.__generator)(this,function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw te.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},e.prototype.registerDefaultSw=function(){return Object(X.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(X.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw t=n.sent(),te.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return Object(X.__awaiter)(this,void 0,void 0,function(){return Object(X.__generator)(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,_(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return Object(X.__awaiter)(this,void 0,void 0,function(){var e;return Object(X.__generator)(this,function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?te.create("permission-blocked"):te.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw te.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw te.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw te.create("invalid-sw-registration");if(this.swRegistration)throw te.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw te.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw te.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return Object(X.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(X.__generator)(this,function(i){switch(i.label){case 0:return n=U(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r=i.sent(),r.logEvent(n,{message_id:t[oe],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}(),ve={isSupported:H};Z.a.INTERNAL.registerComponent(new Q.Component("messaging",B,"PUBLIC").setServiceProps(ve))},function(e,t,n){"use strict";function r(e){return"storage/"+e}function i(){return new Ze(et.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function o(e){return new Ze(et.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function a(e){return new Ze(et.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function s(){return new Ze(et.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}function u(e){return new Ze(et.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function c(){return new Ze(et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function l(){return new Ze(et.CANCELED,"User canceled the upload/download.")}function h(e){return new Ze(et.INVALID_URL,"Invalid URL '"+e+"'.")}function f(e){return new Ze(et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function p(){return new Ze(et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function d(){return new Ze(et.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function m(){return new Ze(et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function v(e,t,n){return new Ze(et.INVALID_ARGUMENT,"Invalid argument in `"+t+"` at index "+e+": "+n)}function g(e,t,n,r){var i,o;return e===t?(i=e,o=1===e?"argument":"arguments"):(i="between "+e+" and "+t,o="arguments"),new Ze(et.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+i+" "+o+", received "+r+".")}function y(){return new Ze(et.APP_DELETED,"The Firebase app was deleted.")}function _(e){return new Ze(et.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function b(e,t){return new Ze(et.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function w(e){throw new Ze(et.INTERNAL_ERROR,"Internal error: "+e)}function E(e){switch(e){case tt.RAW:case tt.BASE64:case tt.BASE64URL:case tt.DATA_URL:return;default:throw"Expected one of the event types: ["+tt.RAW+", "+tt.BASE64+", "+tt.BASE64URL+", "+tt.DATA_URL+"]."}}function T(e,t){switch(e){case tt.RAW:return new nt(S(t));case tt.BASE64:case tt.BASE64URL:return new nt(I(e,t));case tt.DATA_URL:return new nt(O(t),A(t))}throw i()}function S(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r)){var i=n<e.length-1&&56320==(64512&e.charCodeAt(n+1));if(i){var o=r,a=e.charCodeAt(++n);r=65536|(1023&o)<<10|1023&a,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function C(e){var t;try{t=decodeURIComponent(e)}catch(e){throw b(tt.DATA_URL,"Malformed data URL.")}return S(t)}function I(e,t){switch(e){case tt.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){var i=n?"-":"_";throw b(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break;case tt.BASE64URL:var o=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(o||a){var i=o?"+":"/";throw b(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(t)}catch(t){throw b(e,"Invalid character found")}for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return u}function O(e){var t=new rt(e);return t.base64?I(tt.BASE64,t.rest):C(t.rest)}function A(e){return new rt(e).contentType}function k(e,t){return!!(e.length>=t.length)&&e.substring(e.length-t.length)===t}function N(e){switch(e){case ot.RUNNING:case ot.PAUSING:case ot.CANCELING:return at.RUNNING;case ot.PAUSED:return at.PAUSED;case ot.SUCCESS:return at.SUCCESS;case ot.CANCELED:return at.CANCELED;case ot.ERROR:default:return at.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function x(e){return null!=e}function P(e){return void 0!==e}function R(e){return"function"==typeof e}function L(e){return"object"==typeof e}function D(e){return L(e)&&null!==e}function M(e){return L(e)&&!Array.isArray(e)}function j(e){return"string"==typeof e||e instanceof String}function U(e){return F(e)&&Number.isInteger(e)}function F(e){return"number"==typeof e||e instanceof Number}function q(e){return V()&&e instanceof Blob}function V(){return"undefined"!=typeof Blob}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function B(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function H(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=B();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(V())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}function W(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function z(e){var t;try{t=JSON.parse(e)}catch(e){return null}return M(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function G(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}function K(e,t){var n=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?n:e+"/"+n}function Q(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Y(e){return"https://"+Xe+"/v0"+e}function X(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function J(e,t){return t}function $(e){return!j(e)||e.length<2?e:Q(e)}function Z(){function e(e,t){return $(t)}function t(e,t){return x(t)?Number(t):t}if(ft)return ft;var n=[];n.push(new ht("bucket")),n.push(new ht("generation")),n.push(new ht("metageneration")),n.push(new ht("name","fullPath",!0));var r=new ht("name");r.xform=e,n.push(r);var i=new ht("size");return i.xform=t,n.push(i),n.push(new ht("timeCreated")),n.push(new ht("updated")),n.push(new ht("md5Hash",null,!0)),n.push(new ht("cacheControl",null,!0)),n.push(new ht("contentDisposition",null,!0)),n.push(new ht("contentEncoding",null,!0)),n.push(new ht("contentLanguage",null,!0)),n.push(new ht("contentType",null,!0)),n.push(new ht("metadata","customMetadata",!0)),ft=n}function ee(e,t){function n(){var n=e.bucket,r=e.fullPath,i=new lt(n,r);return t.makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function te(e,t,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return ee(r,e),r}function ne(e,t,n){var r=z(t);return null===r?null:te(e,r,n)}function re(e,t){var n=z(t);if(null===n)return null;if(!j(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(t){var n=e.bucket,r=e.fullPath;return Y("/b/"+i(n)+"/o/"+i(r))+X({alt:"media",token:t})})[0]}function ie(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function oe(e){if(!L(e)||!e)throw"Expected Metadata object.";for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if("customMetadata"===t){if(!L(n))throw"Expected object for 'customMetadata' mapping."}else if(D(n))throw"Mapping for '"+t+"' cannot be an object."}}function ae(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[vt])for(var i=0,o=n[vt];i<o.length;i++){var a=o[i],s=a.replace(/\/$/,""),u=e.makeStorageReference(new lt(t,s));r.prefixes.push(u)}if(n[gt])for(var c=0,l=n[gt];c<l.length;c++){var h=l[c],u=e.makeStorageReference(new lt(t,h.name));r.items.push(u)}return r}function se(e,t,n){var r=z(n);return null===r?null:ae(e,t,r)}function ue(e){if(!L(e)||!e)throw"Expected ListOptions object.";for(var t in e)if(t===pt){if(!U(e[pt])||e[pt]<=0)throw"Expected maxResults to be a positive number.";if(e[pt]>1e3)throw"Expected maxResults to be less than or equal to "+dt+"."}else{if(t!==mt)throw"Unknown option: "+t;if(e[mt]&&!j(e[mt]))throw"Expected pageToken to be string."}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ce(e){if(!e)throw i()}function le(e,t){function n(n,r){var i=ne(e,r,t);return ce(null!==i),i}return n}function he(e,t){function n(n,r){var i=se(e,t,r);return ce(null!==i),i}return n}function fe(e,t){function n(n,r){var i=ne(e,r,t);return ce(null!==i),re(i,r)}return n}function pe(e){function t(t,n){var r;return r=401===t.getStatus()?s():402===t.getStatus()?a(e.bucket):403===t.getStatus()?u(e.path):n,r.setServerResponseProp(n.serverResponseProp()),r}return t}function de(e){function t(t,r){var i=n(t,r);return 404===t.getStatus()&&(i=o(e.path)),i.setServerResponseProp(r.serverResponseProp()),i}var n=pe(e);return t}function me(e,t,n){var r=t.fullServerUrl(),i=Y(r),o=e.maxOperationRetryTime,a=new yt(i,"GET",le(e,n),o);return a.errorHandler=de(t),a}function ve(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=t.bucketOnlyServerUrl(),s=Y(a),u=e.maxOperationRetryTime,c=new yt(s,"GET",he(e,t.bucket),u);return c.urlParams=o,c.errorHandler=pe(t),c}function ge(e,t,n){var r=t.fullServerUrl(),i=Y(r),o=e.maxOperationRetryTime,a=new yt(i,"GET",fe(e,n),o);return a.errorHandler=de(t),a}function ye(e,t,n,r){var i=t.fullServerUrl(),o=Y(i),a=ie(n,r),s={"Content-Type":"application/json; charset=utf-8"},u=e.maxOperationRetryTime,c=new yt(o,"PATCH",le(e,r),u);return c.headers=s,c.body=a,c.errorHandler=de(t),c}function _e(e,t){function n(e,t){}var r=t.fullServerUrl(),i=Y(r),o=e.maxOperationRetryTime,a=new yt(i,"DELETE",n,o);return a.successCodes=[200,204],a.errorHandler=de(t),a}function be(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function we(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=be(null,t)),r}function Ee(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=we(t,r,i),c=ie(u,n),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",h="\r\n--"+s+"--",f=ct.getBlob(l,r,h);if(null===f)throw p();var d={name:u.fullPath},m=Y(o),v=e.maxUploadRetryTime,g=new yt(m,"POST",le(e,n),v);return g.urlParams=d,g.headers=a,g.body=f.uploadData(),g.errorHandler=pe(t),g}function Te(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){ce(!1)}var r=t||["active"];return ce(!!n&&-1!==r.indexOf(n)),n}function Se(e,t,n,r,i){function o(e){Te(e);var t;try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){ce(!1)}return ce(j(t)),t}var a=t.bucketOnlyServerUrl(),s=we(t,r,i),u={name:s.fullPath},c=Y(a),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=ie(s,n),f=e.maxUploadRetryTime,p=new yt(c,"POST",o,f);return p.urlParams=u,p.headers=l,p.body=h,p.errorHandler=pe(t),p}function Ce(e,t,n,r){function i(e){var t=Te(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){ce(!1)}n||ce(!1);var i=Number(n);return ce(!isNaN(i)),new _t(i,r.size(),"final"===t)}var o={"X-Goog-Upload-Command":"query"},a=e.maxUploadRetryTime,s=new yt(n,"POST",i,a);return s.headers=o,s.errorHandler=pe(t),s}function Ie(e,t,n,r,i,o,a,s){function u(e,n){var i,a=Te(e,["active","final"]),s=c.current+h,u=r.size();return i="final"===a?le(t,o)(e,n):null,new _t(s,u,"final"===a,i)}var c=new _t(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw d();var l=c.total-c.current,h=l;i>0&&(h=Math.min(h,i));var f=c.current,m=f+h,v=h===l?"upload, finalize":"upload",g={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":c.current},y=r.slice(f,m);if(null===y)throw p();var _=t.maxUploadRetryTime,b=new yt(n,"POST",u,_);return b.headers=g,b.body=y.uploadData(),b.progressCallback=s||null,b.errorHandler=pe(e),b}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Oe(e,t,n){for(var r=t.length,i=t.length,o=0;o<t.length;o++)if(t[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw g(r,i,e,n.length);for(var o=0;o<n.length;o++)try{t[o].validator(n[o])}catch(t){throw t instanceof Error?v(o,e,t.message):v(o,e,t)}}function Ae(e,t){return function(n){e(n),t(n)}}function ke(e,t){function n(e){if(!j(e))throw"Expected string."}var r;return r=e?Ae(n,e):n,new Et(r,t)}function Ne(){function e(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||V()&&e instanceof Blob))throw"Expected Blob or File."}return new Et(e)}function xe(e){return new Et(oe,e)}function Pe(e){return new Et(ue,e)}function Re(){function e(e){if(!(F(e)&&e>=0))throw"Expected a number 0 or greater."}return new Et(e)}function Le(e,t){function n(t){if(!(null===t||x(t)&&t instanceof Object))throw"Expected an Object.";void 0!==e&&null!==e&&e(t)}return new Et(n,t)}function De(e){function t(e){if(null!==e&&!R(e))throw"Expected a Function."}return new Et(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Me(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function je(e,t,n){function r(){return 2===h}function i(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];f||(f=!0,t.apply(null,e))}function o(t){c=setTimeout(function(){c=null,e(a,r())},t)}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!f){if(e)return void i.call.apply(i,Object(Qe.__spreadArrays)([null,e],t));if(r()||l)return void i.call.apply(i,Object(Qe.__spreadArrays)([null,e],t));u<64&&(u*=2);var a;1===h?(h=2,a=0):a=1e3*(u+Math.random()),o(a)}}function s(e){p||(p=!0,f||(null!==c?(e||(h=2),clearTimeout(c),o(0)):e||(h=1)))}var u=1,c=null,l=!1,h=0,f=!1,p=!1;return o(0),setTimeout(function(){l=!0,s(!0)},n),s}function Ue(e){e(!1)}function Fe(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function qe(e){var t=void 0!==Ke.a?Ke.a.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}function Ve(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Be(e,t,n,r){var i=X(e.urlParams),o=e.url+i,a=Object.assign({},e.headers);return Ve(a,t),Fe(a,n),qe(a),new It(o,e.method,a,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}function He(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return new At(n,r,new ut,t)}function We(e){var t={TaskState:at,TaskEvent:it,StringFormat:tt,Storage:At,Reference:St};e.INTERNAL.registerComponent(new Ye.Component(Pt,He,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(Nt,xt)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"registerStorage",function(){return We});var ze,Ge=n(28),Ke=n.n(Ge),Qe=n(23),Ye=n(35),Xe=(n.n(Ye),"firebasestorage.googleapis.com"),Je=12e4,$e=6e5,Ze=function(){function e(e,t){this.code_=r(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return r(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),e}(),et={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"},tt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},nt=function(){function e(e,t){this.data=e,this.contentType=t||null}return e}(),rt=function(){function e(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw b(tt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=k(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}return e}(),it={STATE_CHANGED:"state_changed"},ot={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},at={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(ze||(ze={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var st=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ze.NO_ERROR,this.sendPromise_=new Promise(function(t){e.xhr_.addEventListener("abort",function(){e.errorCode_=ze.ABORT,t(e)}),e.xhr_.addEventListener("error",function(){e.errorCode_=ze.NETWORK_ERROR,t(e)}),e.xhr_.addEventListener("load",function(){t(e)})})}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw w("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),x(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return x(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw w("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw w("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw w("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){x(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){x(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}(),ut=function(){function e(){}return e.prototype.createXhrIo=function(){return new st},e}(),ct=function(){function e(e,t){var n=0,r="";q(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(q(this.data_)){var r=this.data_,i=W(r,t,n);return null===i?null:new e(i)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(V()){var r=t.map(function(t){return t instanceof e?t.data_:t});return new e(H.apply(null,r))}var i=t.map(function(e){return j(e)?T(tt.RAW,e).data:e.data_}),o=0;i.forEach(function(e){o+=e.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]}),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}(),lt=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(n){return new e(t,"")}if(""===n.path)return n;throw f(t)},e.makeFromUrl=function(t){function n(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}function r(e){e.path_=decodeURIComponent(e.path)}for(var i=null,o=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),a={bucket:1,path:3},s=Xe.replace(/[.]/g,"\\."),u=new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),c={bucket:1,path:3},l=new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),f={bucket:1,path:2},p=[{regex:o,indices:a,postModify:n},{regex:u,indices:c,postModify:r},{regex:l,indices:f,postModify:r}],d=0;d<p.length;d++){var m=p[d],v=m.regex.exec(t);if(v){var g=v[m.indices.bucket],y=v[m.indices.path];y||(y=""),i=new e(g,y),m.postModify(i);break}}if(null==i)throw h(t);return i},e}(),ht=function(){function e(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||J}return e}(),ft=null,pt="maxResults",dt=1e3,mt="pageToken",vt="prefixes",gt="items",yt=function(){function e(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}(),_t=function(){function e(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}return e}(),bt=function(){function e(e,t,n){if(R(e)||x(t)||x(n))this.next=e,this.error=t||null,this.complete=n||null;else{var r=e;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}return e}(),wt=function(){function e(e,t,n,r,i,o){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=i,this.ref=o}return e}(),Et=function(){function e(e,t){var n=this;this.validator=function(t){n.optional&&!P(t)||e(t)},this.optional=!!t}return e}(),Tt=function(){function e(e,t,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.service_=t,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=ot.RUNNING,this.errorHandler_=function(e){a.request_=null,a.chunkMultiplier_=1,e.codeEquals(et.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=e,a.transition_(ot.ERROR))},this.metadataErrorHandler_=function(e){a.request_=null,e.codeEquals(et.CANCELED)?a.completeTransitions_():(a.error_=e,a.transition_(ot.ERROR))},this.promise_=new Promise(function(e,t){a.resolve_=e,a.reject_=t,a.start_()}),this.promise_.then(null,function(){})}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n){return e.updateProgress_(t+n)}},e.prototype.shouldDoResumable_=function(e){return e.size()>262144},e.prototype.start_=function(){this.state_===ot.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.service_.getAuthToken().then(function(n){switch(t.state_){case ot.RUNNING:e(n);break;case ot.CANCELING:t.transition_(ot.CANCELED);break;case ot.PAUSING:t.transition_(ot.PAUSED)}})},e.prototype.createResumable_=function(){var e=this;this.resolveToken_(function(t){var n=Se(e.service_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.service_.makeRequest(n,t);e.request_=r,r.getPromise().then(function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()},e.errorHandler_)})},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_(function(n){var r=Ce(e.service_,e.location_,t,e.blob_),i=e.service_.makeRequest(r,n);e.request_=i,i.getPromise().then(function(t){t=t,e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()},e.errorHandler_)})},e.prototype.continueUpload_=function(){var e=this,t=262144*this.chunkMultiplier_,n=new _t(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(i){var o;try{o=Ie(e.location_,e.service_,r,e.blob_,t,e.mappings_,n,e.makeProgressCallback_())}catch(t){return e.error_=t,void e.transition_(ot.ERROR)}var a=e.service_.makeRequest(o,i);e.request_=a,a.getPromise().then(function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_(ot.SUCCESS)):e.completeTransitions_()},e.errorHandler_)})},e.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_(function(t){var n=me(e.service_,e.location_,e.mappings_),r=e.service_.makeRequest(n,t);e.request_=r,r.getPromise().then(function(t){e.request_=null,e.metadata_=t,e.transition_(ot.SUCCESS)},e.metadataErrorHandler_)})},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_(function(t){var n=Ee(e.service_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.service_.makeRequest(n,t);e.request_=r,r.getPromise().then(function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_(ot.SUCCESS)},e.errorHandler_)})},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case ot.CANCELING:case ot.PAUSING:this.state_=e,null!==this.request_&&this.request_.cancel();break;case ot.RUNNING:var t=this.state_===ot.PAUSED;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case ot.PAUSED:this.state_=e,this.notifyObservers_();break;case ot.CANCELED:this.error_=l(),this.state_=e,this.notifyObservers_();break;case ot.ERROR:case ot.SUCCESS:this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case ot.PAUSING:this.transition_(ot.PAUSED);break;case ot.CANCELING:this.transition_(ot.CANCELED);break;case ot.RUNNING:this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=N(this.state_);return new wt(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){function i(){if(e!==it.STATE_CHANGED)throw"Expected one of the event types: ["+it.STATE_CHANGED+"]."}function o(e){try{return void c(e)}catch(e){}try{if(l(e),!(P(e.next)||P(e.error)||P(e.complete)))throw"";return}catch(e){throw u}}function a(e){function t(t,n,i){null!==e&&Oe("on",e,arguments);var o=new bt(t,n,r);return h.addObserver_(o),function(){h.removeObserver_(o)}}return t}function s(e){if(null===e)throw u;o(e)}var u="Expected a function or an Object with one of `next`, `error`, `complete` properties.",c=De(!0).validator,l=Le(null,!0).validator;Oe("on",[ke(i),Le(o,!0),De(!0),De(!0)],arguments);var h=this,f=[Le(s),De(!0),De(!0)];return P(t)||P(n)||P(r)?a(null)(t,n,r):a(f)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){var t=this.observers_.indexOf(e);-1!==t&&this.observers_.splice(t,1)},e.prototype.notifyObservers_=function(){var e=this;this.finishPromise_(),this.observers_.slice().forEach(function(t){e.notifyObserver_(t)})},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(N(this.state_)){case at.SUCCESS:Me(this.resolve_.bind(null,this.snapshot))();break;case at.CANCELED:case at.ERROR:Me(this.reject_.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){switch(N(this.state_)){case at.RUNNING:case at.PAUSED:e.next&&Me(e.next.bind(e,this.snapshot))();break;case at.SUCCESS:e.complete&&Me(e.complete.bind(e))();break;case at.CANCELED:case at.ERROR:e.error&&Me(e.error.bind(e,this.error_))();break;default:e.error&&Me(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){Oe("resume",[],arguments);var e=this.state_===ot.PAUSED||this.state_===ot.PAUSING;return e&&this.transition_(ot.RUNNING),e},e.prototype.pause=function(){Oe("pause",[],arguments);var e=this.state_===ot.RUNNING;return e&&this.transition_(ot.PAUSING),e},e.prototype.cancel=function(){Oe("cancel",[],arguments);var e=this.state_===ot.RUNNING||this.state_===ot.PAUSING;return e&&this.transition_(ot.CANCELING),e},e}(),St=function(){function e(e,t){this.service=e,this.location=t instanceof lt?t:lt.makeFromUrl(t)}return e.prototype.toString=function(){return Oe("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return Z()},e.prototype.child=function(e){Oe("child",[ke()],arguments);var t=K(this.location.path,e),n=new lt(this.location.bucket,t);return this.newRef(this.service,n)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=G(this.location.path);if(null===e)return null;var t=new lt(this.location.bucket,e);return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new lt(this.location.bucket,"");return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Q(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),Oe("put",[Ne(),xe(!0)],arguments),this.throwIfRoot_("put"),new Tt(this,this.service,this.location,this.mappings(),new ct(e),t)},e.prototype.putString=function(e,t,n){void 0===t&&(t=tt.RAW),Oe("putString",[ke(),ke(E,!0),xe(!0)],arguments),this.throwIfRoot_("putString");var r=T(t,e),i=Object.assign({},n);return!x(i.contentType)&&x(r.contentType)&&(i.contentType=r.contentType),new Tt(this,this.service,this.location,this.mappings(),new ct(r.data,!0),i)},e.prototype.delete=function(){var e=this;return Oe("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then(function(t){var n=_e(e.service,e.location);return e.service.makeRequest(n,t).getPromise()})},e.prototype.listAll=function(){Oe("listAll",[],arguments);var e={prefixes:[],items:[]};return this.listAllHelper(e).then(function(){return e})},e.prototype.listAllHelper=function(e,t){return Object(Qe.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(Qe.__generator)(this,function(a){switch(a.label){case 0:return n={pageToken:t},[4,this.list(n)];case 1:return r=a.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,this.listAllHelper(e,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}})})},e.prototype.list=function(e){Oe("list",[Pe(!0)],arguments);var t=this;return this.service.getAuthToken().then(function(n){var r=e||{},i=ve(t.service,t.location,"/",r.pageToken,r.maxResults);return t.service.makeRequest(i,n).getPromise()})},e.prototype.getMetadata=function(){var e=this;return Oe("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then(function(t){var n=me(e.service,e.location,e.mappings());return e.service.makeRequest(n,t).getPromise()})},e.prototype.updateMetadata=function(e){var t=this;return Oe("updateMetadata",[xe()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then(function(n){var r=ye(t.service,t.location,e,t.mappings());return t.service.makeRequest(r,n).getPromise()})},e.prototype.getDownloadURL=function(){var e=this;return Oe("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then(function(t){var n=ge(e.service,e.location,e.mappings());return e.service.makeRequest(n,t).getPromise().then(function(e){if(null===e)throw m();return e})})},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw _(e)},e}(),Ct=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}(),It=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(e,t){h.resolve_=e,h.reject_=t,h.start_()})}return e.prototype.start_=function(){function e(e,t){function r(e){var t=e.loaded,r=e.lengthComputable?e.total:-1;null!==n.progressCallback_&&n.progressCallback_(t,r)}if(t)return void e(!1,new Ot(!1,null,!0));var i=n.pool_.createXhrIo();n.pendingXhr_=i,null!==n.progressCallback_&&i.addUploadProgressListener(r),i.send(n.url_,n.method_,n.body_,n.headers_).then(function(t){null!==n.progressCallback_&&t.removeUploadProgressListener(r),n.pendingXhr_=null,t=t;var i=t.getErrorCode()===ze.NO_ERROR,o=t.getStatus();if(!i||n.isRetryStatusCode_(o)){var a=t.getErrorCode()===ze.ABORT;return void e(!1,new Ot(!1,null,a))}var s=-1!==n.successCodes_.indexOf(o);e(!0,new Ot(s,t))})}function t(e,t){var r=n.resolve_,o=n.reject_,a=t.xhr;if(t.wasSuccessCode)try{var s=n.callback_(a,a.getResponseText());P(s)?r(s):r()}catch(e){o(e)}else if(null!==a){var u=i();u.setServerResponseProp(a.getResponseText()),o(n.errorCallback_?n.errorCallback_(a,u):u)}else if(t.canceled){var u=n.appDelete_?y():l();o(u)}else{var u=c();o(u)}}var n=this;this.canceled_?t(!1,new Ot(!1,null,!0)):this.backoffId_=je(e,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&Ue(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=[408,429],r=-1!==n.indexOf(e),i=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||i},e}(),Ot=function(){function e(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n}return e}(),At=function(){function e(t,n,r,i){var o;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=t,this.authProvider_=n,this.maxOperationRetryTime_=Je,this.maxUploadRetryTime_=$e,this.requests_=new Set,this.pool_=r,this.bucket_=null!=i?lt.makeFromBucketSpec(i):e.extractBucket_(null===(o=this.app_)||void 0===o?void 0:o.options),this.internals_=new kt(this)}return e.extractBucket_=function(e){var t=null===e||void 0===e?void 0:e.storageBucket;return null==t?null:lt.makeFromBucketSpec(t)},e.prototype.getAuthToken=function(){return Object(Qe.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(Qe.__generator)(this,function(n){switch(n.label){case 0:return e=this.authProvider_.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}})})},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach(function(e){return e.cancel()}),this.requests_.clear()},e.prototype.makeStorageReference=function(e){return new St(this,e)},e.prototype.makeRequest=function(e,t){var n=this;if(this.deleted_)return new Ct(y());var r=Be(e,this.appId_,t,this.pool_);return this.requests_.add(r),r.getPromise().then(function(){return n.requests_.delete(r)},function(){return n.requests_.delete(r)}),r},e.prototype.ref=function(e){function t(e){if("string"!=typeof e)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."}if(Oe("ref",[ke(t,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new St(this,this.bucket_);return null!=e?n.child(e):n},e.prototype.refFromURL=function(e){function t(e){if("string"!=typeof e)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{lt.makeFromUrl(e)}catch(e){throw"Expected valid full URL but got an invalid one."}}return Oe("refFromURL",[ke(t,!1)],arguments),new St(this,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){Oe("setMaxUploadRetryTime",[Re()],arguments),this.maxUploadRetryTime_=e},Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),e.prototype.setMaxOperationRetryTime=function(e){Oe("setMaxOperationRetryTime",[Re()],arguments),this.maxOperationRetryTime_=e},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),e}(),kt=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},e}(),Nt="@firebase/storage",xt="0.3.43",Pt="storage";We(Ke.a)},function(e,t,n){"use strict";function r(e){me=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function i(e,t){var n=e.length-t.length;if(n<0||n>1)throw fe.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}function o(){var e=be.getInstance().installationsService.getId();return e.then(function(e){ge=e}),e}function a(){return ge}function s(){var e=be.getInstance().installationsService.getToken();return e.then(function(e){}),e}function u(){var e=_e.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function c(){switch(_e.getInstance().document.visibilityState){case"visible":return ye.VISIBLE;case"hidden":return ye.HIDDEN;default:return ye.UNKNOWN}}function l(){var e=_e.getInstance().navigator,t=e.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function h(e){return!(0===e.length||e.length>Ce||Te.some(function(t){return e.startsWith(t)})||!e.match(Se))}function f(e){return 0!==e.length&&e.length<=Ie}function p(e){var t=d();return t?(g(t),Promise.resolve()):v(e).then(g).then(function(e){return m(e)},function(){})}function d(){var e=_e.getInstance().localStorage;if(e){var t=e.getItem(le);if(t&&y(t)){var n=e.getItem(ce);if(n)try{return JSON.parse(n)}catch(e){return}}}}function m(e){var t=_e.getInstance().localStorage;e&&t&&(t.setItem(ce,JSON.stringify(e)),t.setItem(le,String(Date.now()+60*be.getInstance().configTimeToLive*60*1e3)))}function v(e){return s().then(function(t){var n=be.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+be.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:ke+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:be.getInstance().getAppId(),app_version:ie,sdk_version:Oe})});return fetch(i).then(function(e){if(e.ok)return e.json();throw fe.create("RC response not ok")})}).catch(function(){pe.info(Ne)})}function g(e){if(!e)return e;var t=be.getInstance(),n=e.entries||{};return t.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):Ae.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=_(t.tracesSamplingRate),t.logNetworkAfterSampling=_(t.networkRequestsSamplingRate),e}function y(e){return Number(e)>Date.now()}function _(e){return Math.random()<=e}function b(){return xe=2,we=we||E()}function w(){return 3===xe}function E(){return T().then(function(){return o()}).then(function(e){return p(e)}).then(function(){return S()},function(){return S()})}function T(){var e=_e.getInstance().document;return new Promise(function(t){if(e&&"complete"!==e.readyState){var n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function S(){xe=3}function C(){je||(I(Re),je=!0)}function I(e){setTimeout(function(){if(0!==De)return Me.length?void O():I(Pe)},e)}function O(){var e=J.__spreadArrays(Me);Me=[];var t=e.map(function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}});A({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:be.getInstance().logSource,log_event:t},e).catch(function(){Me=J.__spreadArrays(e,Me),De--,pe.info("Tries left: "+De+"."),I(Pe)})}function A(e,t){return k(e).then(function(e){return e.ok||pe.info("Call to Firebase backend failed."),e.json()}).then(function(e){var n=Number(e.nextRequestWaitMillis),r=Pe;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Me=J.__spreadArrays(t,Me),pe.info("Retry transport request later.")),De=Le,I(r)})}function k(e){var t=be.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function N(e){if(!e.eventTime||!e.message)throw fe.create("invalid cc log");Me=J.__spreadArrays(Me,[e])}function x(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];N({message:e.apply(void 0,t),eventTime:Date.now()})}}function P(e,t){Ee||(Ee=x(M)),Ee(e,t)}function R(e){var t=be.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&_e.getInstance().requiredApisAvailable()&&(e.isAuto&&c()!==ye.VISIBLE||t.loggingEnabled&&t.logTraceAfterSampling&&(w()?L(e):b().then(function(){return L(e)},function(){return L(e)})))}function L(e){a()&&setTimeout(function(){return P(e,1)},0)}function D(e){var t=be.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout(function(){return P(e,0)},0)}}function M(e,t){return 0===t?j(e):U(e)}function j(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:F(),network_request_metric:t};return JSON.stringify(n)}function U(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:F(),trace_metric:t};return JSON.stringify(r)}function F(){return{google_app_id:be.getInstance().getAppId(),app_instance_id:a(),web_app_info:{sdk_version:ie,page_url:_e.getInstance().getUrl(),service_worker_status:u(),visibility_state:c(),effective_connection_type:l()},application_process_state:0}}function q(e,t){return!(0===e.length||e.length>Ue)&&(t&&t.startsWith(ue)&&qe.indexOf(e)>-1||!e.startsWith(Fe))}function V(e){var t=Math.floor(e);return t<e&&pe.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function B(e){var t=e;if(t&&void 0!==t.responseStart){var n=_e.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));D({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function H(){a()&&(setTimeout(function(){return z()},0),setTimeout(function(){return W()},0),setTimeout(function(){return G()},0))}function W(){for(var e=_e.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++)B(r[n]);e.setupObserver("resource",B)}function z(){var e=_e.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){Ve.createOobTrace(t,n),r=void 0},Be);e.onFirstInputDelay(function(e){r&&(clearTimeout(r),Ve.createOobTrace(t,n,e))})}else Ve.createOobTrace(t,n)}function G(){for(var e=_e.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++)K(r[n]);e.setupObserver("measure",K)}function K(e){var t=e.name;t.substring(0,se.length)!==se&&Ve.createUserTimingTrace(t)}function Q(e){var t=function(e,t){if(e.name!==We)throw fe.create("FB not default");if("undefined"==typeof window)throw fe.create("no window");return r(window),be.getInstance().firebaseAppInstance=e,be.getInstance().installationsService=t,new He(e)};e.INTERNAL.registerComponent(new ee.Component("performance",function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)},"PUBLIC")),e.registerVersion(ne,re)}Object.defineProperty(t,"__esModule",{value:!0});var Y=n(28);n(81);var X,J=n(23),$=n(38),Z=n(57),ee=n(35),te=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(Y),ne="@firebase/performance",re="0.4.1",ie=re,oe="FB-PERF-TRACE-START",ae="FB-PERF-TRACE-STOP",se="FB-PERF-TRACE-MEASURE",ue="_wt_",ce="@firebase/performance/config",le="@firebase/performance/configexpire",he=(X={},X["trace started"]="Trace {$traceName} was started before.",X["trace stopped"]="Trace {$traceName} is not running.",X["no window"]="Window is not available.",X["no app id"]="App id is not available.",X["no project id"]="Project id is not available.",X["no api key"]="Api key is not available.",X["invalid cc log"]="Attempted to queue invalid cc event",X["FB not default"]="Performance can only start when Firebase app instance is the default one.",X["RC response not ok"]="RC response is not ok",X["invalid attribute name"]="Attribute name {$attributeName} is invalid.",X["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",X["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",X["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",X),fe=new $.ErrorFactory("performance","Performance",he),pe=new Z.Logger("Performance");pe.logLevel=Z.LogLevel.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var de,me,ve,ge,ye,_e=function(){function e(e){if(this.window=e,!e)throw fe.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!$.isIndexedDBAvailable()||(pe.info("IndexedDB is not supported by current browswer"),!1):(pe.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver(function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===de&&(de=new e(me)),de},e}(),be=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=i("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=i("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw fe.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw fe.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw fe.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===ve&&(ve=new e),ve},e}();!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(ye||(ye={}));var we,Ee,Te=["firebase_","google_","ga_"],Se=new RegExp("^[a-zA-Z]\\w*$"),Ce=40,Ie=100,Oe="0.0.1",Ae={loggingEnabled:!0},ke="FIREBASE_INSTALLATIONS_AUTH",Ne="Could not fetch config, will use default configs",xe=1,Pe=1e4,Re=5500,Le=3,De=Le,Me=[],je=!1,Ue=100,Fe="_",qe=["_fp","_fcp","_fid"],Ve=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=_e.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=oe+"-"+this.randomId+"-"+this.name,this.traceStopMark=ae+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||se+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw fe.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw fe.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),R(this)},e.prototype.record=function(e,t,n){if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=J.__assign({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}R(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(!q(e,this.name))throw fe.create("invalid custom metric name",{customMetricName:e});this.counters[e]=V(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n=h(e),r=f(t);if(n&&r)return void(this.customAttributes[e]=t);if(!n)throw fe.create("invalid attribute name",{attributeName:e});if(!r)throw fe.create("invalid attribute value",{attributeValue:t})},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return J.__assign({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=_e.getInstance().getUrl();if(i){var o=new e(ue+i,!0),a=Math.floor(1e3*_e.getInstance().getTimeOrigin());if(o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),n){var s=n.find(function(e){return"first-paint"===e.name});s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find(function(e){return"first-contentful-paint"===e.name});u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}R(o)}},e.createUserTimingTrace=function(t){R(new e(t,!1,t))},e}(),Be=5e3,He=function(){function e(e){this.app=e,_e.getInstance().requiredApisAvailable()&&$.validateIndexedDBOpenable().then(function(e){e&&(C(),b().then(H,H))}).catch(function(e){pe.info("Environment doesn't support IndexedDB: "+e)})}return e.prototype.trace=function(e){return new Ve(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return be.getInstance().instrumentationEnabled},set:function(e){be.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return be.getInstance().dataCollectionEnabled},set:function(e){be.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}(),We="[DEFAULT]";Q(te.default),t.registerPerformance=Q},function(e,t,n){"use strict";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function r(e,t,n,r,i){return Object(k.__awaiter)(this,void 0,void 0,function(){var o,a;return Object(k.__generator)(this,function(s){switch(s.label){case 0:return i&&i.global?(e(A.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=Object(k.__assign)(Object(k.__assign)({},r),{send_to:o}),e(A.EVENT,n,a),s.label=3;case 3:return[2]}})})}function i(e,t,n,r){return Object(k.__awaiter)(this,void 0,void 0,function(){var i;return Object(k.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(e(A.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(A.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})}function o(e,t,n,r){return Object(k.__awaiter)(this,void 0,void 0,function(){var i;return Object(k.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(e(A.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(A.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})}function a(e,t,n,r){return Object(k.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u;return Object(k.__generator)(this,function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(A.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(A.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}})})}function s(e,t){return Object(k.__awaiter)(this,void 0,void 0,function(){var n;return Object(k.__generator)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function u(e){var t=document.createElement("script");t.src=F+"?l="+e,t.async=!0,document.head.appendChild(t)}function c(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function l(e,t,n,r,i,o){return Object(k.__awaiter)(this,void 0,void 0,function(){var a,s,u,c;return Object(k.__generator)(this,function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),u=s.find(function(e){return e.measurementId===i}),u?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),W.error(c),[3,8];case 8:return e(A.CONFIG,i,o),[2]}})})}function h(e,t,n,r,i){return Object(k.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,c,l,h,f,p;return Object(k.__generator)(this,function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find(function(t){return t.measurementId===e}),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==(f=u(h)));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(A.EVENT,r,i||{}),[3,5];case 4:return p=d.sent(),W.error(p),[3,5];case 5:return[2]}})})}function f(e,t,n,r){function i(i,o,a){return Object(k.__awaiter)(this,void 0,void 0,function(){var s;return Object(k.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==A.EVENT?[3,2]:[4,h(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==A.CONFIG?[3,4]:[4,l(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(A.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),W.error(s),[3,7];case 7:return[2]}})})}return i}function p(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=f(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}function d(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(F))return r}return null}function m(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function v(e){var t;return Object(k.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return Object(k.__generator)(this,function(l){switch(l.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:m(r)},o=U.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(a=l.sent(),200===a.status||304===a.status)return[3,6];s="",l.label=2;case 2:return l.trys.push([2,4,,5]),[4,a.json()];case 3:return u=l.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c=l.sent(),[3,5];case 5:throw G.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}})})}function g(e,t,n){return void 0===t&&(t=X),Object(k.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,u,c=this;return Object(k.__generator)(this,function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw G.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw G.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new J,setTimeout(function(){return Object(k.__awaiter)(c,void 0,void 0,function(){return Object(k.__generator)(this,function(e){return u.abort(),[2]})})},void 0!==n?n:j),[2,y({appId:i,apiKey:o,measurementId:a},s,u,t)]})})}function y(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=X),Object(k.__awaiter)(this,void 0,void 0,function(){var t,a,s,u,c,l,h;return Object(k.__generator)(this,function(f){switch(f.label){case 0:t=e.appId,a=e.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,_(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return W.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,v(e)];case 5:return u=f.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(c=f.sent(),!b(c)){if(r.deleteThrottleMetadata(t),a)return W.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.httpStatus)?Object(R.calculateBackoffMillis)(o,r.intervalMillis,K):Object(R.calculateBackoffMillis)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,h),W.debug("Calling attemptFetch again in "+l+" millis"),[2,y(e,h,n,r)];case 7:return[2]}})})}function _(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(function(){clearTimeout(o),r(G.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function b(e){if(!(e instanceof R.FirebaseError))return!1;var t=Number(e.httpStatus);return 429===t||500===t||503===t||504===t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function w(e,t,n,r,i){return Object(k.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,c;return Object(k.__generator)(this,function(l){switch(l.label){case 0:return o=g(e),o.then(function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&W.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(e){return W.error(e)}),t.push(o),[4,Promise.all([o,r.getId()])];case 1:return a=l.sent(),s=a[0],u=a[1],i("js",new Date),i(A.CONFIG,s.measurementId,(c={},c[D]=u,c[M]="firebase",c.update=!0,c)),[2,s.measurementId]}})})}function E(e,t,n){void 0===e&&(e=!1),void 0===t&&(t={}),void 0===n&&(n=[]),re=e,$=t,Z=n,te="dataLayer",ne="gtag"}function T(){return{initializationPromisesMap:$,dynamicConfigPromisesList:Z}}function S(e){if(re)throw G.create("already-initialized");e.dataLayerName&&(te=e.dataLayerName),e.gtagName&&(ne=e.gtagName)}function C(e,t){if(Object(R.isBrowserExtension)())throw G.create("invalid-analytics-context");if(!Object(R.areCookiesEnabled)())throw G.create("cookies-not-enabled");if(!Object(R.isIndexedDBAvailable)())throw G.create("indexedDB-unsupported");Object(R.validateIndexedDBOpenable)().catch(function(e){var t=G.create("invalid-indexedDB-context",{errorInfo:e});W.warn(t.message)});var n=e.options.appId;if(!n)throw G.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw G.create("no-api-key");W.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=$[n])throw G.create("already-exists",{id:n});if(!re){d()||u(te),c(te);var l=p($,Z,ee,te,ne),h=l.wrappedGtag,f=l.gtagCore;H=h,B=f,re=!0}return $[n]=w(e,Z,ee,t,B),{app:e,logEvent:function(e,t,i){r(H,$[n],e,t,i).catch(function(e){return W.error(e)})},setCurrentScreen:function(e,t){i(H,$[n],e,t).catch(function(e){return W.error(e)})},setUserId:function(e,t){o(H,$[n],e,t).catch(function(e){return W.error(e)})},setUserProperties:function(e,t){a(H,$[n],e,t).catch(function(e){return W.error(e)})},setAnalyticsCollectionEnabled:function(e){s($[n],e).catch(function(e){return W.error(e)})},INTERNAL:{delete:function(){return delete $[n],Promise.resolve()}}}}function I(e){function t(e){try{return{logEvent:e.getProvider(ae).getImmediate().logEvent}}catch(e){throw G.create("interop-component-reg-failed",{reason:e})}}e.INTERNAL.registerComponent(new L.Component(ae,function(e){return C(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:S,EventName:q,isSupported:O})),e.INTERNAL.registerComponent(new L.Component("analytics-internal",t,"PRIVATE")),e.registerVersion(ie,oe)}function O(){return Object(k.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(k.__generator)(this,function(n){switch(n.label){case 0:if(Object(R.isBrowserExtension)())return[2,!1];if(!Object(R.areCookiesEnabled)())return[2,!1];if(!Object(R.isIndexedDBAvailable)())return[2,!1];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Object(R.validateIndexedDBOpenable)()];case 2:return e=n.sent(),[2,e];case 3:return t=n.sent(),[2,!1];case 4:return[2]}})})}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"factory",function(){return C}),n.d(t,"getGlobalVars",function(){return T}),n.d(t,"registerAnalytics",function(){return I}),n.d(t,"resetGlobalVars",function(){return E}),n.d(t,"settings",function(){return S});var A,k=n(23),N=n(28),x=n.n(N),P=(n(81),n(57)),R=n(38),L=(n.n(R),n(35)),D=(n.n(L),"firebase_id"),M="origin",j=6e4,U="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",F="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(A||(A={}));var q;!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(q||(q={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var V,B,H,W=new P.Logger("@firebase/analytics"),z=(V={},V["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",V["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",V["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",V["indexedDB-unsupported"]="IndexedDB is not supported by current browswer",V["invalid-indexedDB-context"]="Environment doesn't support IndexedDB: {$errorInfo}. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments",V["cookies-not-enabled"]="Cookies are not enabled in this browser environment. Analytics requires cookies to be enabled.",V["invalid-analytics-context"]="Firebase Analytics is not supported in browser extensions.",V["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",V["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",V["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',V["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',V["indexedDB-unsupported"]="IndexedDB is not supported by current browswer",V["invalid-indexedDB-context"]="Environment doesn't support IndexedDB: {$errorInfo}. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments",V["cookies-not-enabled"]="Cookies are not enabled in this browser environment. Analytics requires cookies to be enabled.",V),G=new R.ErrorFactory("analytics","Analytics",z),K=30,Q=1e3,Y=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=Q),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}(),X=new Y,J=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},e}(),$={},Z=[],ee={},te="dataLayer",ne="gtag",re=!1,ie="@firebase/analytics",oe="0.5.0",ae="analytics";I(x.a)},function(e,t,n){"use strict";function r(e,t){return e instanceof d.FirebaseError&&-1!==e.code.indexOf(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function i(e){return void 0===e&&(e=navigator),e.languages&&e.languages[0]||e.language}function o(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(p.__assign(p.__assign({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function a(e,t){var n=e.target.error||void 0;return b.create(t,{originalErrorMessage:n&&n.message})}function s(){return new Promise(function(e,t){var n=indexedDB.open(N,x);n.onerror=function(e){t(a(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(k,{keyPath:"compositeKey"})}}})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function u(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(function(){clearTimeout(o),r(b.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function c(e){if(!(e instanceof d.FirebaseError))return!1;var t=Number(e.httpStatus);return 429===t||500===t||503===t||504===t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function l(e){function t(t,n){var r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw b.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw b.create("registration-project-id");if(!s)throw b.create("registration-api-key");if(!u)throw b.create("registration-app-id");n=n||"firebase";var c=new P(u,r.name,n),l=new R(c),h=new m.Logger(D);h.logLevel=m.LogLevel.ERROR;var f=new w(i,e.SDK_VERSION,n,a,s,u),p=new L(f,c),d=new y(p,c,l,h),v=new A(r,d,l,c,h);return v.ensureInitialized(),v}e.INTERNAL.registerComponent(new v.Component("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(D,M)}Object.defineProperty(t,"__esModule",{value:!0});var h=n(28);n(81);var f,p=n(23),d=n(38),m=n(57),v=n(35),g=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(h),y=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return p.__awaiter(this,void 0,void 0,function(){var t,n,r,i,o;return p.__generator(this,function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}})})},e}(),_=(f={},f["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",f["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",f["registration-api-key"]="Undefined API key. Check Firebase app initialization.",f["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",f["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",f["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",f["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",f["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",f["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",f["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',f["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',f["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",f["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",f),b=new d.ErrorFactory("remoteconfig","Remote Config",_),w=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return p.__awaiter(this,void 0,void 0,function(){var t,n,r,o,a,s,u,c,l,h,f,d,m,v,g,y,_,w,E;return p.__generator(this,function(p){switch(p.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=p.sent(),n=t[0],r=t[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:i()},c={method:"POST",headers:s,body:JSON.stringify(u)},l=fetch(a,c),h=new Promise(function(t,n){e.signal.addEventListener(function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)})}),p.label=2;case 2:return p.trys.push([2,5,,6]),[4,Promise.race([l,h])];case 3:return p.sent(),[4,l];case 4:return f=p.sent(),[3,6];case 5:throw d=p.sent(),m="fetch-client-network","AbortError"===d.name&&(m="fetch-timeout"),b.create(m,{originalErrorMessage:d.message});case 6:if(v=f.status,g=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];w=void 0,p.label=7;case 7:return p.trys.push([7,9,,10]),[4,f.json()];case 8:return w=p.sent(),[3,10];case 9:throw E=p.sent(),b.create("fetch-client-parse",{originalErrorMessage:E.message});case 10:y=w.entries,_=w.state,p.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===_?v=500:"NO_CHANGE"===_?v=304:"NO_TEMPLATE"!==_&&"EMPTY_CONFIG"!==_||(y={}),304!==v&&200!==v)throw b.create("fetch-status",{httpStatus:v});return[2,{status:v,eTag:g,config:y}]}})})},e}(),E=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},e}(),T="",S=["1","true","t","yes","y","on"],C=function(){function e(e,t){void 0===t&&(t=T),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&S.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),I=6e4,O=432e5,A=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:I,minimumFetchIntervalMillis:O},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=m.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=m.LogLevel.SILENT;break;default:this._logger.logLevel=m.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return p.__awaiter(this,void 0,void 0,function(){var e,t,n;return p.__generator(this,function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return p.__awaiter(this,void 0,void 0,function(){var e,t,n,i=this;return p.__generator(this,function(o){switch(o.label){case 0:e=new E,setTimeout(function(){return p.__awaiter(i,void 0,void 0,function(){return p.__generator(this,function(t){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return t=o.sent(),n=r(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw o.sent(),t;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return p.__awaiter(this,void 0,void 0,function(){return p.__generator(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var e=this;return o(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(t,n){return t[n]=e.getValue(n),t},{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new C("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new C("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new C("static"))},e}(),k="app_namespace_store",N="firebase_remote_config",x=1,P=function(){function e(e,t,n,r){void 0===r&&(r=s()),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return p.__awaiter(this,void 0,void 0,function(){var t,n=this;return p.__generator(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise(function(r,i){var o=t.transaction([k],"readonly"),s=o.objectStore(k),u=n.createCompositeKey(e);try{var c=s.get(u);c.onerror=function(e){i(a(e,"storage-get"))},c.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(e){i(b.create("storage-get",{originalErrorMessage:e&&e.message}))}})]}})})},e.prototype.set=function(e,t){return p.__awaiter(this,void 0,void 0,function(){var n,r=this;return p.__generator(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(i,o){var s=n.transaction([k],"readwrite"),u=s.objectStore(k),c=r.createCompositeKey(e);try{var l=u.put({compositeKey:c,value:t});l.onerror=function(e){o(a(e,"storage-set"))},l.onsuccess=function(){i()}}catch(e){o(b.create("storage-set",{originalErrorMessage:e&&e.message}))}})]}})})},e.prototype.delete=function(e){return p.__awaiter(this,void 0,void 0,function(){var t,n=this;return p.__generator(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise(function(r,i){var o=t.transaction([k],"readwrite"),s=o.objectStore(k),u=n.createCompositeKey(e);try{var c=s.delete(u);c.onerror=function(e){i(a(e,"storage-delete"))},c.onsuccess=function(){r()}}catch(e){i(b.create("storage-delete",{originalErrorMessage:e&&e.message}))}})]}})})},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),R=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return p.__awaiter(this,void 0,void 0,function(){var e,t,n,r,i,o;return p.__generator(this,function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return r=a.sent(),r&&(this.lastFetchStatus=r),[4,t];case 2:return i=a.sent(),i&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return o=a.sent(),o&&(this.activeConfig=o),[2]}})})},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}(),L=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return p.__awaiter(this,void 0,void 0,function(){var t;return p.__generator(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}})})},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return p.__awaiter(this,void 0,void 0,function(){var t,i,o;return p.__generator(this,function(a){switch(a.label){case 0:return[4,u(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(i=a.sent(),!c(i))throw i;return o={throttleEndTimeMillis:Date.now()+d.calculateBackoffMillis(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}})})},e}(),D="@firebase/remote-config",M="0.1.28";l(g.default),t.registerRemoteConfig=l},function(e,t){},function(e,t){},function(e,t,n){e.exports=n.p+"images/chest-open.png"},function(e,t,n){e.exports=n.p+"images/chest-close.png"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(115),c=n.n(u),l=n(15),h=n(443),f=(n.n(h),n(444)),p=n.n(f),d=n(445),m=n.n(d),v=n(167),g=(n.n(v),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),y=n(446),_=[],b=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));console.log("bonus",e);var o=e.openBonus?e.openBonus:"init false",a=n.props.operator,s="forest";return"sub"==a&&(s="rock"),"mul"==a&&(s="water"),"div"==a&&(s="fire"),n.state={visible:o,creatureSet:!1,bonusImg:"default",creature:"default",bonusTitle:"default",kingdom:s},n}return o(t,e),g(t,[{key:"componentWillReceiveProps",value:function(e){e.openBonus!=this.state.visible&&this.setState({visible:e.openBonus})}},{key:"componentDidMount",value:function(){this.determineCreature()}},{key:"selectCreature",value:function(){var e=this.rand(0,_.length-1);return _[e]}},{key:"setCreature",value:function(e,t){var n=l.b.math[e][t],r=n.name+"!";return{bonusImg:y("./"+n.img+".png"),bonusTitle:r}}},{key:"saveCreature",value:function(e,t,n){n.creatures[e][t]=!0,localStorage.setItem("localUser",JSON.stringify(n)),l.f.ref("/users/"+n.userid+"/creatures/"+e+"/"+t).set(n.creatures[e][t])}},{key:"addGems",value:function(e,t){var n=t.gems+Math.floor(e/100);t.gems=n,localStorage.setItem("localUser",JSON.stringify(t)),l.f.ref("/users/"+t.userid+"/gems").set(t.gems)}},{key:"checkAllCreaturesUnlocked",value:function(e){var t=e.creatures.add,n=e.creatures.sub,r=e.creatures.mul,i=e.creatures.div,o=t.L2_1_1&&t.L2_1_2&&t.L2_1_3&&t.L2_2_1&&t.L2_2_2&&t.L2_2_3,a=n.L2_1_1&&n.L2_1_2&&n.L2_1_3&&n.L2_2_1&&n.L2_2_2&&n.L2_2_3,s=r.L2_1_1&&r.L2_1_2&&r.L2_1_3&&r.L2_2_1&&r.L2_2_2&&r.L2_2_3,u=i.L2_1_1&&i.L2_1_2&&i.L2_1_3&&i.L2_2_1&&i.L2_2_2&&i.L2_2_3,c=o&&a&&s&&u;console.log(o,a,s,u,c),c&&(e.gamemath.ran.unlocked=!0,localStorage.setItem("localUser",JSON.stringify(e)),l.f.ref("/users/"+e.userid+"/gamemath/ran/unlocked").set(e.gamemath.ran.unlocked),this.props.snackbar("You found the last creature!! Are you ready for the final battle?"))}},{key:"determineCreature",value:function(){var e=this;_=[];var t=JSON.parse(localStorage.getItem("localUser")),n=this.props.operator,r=p.a,i="default",o=this.props.score,a=this.props.accuracy,s=this.props.bonus,u="You found a pile of gems!",c=t.creatures[n],h=this.props.charm;if(console.log("level",this.props.level),0==this.props.level){var f=c.L1_1_1&&c.L1_1_2&&c.L1_1_3,d=c.L2_1_1&&c.L2_1_2&&c.L2_1_3&&c.L2_2_1&&c.L2_2_2&&c.L2_2_3;if(f||2!=s)this.addGems(o,t);else{o>=l.b.math[n].L1_1_1.reward&&_.push("L1_1_1"),o>=l.b.math[n].L1_1_2.reward&&_.push("L1_1_2"),o>=l.b.math[n].L1_1_3.reward&&_.push("L1_1_3"),h&&o>=l.b.math[n].L1_1_3.reward&&_.push("L1_1_3"),i=this.selectCreature();var m=this.setCreature(n,i);r=m.bonusImg,u=m.bonusTitle,this.saveCreature(n,i,t)}if(d&&f&&!t.gamemath[n].unlocked2){console.log("unlock level2"),t.gamemath[n].unlocked2=!0,localStorage.setItem("localUser",JSON.stringify(t)),l.f.ref("/users/"+t.userid+"/gamemath/"+n+"/unlocked2").set(t.gamemath[n].unlocked2);var v="Addition";"sub"==n&&(v="Subtraction"),"mul"==n&&(v="Multiplication"),"div"==n&&(v="Division");var g="Level 2 in "+v+" has been unlocked!";this.props.snackbar(g)}this.checkAllCreaturesUnlocked(t)}else if(1==this.props.level&&2==s){if(a>=60){a>=l.b.math[n].L2_1_1.reward&&_.push("L2_1_1"),a>=l.b.math[n].L2_1_2.reward&&_.push("L2_1_2"),a>=l.b.math[n].L2_1_3.reward&&_.push("L2_1_3"),h&&a>=l.b.math[n].L2_1_3.reward&&_.push("L2_1_3"),a>=l.b.math[n].L2_2_1.reward&&_.push("L2_2_1"),a>=l.b.math[n].L2_2_2.reward&&_.push("L2_2_2"),a>=l.b.math[n].L2_2_3.reward&&_.push("L2_2_3"),h&&a>=l.b.math[n].L2_2_3.reward&&_.push("L2_2_3"),console.log("cp",_),i=this.selectCreature();var m=this.setCreature(n,i);r=m.bonusImg,u=m.bonusTitle,this.saveCreature(n,i,t)}var y=c.L1_1_1&&c.L1_1_2&&c.L1_1_3,b=c.L2_1_1&&c.L2_1_2&&c.L2_1_3&&c.L2_2_1&&c.L2_2_2&&c.L2_2_3,w=!1;if(b&&!t.staffs[this.state.kingdom].ready){console.log("unlock staff"),t.staffs[this.state.kingdom].ready=!0,localStorage.setItem("localUser",JSON.stringify(t));var E=l.f.ref("/users/"+t.userid+"/staffs/"+this.state.kingdom+"/ready");E.set(t.staffs[this.state.kingdom].ready);var T="FOREST";"sub"==n&&(T="ROCK"),"mul"==n&&(T="WATER"),"div"==n&&(T="FIRE");var S="The "+T+" staff has been unlocked!";w=!0,this.props.snackbar(S)}if(b&&y&&!t.gamemath[n].unlocked2){console.log("unlock level2"),t.gamemath[n].unlocked2=!0,localStorage.setItem("localUser",JSON.stringify(t));var C=l.f.ref("/users/"+t.userid+"/gamemath/"+n+"/unlocked2");C.set(t.gamemath[n].unlocked2);var I="Addition";"sub"==n&&(I="Subtraction"),"mul"==n&&(I="Multiplication"),"div"==n&&(I="Division");var O="Level 2 in "+I+" has been unlocked!",A=0;w&&(A=5e3),setTimeout(function(){e.props.snackbar(O)},A)}this.checkAllCreaturesUnlocked(t)}else if(2==this.props.level&&2==s){if(console.log("creature pool",_),a>=60){a>=l.b.math[n].L3_1_1.reward&&_.push("L3_1_1"),a>=l.b.math[n].L3_1_2.reward&&_.push("L3_1_2"),a>=l.b.math[n].L3_1_3.reward&&_.push("L3_1_3"),h&&a>=l.b.math[n].L3_1_3.reward&&_.push("L3_1_3"),a>=l.b.math[n].L3_2_1.reward&&_.push("L3_2_1"),a>=l.b.math[n].L3_2_2.reward&&_.push("L3_2_2"),a>=l.b.math[n].L3_2_3.reward&&_.push("L3_2_3"),h&&a>=l.b.math[n].L3_2_3.reward&&_.push("L3_2_3"),a>=l.b.math[n].L3_3_1.reward&&_.push("L3_3_1"),a>=l.b.math[n].L3_3_2.reward&&_.push("L3_3_2"),a>=l.b.math[n].L3_3_3.reward&&_.push("L3_3_3"),h&&a>=l.b.math[n].L3_3_3.reward&&_.push("L3_3_3"),i=this.selectCreature();var m=this.setCreature(n,i);r=m.bonusImg,u=m.bonusTitle,this.saveCreature(n,i,t)}this.checkAllCreaturesUnlocked(t)}else if(3==this.props.level){if(console.log("bonus in final battle",a,n),100==a){_.push("queen"),i=this.selectCreature();var m=this.setCreature("ran",i);r=m.bonusImg,u=m.bonusTitle,console.log("fb",_,i,m),this.saveCreature("ran",i,t)}}else this.addGems(o,t);this.setState({bonusImg:r,bonusTitle:u,creature:i,creatureSet:!0})}},{key:"closeBonus",value:function(){this.setState({visible:!1})}},{key:"openBonus",value:function(){this.setState({visible:!0})}},{key:"rand",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{key:"render",value:function(){var e=this,t=s.a.createElement("img",{className:"bonus-item",src:this.state.bonusImg,width:"250",height:"250"}),n="<h2>"+this.state.bonusTitle+"</h2>",r=s.a.createElement("div",{onClick:function(){return e.closeBonus()},className:"header-img-wrapper "+this.state.visible},t),i=1==this.state.visible;return s.a.createElement("div",{className:"bonus-wrapper "+this.state.visible},s.a.createElement(c.a,{src:"/audio/magic.mp3",playing:i,ref:function(t){return e.magicFX=t}}),s.a.createElement("div",{className:"bonus-overlay"},s.a.createElement("div",{className:"bonus-glow"},s.a.createElement("img",{src:m.a,width:"500",height:"500"})),s.a.createElement("div",{className:"bonus-content"},r,s.a.createElement("div",{className:"bonus-title",dangerouslySetInnerHTML:{__html:n}}))))}}]),t}(s.a.Component),w=b;t.a=w,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(y,"creatures","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Bonus/Bonus.jsx"),__REACT_HOT_LOADER__.register("localUser","localUser","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Bonus/Bonus.jsx"),__REACT_HOT_LOADER__.register(_,"creaturePool","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Bonus/Bonus.jsx"),__REACT_HOT_LOADER__.register(500,"minTrainingBonus","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Bonus/Bonus.jsx"),__REACT_HOT_LOADER__.register(60,"minLevelBonus","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Bonus/Bonus.jsx"),__REACT_HOT_LOADER__.register(b,"Bonus","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Bonus/Bonus.jsx"),__REACT_HOT_LOADER__.register(w,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Bonus/Bonus.jsx"))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(11),h=r(l),f=n(440),p=n(442),d=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initHowler=n.initHowler.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.initHowler()}},{key:"componentWillReceiveProps",value:function(e){JSON.stringify(e.src)!==JSON.stringify(this.props.src)?this.initHowler(e):this.toggleHowler(e)}},{key:"componentWillUnmount",value:function(){this.destroyHowler()}},{key:"initHowler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.destroyHowler(),void 0!==f.Howl&&(this.howler=new f.Howl({src:e.src,format:e.format,mute:e.mute,loop:e.loop,preload:e.preload,volume:e.volume,onend:e.onEnd,onplay:e.onPlay,onpause:e.onPause,onvolume:e.onVolume,onstop:e.onStop,onload:e.onLoad,onloaderror:e.onLoadError,html5:e.html5}),e.playing&&this.play())}},{key:"destroyHowler",value:function(){this.howler&&(this.howler.off(),this.howler.stop(),this.howler.unload(),this.howler=null)}},{key:"toggleHowler",value:function(e){e.playing?this.play():this.pause(),this.loop(e.loop),e.mute!==this.props.mute&&this.mute(e.mute),e.volume!==this.props.volume&&this.volume(e.volume),void 0!==e.seek&&e.seek!==this.seek()&&this.seek(e.seek),e.preload&&"unloaded"===this.howlerState()&&this.load()}},{key:"play",value:function(){this.howler.playing()||("unloaded"===this.howlerState()&&this.load(),this.howler.play())}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e?this.howler.pause(e):this.howler.pause()}},{key:"howlerState",value:function(){return this.howler.state()}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e?this.howler.stop(e):this.howler.stop()}},{key:"mute",value:function(){var e;(e=this.howler).mute.apply(e,arguments)}},{key:"volume",value:function(){var e;return(e=this.howler).volume.apply(e,arguments)}},{key:"loop",value:function(){var e;return(e=this.howler).loop.apply(e,arguments)}},{key:"seek",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.howler?e||0===e?e||0===e?(this.howler.seek(e),e):void 0:this.howler.seek():0}},{key:"duration",value:function(){return this.howler.duration()}},{key:"load",value:function(){this.howler.load()}},{key:"render",value:function(){return c.default.createElement("div",null)}},{key:"howler",set:function(e){e&&(this._howler=e)},get:function(){return this._howler}}]),t}(u.Component);d.propTypes={src:h.default.oneOfType([h.default.string,h.default.arrayOf(h.default.string)]).isRequired,format:h.default.arrayOf(h.default.string),playing:h.default.bool,mute:h.default.bool,loop:h.default.bool,preload:h.default.bool,volume:h.default.number,onEnd:h.default.func,onPause:h.default.func,onPlay:h.default.func,onVolume:h.default.func,onStop:h.default.func,onLoad:h.default.func,onLoadError:h.default.func,html5:h.default.bool},d.defaultProps={playing:!0,format:[],mute:!1,preload:!0,loop:!1,volume:1,onEnd:p.noop,onPause:p.noop,onPlay:p.noop,onVolume:p.noop,onStop:p.noop,onLoad:p.noop,onLoadError:p.noop,html5:!1},t.default=d},function(e,t,n){"use strict";var r=void 0;"undefined"!=typeof window&&(r=n(441)),e.exports=r},function(e,t,n){(function(n){var r,i;/*!
 *  howler.js v2.0.13
 *  howlerjs.com
 *
 *  (c) 2013-2018, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
!function(){"use strict";var o=function(){this.init()};o.prototype={init:function(){var e=this||a;return e._counter=1e3,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.mobileAutoEnable=!0,e._setup(),e},volume:function(e){var t=this||a;if(e=parseFloat(e),t.ctx||d(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,a.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var o=t._howls[n]._soundById(r[i]);o&&o._node&&(o._node.volume=o._volume*e)}return t}return t._volume},mute:function(e){var t=this||a;t.ctx||d(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,a.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var o=t._howls[n]._soundById(r[i]);o&&o._node&&(o._node.muted=!!e||o._muted)}return t},unload:function(){for(var e=this||a,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,d()),e},codecs:function(e){return(this||a)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||a;if(e.state=e.ctx?e.ctx.state||"running":"running",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{var t=new Audio;void 0===t.oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{var t=new Audio;t.muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||a,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),i=r&&parseInt(r[0].split("/")[1],10)<33;return e._codecs={mp3:!(i||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_enableMobileAudio:function(){var e=this||a,t=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(e._navigator&&e._navigator.userAgent),n=!!("ontouchend"in window||e._navigator&&e._navigator.maxTouchPoints>0||e._navigator&&e._navigator.msMaxTouchPoints>0);if(!e._mobileEnabled&&e.ctx&&(t||n)){e._mobileEnabled=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var r=function(){a._autoResume();var t=e.ctx.createBufferSource();t.buffer=e._scratchBuffer,t.connect(e.ctx.destination),void 0===t.start?t.noteOn(0):t.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),t.onended=function(){t.disconnect(0),e._mobileEnabled=!0,e.mobileAutoEnable=!1,document.removeEventListener("touchstart",r,!0),document.removeEventListener("touchend",r,!0)}};return document.addEventListener("touchstart",r,!0),document.addEventListener("touchend",r,!0),e}},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&a.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then(function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&a.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var a=new o,s=function(e){var t=this;if(!e.src||0===e.src.length)return void console.error("An array of source files must be passed with any new Howl.");t.init(e)};s.prototype={init:function(e){var t=this;return a.ctx||d(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhrWithCredentials=e.xhrWithCredentials||!1,t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onresume=[],t._webAudio=a.usingWebAudio&&!t._html5,void 0!==a.ctx&&a.ctx&&a.mobileAutoEnable&&a._enableMobileAudio(),a._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&t.load(),t},load:function(){var e=this,t=null;if(a.noAudio)return void e._emit("loaderror",null,"No audio support.");"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,i;if(e._format&&e._format[n])r=e._format[n];else{if("string"!=typeof(i=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}r=/^data:audio\/([^;,]+);/i.exec(i),r||(r=/\.([^.]+)$/.exec(i.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&a.codecs(r)){t=e._src[n];break}}return t?(e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new u(e),e._webAudio&&l(e),e):void e._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e){e="__default";for(var i=0,o=0;o<n._sounds.length;o++)n._sounds[o]._paused&&!n._sounds[o]._ended&&(i++,r=n._sounds[o]._id);1===i?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&a._autoResume();var c=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-c),h=1e3*l/Math.abs(s._rate);s._paused=!1,s._ended=!1,s._sprite=e,s._seek=c,s._start=n._sprite[e][0]/1e3,s._stop=(n._sprite[e][0]+n._sprite[e][1])/1e3,s._loop=!(!s._loop&&!n._sprite[e][2]);var f=s._node;if(n._webAudio){var p=function(){n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;f.gain.setValueAtTime(e,a.ctx.currentTime),s._playStart=a.ctx.currentTime,void 0===f.bufferSource.start?s._loop?f.bufferSource.noteGrainOn(0,c,86400):f.bufferSource.noteGrainOn(0,c,l):s._loop?f.bufferSource.start(0,c,86400):f.bufferSource.start(0,c,l),h!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),h)),t||setTimeout(function(){n._emit("play",s._id)},0)};"running"===a.state?p():(n.once("resume",p),n._clearTimer(s._id))}else{var d=function(){f.currentTime=c,f.muted=s._muted||n._muted||a._muted||f.muted,f.volume=s._volume*a.volume(),f.playbackRate=s._rate;try{var r=f.play();if("undefined"!=typeof Promise&&r instanceof Promise){n._playLock=!0;var i=function(){n._playLock=!1,t||n._emit("play",s._id)};r.then(i,i)}else t||n._emit("play",s._id);if(f.playbackRate=s._rate,f.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),h):(n._endTimers[s._id]=function(){n._ended(s),f.removeEventListener("ended",n._endTimers[s._id],!1)},f.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}},m=window&&window.ejecta||!f.readyState&&a._navigator.isCocoonJS;if(f.readyState>=3||m)d();else{var v=function(){d(),f.removeEventListener(a._canPlayEvent,v,!1)};f.addEventListener(a._canPlayEvent,v,!1),n._clearTimer(s._id)}}return s._id},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var i=t._soundById(n[r]);if(i&&!i._paused&&(i._seek=t.seek(n[r]),i._rateSeek=0,i._paused=!0,t._stopFade(n[r]),i._node))if(t._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||t._emit("pause",i?i._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),i=0;i<r.length;i++){n._clearTimer(r[i]);var o=n._soundById(r[i]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,n._stopFade(r[i]),o._node&&(n._webAudio?o._node.bufferSource&&(void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause())),t||n._emit("stop",o._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),i=0;i<r.length;i++){var o=n._soundById(r[i]);o&&(o._muted=e,o._interval&&n._stopFade(o._id),n._webAudio&&o._node?o._node.gain.setValueAtTime(e?0:o._volume,a.ctx.currentTime):o._node&&(o._node.muted=!!a._muted||e),n._emit("mute",o._id))}return n},volume:function(){var e,t,n=this,r=arguments;if(0===r.length)return n._volume;1===r.length||2===r.length&&void 0===r[1]?n._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):e=parseFloat(r[0]):r.length>=2&&(e=parseFloat(r[0]),t=parseInt(r[1],10));var i;if(!(void 0!==e&&e>=0&&e<=1))return i=t?n._soundById(t):n._sounds[0],i?i._volume:0;if("loaded"!==n._state)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,r)}}),n;void 0===t&&(n._volume=e),t=n._getSoundIds(t);for(var o=0;o<t.length;o++)(i=n._soundById(t[o]))&&(i._volume=e,r[2]||n._stopFade(t[o]),n._webAudio&&i._node&&!i._muted?i._node.gain.setValueAtTime(e,a.ctx.currentTime):i._node&&!i._muted&&(i._node.volume=e*a.volume()),n._emit("volume",i._id));return n},fade:function(e,t,n,r){var i=this;if("loaded"!==i._state)return i._queue.push({event:"fade",action:function(){i.fade(e,t,n,r)}}),i;i.volume(e,r);for(var o=i._getSoundIds(r),s=0;s<o.length;s++){var u=i._soundById(o[s]);if(u){if(r||i._stopFade(o[s]),i._webAudio&&!u._muted){var c=a.ctx.currentTime,l=c+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,c),u._node.gain.linearRampToValueAtTime(t,l)}i._startFadeInterval(u,e,t,n,o[s],void 0===r)}}return i},_startFadeInterval:function(e,t,n,r,i,o){var a=this,s=t,u=n-t,c=Math.abs(u/.01),l=Math.max(4,c>0?r/c:r),h=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var i=(Date.now()-h)/r;h=Date.now(),s+=u*i,s=Math.max(0,s),s=Math.min(1,s),s=Math.round(100*s)/100,a._webAudio?e._volume=s:a.volume(s,e._id,!0),o&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))},l)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(a.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(n=r._soundById(parseInt(i[0],10)))&&n._loop;e=i[0],r._loop=e}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var o=r._getSoundIds(t),a=0;a<o.length;a++)(n=r._soundById(o[a]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return r},rate:function(){var e,t,n=this,r=arguments;if(0===r.length)t=n._sounds[0]._id;else if(1===r.length){var i=n._getSoundIds(),o=i.indexOf(r[0]);o>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));var s;if("number"!=typeof e)return s=n._soundById(t),s?s._rate:n._rate;if("loaded"!==n._state)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,r)}}),n;void 0===t&&(n._rate=e),t=n._getSoundIds(t);for(var u=0;u<t.length;u++)if(s=n._soundById(t[u])){s._rateSeek=n.seek(t[u]),s._playStart=n._webAudio?a.ctx.currentTime:s._playStart,s._rate=e,n._webAudio&&s._node&&s._node.bufferSource?s._node.bufferSource.playbackRate.setValueAtTime(e,a.ctx.currentTime):s._node&&(s._node.playbackRate=e);var c=n.seek(t[u]),l=(n._sprite[s._sprite][0]+n._sprite[s._sprite][1])/1e3-c,h=1e3*l/Math.abs(s._rate);!n._endTimers[t[u]]&&s._paused||(n._clearTimer(t[u]),n._endTimers[t[u]]=setTimeout(n._ended.bind(n,s),h)),n._emit("rate",s._id)}return n},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)t=n._sounds[0]._id;else if(1===r.length){var i=n._getSoundIds(),o=i.indexOf(r[0]);o>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return n;if("loaded"!==n._state)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var s=n._soundById(t);if(s){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var u=n.playing(t)?a.ctx.currentTime-s._playStart:0,c=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(c+u*Math.abs(s._rate))}return s._node.currentTime}var l=n.playing(t);if(l&&n.pause(t,!0),s._seek=e,s._ended=!1,n._clearTimer(t),l&&n.play(t,!0),!n._webAudio&&s._node&&(s._node.currentTime=e),l&&!n._webAudio){var h=function(){n._playLock?setTimeout(h,0):n._emit("seek",t)};setTimeout(h,0)}else n._emit("seek",t)}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(/MSIE |Trident\//.test(a._navigator&&a._navigator.userAgent)||(t[n]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(a._canPlayEvent,t[n]._loadFn,!1)),delete t[n]._node,e._clearTimer(t[n]._id);var r=a._howls.indexOf(e);r>=0&&a._howls.splice(r,1);var i=!0;for(n=0;n<a._howls.length;n++)if(a._howls[n]._src===e._src){i=!1;break}return c&&i&&delete c[e._src],a.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var i=this,o=i["_on"+e];return"function"==typeof t&&o.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),i},off:function(e,t,n){var r=this,i=r["_on"+e],o=0;if("number"==typeof t&&(n=t,t=null),t||n)for(o=0;o<i.length;o++){var a=n===i[o].id;if(t===i[o].fn&&a||!t&&a){i.splice(o,1);break}}else if(e)r["_on"+e]=[];else{var s=Object.keys(r);for(o=0;o<s.length;o++)0===s[o].indexOf("_on")&&Array.isArray(r[s[o]])&&(r[s[o]]=[])}return r},once:function(e,t,n){var r=this;return r.on(e,t,n,1),r},_emit:function(e,t,n){for(var r=this,i=r["_on"+e],o=i.length-1;o>=0;o--)i[o].id&&i[o].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,i[o].fn),0),i[o].once&&r.off(e,i[o].fn,i[o].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=a.ctx.currentTime;var i=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),i)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),a._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new u(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){var t=this;if(void 0===e){for(var n=[],r=0;r<t._sounds.length;r++)n.push(t._sounds[r]._id);return n}return[e]},_refreshBuffer:function(e){var t=this;return e._node.bufferSource=a.ctx.createBufferSource(),e._node.bufferSource.buffer=c[t._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,a.ctx.currentTime),t},_cleanBuffer:function(e){var t=this;if(a._scratchBuffer&&e.bufferSource){e.bufferSource.onended=null,e.bufferSource.disconnect(0);try{e.bufferSource.buffer=a._scratchBuffer}catch(e){}}return e.bufferSource=null,t}};var u=function(e){this._parent=e,this.init()};u.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++a._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=a._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),e._node.gain.setValueAtTime(n,a.ctx.currentTime),e._node.paused=!0,e._node.connect(a.masterGain)):(e._node=new Audio,e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(a._canPlayEvent,e._loadFn,!1),e._node.src=t._src,e._node.preload="auto",e._node.volume=n*a.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++a._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(a._canPlayEvent,e._loadFn,!1)}};var c={},l=function(e){var t=e._src;if(c[t])return e._duration=c[t].duration,void p(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);f(r.buffer,e)}else{var o=new XMLHttpRequest;o.open("GET",t,!0),o.withCredentials=e._xhrWithCredentials,o.responseType="arraybuffer",o.onload=function(){var t=(o.status+"")[0];if("0"!==t&&"2"!==t&&"3"!==t)return void e._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".");f(o.response,e)},o.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete c[t],e.load())},h(o)}},h=function(e){try{e.send()}catch(t){e.onerror()}},f=function(e,t){a.ctx.decodeAudioData(e,function(e){e&&t._sounds.length>0&&(c[t._src]=e,p(t,e))},function(){t._emit("loaderror",null,"Decoding audio data failed.")})},p=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},d=function(){try{"undefined"!=typeof AudioContext?a.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?a.ctx=new webkitAudioContext:a.usingWebAudio=!1}catch(e){a.usingWebAudio=!1}var e=/iP(hone|od|ad)/.test(a._navigator&&a._navigator.platform),t=a._navigator&&a._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(a._navigator&&a._navigator.userAgent.toLowerCase());(a._navigator&&a._navigator.standalone&&!r||a._navigator&&!a._navigator.standalone&&!r)&&(a.usingWebAudio=!1)}a.usingWebAudio&&(a.masterGain=void 0===a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),a.masterGain.gain.setValueAtTime(a._muted?0:1,a.ctx.currentTime),a.masterGain.connect(a.ctx.destination)),a._setup()};r=[],void 0!==(i=function(){return{Howler:a,Howl:s}}.apply(t,r))&&(e.exports=i),t.Howler=a,t.Howl=s,"undefined"!=typeof window?(window.HowlerGlobal=o,window.Howler=a,window.Howl=s,window.Sound=u):void 0!==n&&(n.HowlerGlobal=o,n.Howler=a,n.Howl=s,n.Sound=u)}(),/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.0.13
 *  howlerjs.com
 *
 *  (c) 2013-2018, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,i,o){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,r="number"!=typeof r?s[3]:r,i="number"!=typeof i?s[4]:i,o="number"!=typeof o?s[5]:o,"number"!=typeof e?s:(a._orientation=[e,t,n,r,i,o],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(n,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(e,t,n,r,i,o),a)},Howl.prototype.init=function(e){return function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(t,n)}}),r;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var o=r._getSoundIds(n),a=0;a<o.length;a++){var s=r._soundById(o[a]);if(s){if("number"!=typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||e(s,i),"spatial"===i?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(t,0,0):s._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(t,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(t,n,r,i)}}),o;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===i){if("number"!=typeof t)return o._pos;o._pos=[t,n,r]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!=typeof t)return u._pos;u._pos=[t,n,r],u._node&&(u._panner&&!u._panner.pan||e(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(t,n,r)),o._emit("pos",u._id)}}return o},Howl.prototype.orientation=function(t,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(t,n,r,i)}}),o;if(n="number"!=typeof n?o._orientation[1]:n,r="number"!=typeof r?o._orientation[2]:r,void 0===i){if("number"!=typeof t)return o._orientation;o._orientation=[t,n,r]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!=typeof t)return u._orientation;u._orientation=[t,n,r],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),e(u,"spatial")),u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)),o._emit("orientation",u._id)}}return o},Howl.prototype.pannerAttr=function(){var t,n,r,i=this,o=arguments;if(!i._webAudio)return i;if(0===o.length)return i._pannerAttr;if(1===o.length){if("object"!=typeof o[0])return r=i._soundById(parseInt(o[0],10)),r?r._pannerAttr:i._pannerAttr;t=o[0],void 0===n&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),i._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:i._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:i._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:i._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:i._panningModel})}else 2===o.length&&(t=o[0],n=parseInt(o[1],10));for(var a=i._getSoundIds(n),s=0;s<a.length;s++)if(r=i._soundById(a[s])){var u=r._pannerAttr;u={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:u.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:u.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:u.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:u.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:u.panningModel};var c=r._panner;c?(c.coneInnerAngle=u.coneInnerAngle,c.coneOuterAngle=u.coneOuterAngle,c.coneOuterGain=u.coneOuterGain,c.distanceModel=u.distanceModel,c.maxDistance=u.maxDistance,c.refDistance=u.refDistance,c.rolloffFactor=u.rolloffFactor,c.panningModel=u.panningModel):(r._pos||(r._pos=i._pos||[0,0,-.5]),e(r,"spatial"))}return i},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var e=function(e,t){t=t||"spatial","spatial"===t?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(t,n(52))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){}},function(e,t){},function(e,t,n){e.exports=n.p+"images/gems.png"},function(e,t,n){e.exports=n.p+"images/glow-wedge.png"},function(e,t,n){function r(e){return n(i(e))}function i(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./A1_1_1.png":447,"./A1_1_2.png":448,"./A1_1_3.png":449,"./A2_1_1.png":450,"./A2_1_2.png":451,"./A2_1_3.png":452,"./A2_2_1.png":453,"./A2_2_2.png":454,"./A2_2_3.png":455,"./A3_1_1.png":456,"./A3_1_2.png":457,"./A3_1_3.png":458,"./A3_2_1.png":459,"./A3_2_2.png":460,"./A3_2_3.png":461,"./A3_3_1.png":462,"./A3_3_2.png":463,"./A3_3_3.png":464,"./A3_4_1.png":465,"./A3_4_2.png":466,"./A3_4_3.png":467,"./D1_1_1.png":468,"./D1_1_2.png":469,"./D1_1_3.png":470,"./D2_1_1.png":471,"./D2_1_2.png":472,"./D2_1_3.png":473,"./D2_2_1.png":474,"./D2_2_2.png":475,"./D2_2_3.png":476,"./D3_1_1.png":477,"./D3_1_2.png":478,"./D3_1_3.png":479,"./D3_2_1.png":480,"./D3_2_2.png":481,"./D3_2_3.png":482,"./D3_3_1.png":483,"./D3_3_2.png":484,"./D3_3_3.png":485,"./D3_4_1.png":486,"./D3_4_2.png":487,"./D3_4_3.png":488,"./M1_1_1.png":489,"./M1_1_2.png":490,"./M1_1_3.png":491,"./M2_1_1.png":492,"./M2_1_2.png":493,"./M2_1_3.png":494,"./M2_2_1.png":495,"./M2_2_2.png":496,"./M2_2_3.png":497,"./M3_1_1.png":498,"./M3_1_2.png":499,"./M3_1_3.png":500,"./M3_2_1.png":501,"./M3_2_2.png":502,"./M3_2_3.png":503,"./M3_3_1.png":504,"./M3_3_2.png":505,"./M3_3_3.png":506,"./M3_4_1.png":507,"./M3_4_2.png":508,"./M3_4_3.png":509,"./S1_1_1.png":510,"./S1_1_2.png":511,"./S1_1_3.png":512,"./S2_1_1.png":513,"./S2_1_2.png":514,"./S2_1_3.png":515,"./S2_2_1.png":516,"./S2_2_2.png":517,"./S2_2_3.png":518,"./S3_1_1.png":519,"./S3_1_2.png":520,"./S3_1_3.png":521,"./S3_2_1.png":522,"./S3_2_2.png":523,"./S3_2_3.png":524,"./S3_3_1.png":525,"./S3_3_2.png":526,"./S3_3_3.png":527,"./S3_4_1.png":528,"./S3_4_2.png":529,"./S3_4_3.png":530,"./queen.png":531,"./sprite.gif":116,"./sprite.png":532};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=446},function(e,t,n){e.exports=n.p+"images/A1_1_1.png"},function(e,t,n){e.exports=n.p+"images/A1_1_2.png"},function(e,t,n){e.exports=n.p+"images/A1_1_3.png"},function(e,t,n){e.exports=n.p+"images/A2_1_1.png"},function(e,t,n){e.exports=n.p+"images/A2_1_2.png"},function(e,t,n){e.exports=n.p+"images/A2_1_3.png"},function(e,t,n){e.exports=n.p+"images/A2_2_1.png"},function(e,t,n){e.exports=n.p+"images/A2_2_2.png"},function(e,t,n){e.exports=n.p+"images/A2_2_3.png"},function(e,t,n){e.exports=n.p+"images/A3_1_1.png"},function(e,t,n){e.exports=n.p+"images/A3_1_2.png"},function(e,t,n){e.exports=n.p+"images/A3_1_3.png"},function(e,t,n){e.exports=n.p+"images/A3_2_1.png"},function(e,t,n){e.exports=n.p+"images/A3_2_2.png"},function(e,t,n){e.exports=n.p+"images/A3_2_3.png"},function(e,t,n){e.exports=n.p+"images/A3_3_1.png"},function(e,t,n){e.exports=n.p+"images/A3_3_2.png"},function(e,t,n){e.exports=n.p+"images/A3_3_3.png"},function(e,t,n){e.exports=n.p+"images/A3_4_1.png"},function(e,t,n){e.exports=n.p+"images/A3_4_2.png"},function(e,t,n){e.exports=n.p+"images/A3_4_3.png"},function(e,t,n){e.exports=n.p+"images/D1_1_1.png"},function(e,t,n){e.exports=n.p+"images/D1_1_2.png"},function(e,t,n){e.exports=n.p+"images/D1_1_3.png"},function(e,t,n){e.exports=n.p+"images/D2_1_1.png"},function(e,t,n){e.exports=n.p+"images/D2_1_2.png"},function(e,t,n){e.exports=n.p+"images/D2_1_3.png"},function(e,t,n){e.exports=n.p+"images/D2_2_1.png"},function(e,t,n){e.exports=n.p+"images/D2_2_2.png"},function(e,t,n){e.exports=n.p+"images/D2_2_3.png"},function(e,t,n){e.exports=n.p+"images/D3_1_1.png"},function(e,t,n){e.exports=n.p+"images/D3_1_2.png"},function(e,t,n){e.exports=n.p+"images/D3_1_3.png"},function(e,t,n){e.exports=n.p+"images/D3_2_1.png"},function(e,t,n){e.exports=n.p+"images/D3_2_2.png"},function(e,t,n){e.exports=n.p+"images/D3_2_3.png"},function(e,t,n){e.exports=n.p+"images/D3_3_1.png"},function(e,t,n){e.exports=n.p+"images/D3_3_2.png"},function(e,t,n){e.exports=n.p+"images/D3_3_3.png"},function(e,t,n){e.exports=n.p+"images/D3_4_1.png"},function(e,t,n){e.exports=n.p+"images/D3_4_2.png"},function(e,t,n){e.exports=n.p+"images/D3_4_3.png"},function(e,t,n){e.exports=n.p+"images/M1_1_1.png"},function(e,t,n){e.exports=n.p+"images/M1_1_2.png"},function(e,t,n){e.exports=n.p+"images/M1_1_3.png"},function(e,t,n){e.exports=n.p+"images/M2_1_1.png"},function(e,t,n){e.exports=n.p+"images/M2_1_2.png"},function(e,t,n){e.exports=n.p+"images/M2_1_3.png"},function(e,t,n){e.exports=n.p+"images/M2_2_1.png"},function(e,t,n){e.exports=n.p+"images/M2_2_2.png"},function(e,t,n){e.exports=n.p+"images/M2_2_3.png"},function(e,t,n){e.exports=n.p+"images/M3_1_1.png"},function(e,t,n){e.exports=n.p+"images/M3_1_2.png"},function(e,t,n){e.exports=n.p+"images/M3_1_3.png"},function(e,t,n){e.exports=n.p+"images/M3_2_1.png"},function(e,t,n){e.exports=n.p+"images/M3_2_2.png"},function(e,t,n){e.exports=n.p+"images/M3_2_3.png"},function(e,t,n){e.exports=n.p+"images/M3_3_1.png"},function(e,t,n){e.exports=n.p+"images/M3_3_2.png"},function(e,t,n){e.exports=n.p+"images/M3_3_3.png"},function(e,t,n){e.exports=n.p+"images/M3_4_1.png"},function(e,t,n){e.exports=n.p+"images/M3_4_2.png"},function(e,t,n){e.exports=n.p+"images/M3_4_3.png"},function(e,t,n){e.exports=n.p+"images/S1_1_1.png"},function(e,t,n){e.exports=n.p+"images/S1_1_2.png"},function(e,t,n){e.exports=n.p+"images/S1_1_3.png"},function(e,t,n){e.exports=n.p+"images/S2_1_1.png"},function(e,t,n){e.exports=n.p+"images/S2_1_2.png"},function(e,t,n){e.exports=n.p+"images/S2_1_3.png"},function(e,t,n){e.exports=n.p+"images/S2_2_1.png"},function(e,t,n){e.exports=n.p+"images/S2_2_2.png"},function(e,t,n){e.exports=n.p+"images/S2_2_3.png"},function(e,t,n){e.exports=n.p+"images/S3_1_1.png"},function(e,t,n){e.exports=n.p+"images/S3_1_2.png"},function(e,t,n){e.exports=n.p+"images/S3_1_3.png"},function(e,t,n){e.exports=n.p+"images/S3_2_1.png"},function(e,t,n){e.exports=n.p+"images/S3_2_2.png"},function(e,t,n){e.exports=n.p+"images/S3_2_3.png"},function(e,t,n){e.exports=n.p+"images/S3_3_1.png"},function(e,t,n){e.exports=n.p+"images/S3_3_2.png"},function(e,t,n){e.exports=n.p+"images/S3_3_3.png"},function(e,t,n){e.exports=n.p+"images/S3_4_1.png"},function(e,t,n){e.exports=n.p+"images/S3_4_2.png"},function(e,t,n){e.exports=n.p+"images/S3_4_3.png"},function(e,t,n){e.exports=n.p+"images/queen.png"},function(e,t,n){e.exports=n.p+"images/sprite.png"},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(12),c=n(15),l=n(535),h=(n.n(l),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return console.log("landing",e),n.state={hidden:!0,cookies:!1},n}return o(t,e),h(t,[{key:"componentWillMount",value:function(){var e=this,t=null!=this.checkCookies();setTimeout(function(){e.setState({hidden:!1,cookies:t})},c.e)}},{key:"checkCookies",value:function(){return JSON.parse(localStorage.getItem("cookiepolicy"))}},{key:"acceptCookies",value:function(){var e={accept:!0};localStorage.setItem("cookiepolicy",JSON.stringify(e)),this.setState({cookies:!0}),this.props.ateCookies()}},{key:"render",value:function(){var e=this,t=this.state.hidden?0:1,n={opacity:t};return s.a.createElement("div",{className:"main landing"},s.a.createElement("div",{className:"main-fade",style:n},s.a.createElement("div",{className:"wrapper"},s.a.createElement("p",{className:"luckiest-guy"},"The Legend of the"),s.a.createElement("h1",{className:"landing-title"},"Quest Caster"),s.a.createElement("div",{className:"landing-buttons"},s.a.createElement(u.b,{to:"/legend",className:"landing-btn mdl-button mdl-js-button mdl-button--raised mdl-button--accent"},s.a.createElement("i",{className:"material-icons"},"brightness_7")," NEW QUEST "),s.a.createElement(u.b,{to:"/login",className:"landing-btn mdl-button mdl-js-button mdl-button--raised mdl-button--accent"},s.a.createElement("i",{className:"material-icons"},"terrain")," CONTINUE ")),s.a.createElement("p",{className:"credit"},"© 2020 Michael Gallay")),s.a.createElement("div",{className:"cookie-warning "+(this.state.hidden&&!this.state.cookies?"start":"")+" "+(this.state.cookies?"remove":"")},s.a.createElement("div",{className:"cookie-content"},s.a.createElement("h5",null,"Quest Caster requires cookies"),s.a.createElement("p",null,"This game uses your browser's local storage and other cookies to make game play possible and enable basic analytics. We will never sell your data, but to see how we use it, please review our ",s.a.createElement("a",{href:"/cookies",target:"blank"},"cookie policy"),". Unfortunately, if you are not willing or able to accept, you will not be able to play the game."),s.a.createElement("button",{className:"landing-btn mdl-button mdl-js-button mdl-button--raised mdl-button--accent",onClick:function(){return e.acceptCookies()}},"I ACCEPT")))))}}]),t}(s.a.Component),p=f;t.a=p,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"Landing","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Landing/Landing.jsx"),__REACT_HOT_LOADER__.register(p,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Landing/Landing.jsx"))}()},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=(n(12),n(168)),c=(n.n(u),n(537)),l=(n.n(c),n(64)),h=n(15),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p="firebaseAuthInProgress",d=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return console.log("login",e),n.state={hidden:!0,fname:"",greeting:"Please Log In",onLogin:!1,username:"",email:"",passwordOne:"",passwordTwo:"",error:""},n.handleGoogleLogin=n.handleGoogleLogin.bind(n),n.checkNewUser=n.checkNewUser.bind(n),n.hasUsername=n.hasUsername.bind(n),n.handleKeyUp=n.handleKeyUp.bind(n),n.updateUsername=n.updateUsername.bind(n),n.nextStep=n.nextStep.bind(n),n}return o(t,e),f(t,[{key:"handleGoogleLogin",value:function(){Object(l.a)().catch(function(e){alert(e),localStorage.removeItem(p)}),localStorage.setItem(p,"1")}},{key:"handleKeyUp",value:function(e){var t=e.target.value;this.setState({username:t})}},{key:"updateUsername",value:function(){}},{key:"componentWillMount",value:function(){var e=this;Object(h.c)().getRedirectResult().then(function(e){e.user&&(e.credential&&e.credential.accessToken,e.user)}).catch(function(e){e.code,e.message,e.email,e.credential,alert(e)}),Object(h.c)().onAuthStateChanged(function(t){if(console.log("onAuthStateChanged"),t){localStorage.removeItem(p),localStorage.setItem("appToken",t.uid);var n=Object(h.c)().currentUser;e.checkNewUser(n)}}),setTimeout(function(){e.setState({hidden:!1})},h.e)}},{key:"hasUsername",value:function(e){return!!e.username}},{key:"getUsername",value:function(){return!!user.username}},{key:"checkNewUser",value:function(e){console.log("CheckNewUser");var t="",n=this,r=h.f.ref("/users/"+e.uid);console.log("asdf",r),h.f.ref("/users/"+e.uid).once("value").then(function(i){if(i.val()){var o=i.val();t=o.username,console.log("set username",t),localStorage.setItem("localUser",JSON.stringify(o)),n.nextStep(t)}else{var a=e.uid;e.displayName,e.providerData[0].photoURL,console.log("new user. pushing default data.");var s={userid:a,username:"",gems:0,staffs:{current:"default",forest:{ready:!1,purchased:!1},rock:{ready:!1,purchased:!1},water:{ready:!1,purchased:!1},fire:{ready:!1,purchased:!1}},tutorials:{training:!1,battle:!1,final:!1},gamemath:{add:{training:0,battle1:0,battle2:0,unlocked1:!1,unlocked2:!1},sub:{training:0,battle1:0,battle2:0,unlocked1:!1,unlocked2:!1},mul:{training:0,battle1:0,battle2:0,unlocked1:!1,unlocked2:!1},div:{training:0,battle1:0,battle2:0,unlocked1:!1,unlocked2:!1},ran:{battle:0,unlocked:!1,revealed:!1}},creatures:{add:{L1_1_1:!1,L1_1_2:!1,L1_1_3:!1,L2_1_1:!1,L2_1_2:!1,L2_1_3:!1,L2_2_1:!1,L2_2_2:!1,L2_2_3:!1,L3_1_1:!1,L3_1_2:!1,L3_1_3:!1,L3_2_1:!1,L3_2_2:!1,L3_2_3:!1,L3_3_1:!1,L3_3_2:!1,L3_3_3:!1},sub:{L1_1_1:!1,L1_1_2:!1,L1_1_3:!1,L2_1_1:!1,L2_1_2:!1,L2_1_3:!1,L2_2_1:!1,L2_2_2:!1,L2_2_3:!1,L3_1_1:!1,L3_1_2:!1,L3_1_3:!1,L3_2_1:!1,L3_2_2:!1,L3_2_3:!1,L3_3_1:!1,L3_3_2:!1,L3_3_3:!1},mul:{L1_1_1:!1,L1_1_2:!1,L1_1_3:!1,L2_1_1:!1,L2_1_2:!1,L2_1_3:!1,L2_2_1:!1,L2_2_2:!1,L2_2_3:!1,L3_1_1:!1,L3_1_2:!1,L3_1_3:!1,L3_2_1:!1,L3_2_2:!1,L3_2_3:!1,L3_3_1:!1,L3_3_2:!1,L3_3_3:!1},div:{L1_1_1:!1,L1_1_2:!1,L1_1_3:!1,L2_1_1:!1,L2_1_2:!1,L2_1_3:!1,L2_2_1:!1,L2_2_2:!1,L2_2_3:!1,L3_1_1:!1,L3_1_2:!1,L3_1_3:!1,L3_2_1:!1,L3_2_2:!1,L3_2_3:!1,L3_3_1:!1,L3_3_2:!1,L3_3_3:!1},ran:{queen:!1}}};r.set(s),localStorage.setItem("localUser",JSON.stringify(s)),n.nextStep(t)}})}},{key:"nextStep",value:function(e){console.log("props.log",this.props.loggedIn),this.props.loggedIn||this.props.hasLoggedIn(),""!=e?this.props.history.push("/navigation"):this.props.history.push("/chooseusername")}},{key:"render",value:function(){var e=this.state.hidden?0:1,t={opacity:e},n=s.a.createElement(v,{handleGoogleLogin:this.handleGoogleLogin});return"1"===localStorage.getItem(p)&&(n=s.a.createElement(g,null)),s.a.createElement("div",{className:"login main"},s.a.createElement("div",{className:"main-fade",style:t},n))}}]),t}(s.a.Component),m=d;t.a=m;var v=function(e){var t=e.handleGoogleLogin;return s.a.createElement("div",{className:"wrapper"},s.a.createElement("h1",{className:"headline"},"Login"),s.a.createElement("div",null,s.a.createElement("p",{className:"sub-copy"},"Sign in with Google"),s.a.createElement("button",{className:"mdl-button mdl-js-button mdl-button--raised mdl-button--accent",value:"Sign in with Google",onClick:t},"Sign in")))},g=function(){return s.a.createElement("div",{className:"wrapper"},s.a.createElement("h1",{className:"headline"},"Loading..."),s.a.createElement("div",{className:"mdl-spinner mdl-js-spinner is-active"}))};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(p,"firebaseAuthKey","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Login/Login.jsx"),__REACT_HOT_LOADER__.register("localUser","localUser","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Login/Login.jsx"),__REACT_HOT_LOADER__.register("appToken","appTokenKey","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Login/Login.jsx"),__REACT_HOT_LOADER__.register(d,"Login","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Login/Login.jsx"),__REACT_HOT_LOADER__.register(v,"LoginPage","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Login/Login.jsx"),__REACT_HOT_LOADER__.register(g,"SplashScreen","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Login/Login.jsx"),__REACT_HOT_LOADER__.register(m,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Login/Login.jsx"))}()},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(12),c=n(15),l=n(539),h=(n.n(l),n(116)),f=n.n(h),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hidden:!0},n}return o(t,e),p(t,[{key:"componentWillMount",value:function(){var e=this;setTimeout(function(){e.setState({hidden:!1})},c.e)}},{key:"render",value:function(){var e=this.state.hidden?0:1,t={opacity:e},n={fontSize:".7em"};return s.a.createElement("div",{className:"story"},s.a.createElement("p",null,"It was the time of noble heroes, creatures of legend and dark wizardry. You, however come from humble beginnings, a poor villager, who unknown to most, has always had a gifted mind capable of solving problems and a thirst for knowledge and adventure."),s.a.createElement("p",null,"One day, bored with your life in the village, you set out into the world to seek the adventure you have always craved. You soon find yourself far from home and further than you have ever traveled.  After weeks of wandering, you find yourself in a strange new land.  This peaceful land is bathed in a faint shadow and feels different, almost ",s.a.createElement("em",null,"magical!")),s.a.createElement("p",null,s.a.createElement("img",{style:{float:"left",marginRight:"4px"},src:f.a,width:"72",height:"72"}),"“Is it really you?” shouts a high-pitched voice. You spin around to see small creature; oddly cute and unlike any you have ever encountered. She is quivering, clearly terrified but her voice is also full of hope. “The Legend said you would arrive today!”"),s.a.createElement("p",null,"“Our kingdom was peaceful and everyone in our four lands used their magic for good. That was until an evil Wizard arrived. He used a powerful magic we had never seen and captured our Queen. Once our Queen was emprisoned, the Wizard easily captured every creature in the entire land. I am the last one who is free!”"),s.a.createElement("p",null,"The creature pauses for a second and with a faded whisper she continues, “We have a legend. It tells of a stranger smart enough to learn our magic amd save our people in our darkest time. That time is now, and that stranger is you!”")),s.a.createElement("div",{className:"main legend"},s.a.createElement("div",{className:"main-fade",style:t},s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",{className:"story"},s.a.createElement("h1",{className:"legend-title"},s.a.createElement("span",{style:n},"The")," Legend ",s.a.createElement("span",{style:n},"of the "),"QuestCaster"),s.a.createElement("p",null,"The island kingdom of Mathicus has been overtaken by an evil wizard who has trapped all of its citizens in cages. No village was spared and the creatures are terrified."),s.a.createElement("p",null,"You are the kingdom's only hope and the power of math is the only thing that will defeat the wizard and free the poor creatures."),s.a.createElement("p",null,' Practice your skills by "training" to make sure you know addition, subtraction, multiplication and division as well as you can. Then, when you are ready, it is time to "battle".'),s.a.createElement("p",null,"Do you have what it takes? Everyone is counting on you. You are the kingdom's only hope of restoring peace.")),s.a.createElement("div",{className:"legend-buttons"},s.a.createElement(u.b,{to:"/login",className:"landing-btn mdl-button mdl-js-button mdl-button--raised mdl-button--accent"},s.a.createElement("i",{className:"material-icons"},"terrain")," BEGIN QUEST "),s.a.createElement(u.b,{to:"/help",className:"mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-button--colored"},s.a.createElement("i",{className:"material-icons"},"help"))),s.a.createElement("p",{className:"credit"},"© 2020 Michael Gallay"))))}}]),t}(s.a.Component),m=d;t.a=m,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(d,"Legend","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Legend/Legend.jsx"),__REACT_HOT_LOADER__.register(m,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Legend/Legend.jsx"))}()},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=(n(12),n(168)),c=(n.n(u),n(15)),l=n(541),h=(n.n(l),n(64),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=localStorage.getItem(o);return n.state={username:"",usernameAvailable:!1,localUser:o,hidden:!0},n.hasUsername=n.hasUsername.bind(n),n.handleKeyUp=n.handleKeyUp.bind(n),n.updateUsername=n.updateUsername.bind(n),n.checkUsername=n.checkUsername.bind(n),n}return o(t,e),h(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({hidden:!1})},c.e)}},{key:"handleKeyUp",value:function(e){var t=/[^a-zA-Z0-9]+/gi,n=e.target;n.value=n.value.replace(t,""),this.checkUsername(n.value)}},{key:"updateUsername",value:function(){var e=JSON.parse(localStorage.getItem("localUser")),t=e.userid;e.username=this.state.username;var n=c.f.ref("/users/"+e.userid+"/username"),r=c.f.ref("/usernames/"+this.state.username);n.set(this.state.username),r.set(t),localStorage.setItem("localUser",JSON.stringify(e)),this.props.history.push("/navigation")}},{key:"checkUsername",value:function(e){var t=this,n=e,r=!1;c.f.ref("/usernames/"+e.toLowerCase()).once("value").then(function(e){r=!!e.val(),t.setState({usernameAvailable:r,username:n})})}},{key:"hasUsername",value:function(e){return!!e.username}},{key:"getUsername",value:function(){return!!user.username}},{key:"render",value:function(){var e=this,t=this.usernameInput?this.usernameInput.value:"",n=this.state.hidden?0:1,r={opacity:n};return s.a.createElement("div",{className:"main username"},s.a.createElement("div",{className:"main-fade",style:r},s.a.createElement("div",{className:"wrapper"},s.a.createElement("h1",{className:"headline"},"Welcome Traveler!"),s.a.createElement("p",{className:"sub-copy"},"What shall we call you?"),s.a.createElement("p",{className:"instructions"},"Letters and numbers only."),s.a.createElement("div",{className:"input-field"},s.a.createElement("input",{type:"text",className:"mdl-textfield__input input",placeholder:"Choose a Username",ref:function(t){return e.usernameInput=t},onKeyUp:this.handleKeyUp})),s.a.createElement("p",{className:"help "+(this.state.usernameAvailable?"is-danger":"is-success")},t," is ",this.state.usernameAvailable?"not available":"available"),s.a.createElement("button",{className:"mdl-button mdl-js-button mdl-button--raised mdl-button--accent",disabled:this.state.usernameAvailable||!t,onClick:this.updateUsername},"Select Username"))))}}]),t}(s.a.Component),p=f;t.a=p,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("firebaseAuthInProgress","firebaseAuthKey","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/ChooseUsername/ChooseUsername.jsx"),__REACT_HOT_LOADER__.register("localUser","localUser","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/ChooseUsername/ChooseUsername.jsx"),__REACT_HOT_LOADER__.register("appToken","appTokenKey","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/ChooseUsername/ChooseUsername.jsx"),__REACT_HOT_LOADER__.register(f,"ChooseUsername","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/ChooseUsername/ChooseUsername.jsx"),__REACT_HOT_LOADER__.register(p,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/ChooseUsername/ChooseUsername.jsx"))}()},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(115),c=n.n(u),l=n(15),h=n(543),f=(n.n(h),n(544)),p=n(546),d=n(566),m=n(569),v=n(166),g=n(571),y=n(573),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b="localUser",w=l.i,E=l.h,T=[],S=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.location.state,a=o.operator,s=o.gamemode,u=o.constant,c=o.randomize,h=o.level,f=o.tutorial;console.log("gameplay",e);var p=50,d=12,m=3,v=2500;"training"==s&&(p=1e3);var g=!1;2==h&&(m=5,v=4e3,d=24),n.createTrainingQuestions(u,d,a,c);var y=n.calculateNumbers(u,d,a);"training"==s&&(y=T[0]);var _=n.calculateEquation(y.numOne,y.numTwo,a);n.introCountdown=n.introCountdown.bind(n);var E=JSON.parse(localStorage.getItem(b));E.gamemath.ran.unlocked&&!E.gamemath.ran.revealed&&(E.gamemath.ran.revealed=!0,localStorage.setItem(b,JSON.stringify(E)),l.f.ref("/users/"+E.userid+"/gamemath/ran/revealed").set(E.gamemath.ran.revealed));var S=E.staffs.current;if("forest"==S&&(g=!0),n.state={sbActive:!1,sbMessage:"snack",score:0,streak:0,correct:null,bonus:0,accuracy:0,answered:!1,timeExpired:!1,multiplier:1,gameover:!1,restart:!1,health:w,numTotal:0,numRight:0,numWrong:0,streakTarget:m,operator:a,gamemode:s,constant:u,level:h,randomize:c,modalVisible:"init false",modalTitle:"Game Over",modalBody:"Game not started",nextQuestionDelay:p,range:d,numbers:y,equation:_,timerID:0,rightFX:!1,wrongFX:!1,levelFX:!1,hidden:!0,countdown:3,hitpoints:v,tutorial:f,staff:S,mulligans:0,lifeboost:!1,charm:g,progressTotal:"training"==s?l.j:v,progressLeft:"training"==s?T.length:v},console.log("gpstate",n.state),""!=n.state.tutorial){var C="battle"==n.state.gamemode?"battle":"training";E.tutorials[C]=!0,localStorage.setItem(b,JSON.stringify(E)),l.f.ref("/users/"+E.userid+"/tutorials/"+C).set(E.tutorials[C])}return n}return o(t,e),_(t,[{key:"createTrainingQuestions",value:function(e,t,n,r){T=[];for(var i=r?"ran":n,o=0;o<=l.j-1;o++){var a=this.calculateNumbers(e,t,i);T.push(a)}console.log("trainingQuestions",T)}},{key:"componentWillMount",value:function(){var e=this;setTimeout(function(){e.setState({hidden:!1}),"battle"==e.state.gamemode?e.introCountdown():e.readyToBattle(1e3)},l.e)}},{key:"introCountdown",value:function(){var e=this,t=this.state.countdown,n=setInterval(function(){t--,0==t&&(t="FIGHT!",e.readyToBattle(1e3),clearInterval(n)),e.setState({countdown:t})},1e3)}},{key:"readyToBattle",value:function(e){var t=this;setTimeout(function(){t.setState({battle:!0})},e)}},{key:"rand",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{key:"stopAudio",value:function(){this.rightFX.stop(),this.wrongFX.stop(),this.levelFX.stop()}},{key:"showSnackbarMessage",value:function(e){var t=this,n="";if("You found the last creature!! Are you ready for the final battle?"==e&&(n="final"),this.setState({sbActive:!0,sbMessage:e,tutorial:n}),"final"==n){var r=JSON.parse(localStorage.getItem(b));r.tutorials.final=!0,localStorage.setItem(b,JSON.stringify(r)),l.f.ref("/users/"+r.userid+"/tutorials/final").set(r.tutorials.final)}setTimeout(function(){t.setState({sbActive:!1})},5e3)}},{key:"onAnswer",value:function(e){var t=this;if(!this.state.answered){this.stopAudio();var n=this.state.numTotal+1,r=e,i=this.state.multiplier;if(e){var o=this.state.numRight+1,a=this.state.streak+1;i=Math.floor(a/this.state.streakTarget)+1;var s=!1;a%this.state.streakTarget==0&&(s=!0);var u=this.state.score+E*i;"battle"==this.state.gamemode?u>=this.state.hitpoints&&console.log("battle won!"):T.shift(),this.setState({numRight:o,numTotal:n,score:u,streak:a,answered:!0,multiplier:i,correct:r,modalVisible:!1,rightFX:!0,wrongFX:!1,levelFX:s,progressTotal:"training"==this.state.gamemode?l.j:this.state.hitpoints,progressLeft:"training"==this.state.gamemode?T.length:this.state.hitpoints-u})}else{var c=this.state.numWrong+1,h=this.state.mulligans,f=0;i=1;var p=this.state.health-1;this.state.mulligans>0&&(c-=1,f=this.state.streak,i=this.state.multiplier,p=this.state.health,h-=1),"training"==this.state.gamemode&&T.push(T.splice(0,1)[0]),this.setState({numWrong:c,numTotal:n,streak:f,mulligans:h,answered:!0,multiplier:i,health:p,correct:r,rightFX:!1,wrongFX:!0,levelFX:!1})}this.state.timerid&&clearTimeout(this.state.timerid),this.state.timerid=setTimeout(function(){var e=t.state.score,n=0,r=void 0,i=void 0,o=void 0,a=JSON.parse(localStorage.getItem(b)),s=t.state.randomize?"ran":t.state.operator;if((t.state.health<=0||0==T.length)&&"training"==t.state.gamemode){if(console.log("Game Over"),r=Math.round(t.state.numRight/t.state.numTotal*100),t.state.numRight+t.state.numWrong==0&&(r=0),0===t.state.health&&(n=0,i="Keep practicing!",o="Your score:<br><h3>"+t.state.score+'</h3><span class="green bold">You got '+t.state.numRight+' correct!</span><br><br><span class="bold">'+r+"% Accuracy</span><br><br>Get all the training questions correct to unlock bonuses."),t.state.health>0&&e>=500){if(a.gamemath[s].unlocked1){var u=a.creatures[s];u.L1_1_1&&u.L1_1_2&&u.L1_1_3?(n=1,i="Well done!",o="Your score:<br><h3>"+t.state.score+'</h3><span class="green bold">You got '+t.state.numRight+' correct!</span><br><br><span class="bold">'+r+"% Accuracy</span><br><br>"):(n=2,i="You found a creature!",o="Your score:<br><h3>"+t.state.score+'</h3><span class="green bold">You got '+t.state.numRight+' correct!</span><br><br><span class="bold">'+r+"% Accuracy</span><br><br>Click the box to see who you have rescued.")}else{n=0,i="You've unlocked Level 1!",o="Your score:<br><h3>"+e+'</h3><span class="green bold">You got '+t.state.numRight+' correct!</span><br><br><span class="bold">'+r+"% Accuracy</span><br><br>You’ve proven that you are ready for the next level.",a.gamemath[s].unlocked1=!0;var c="Addition";"sub"==s&&(c="Subtraction"),"mul"==s&&(c="Multiplication"),"div"==s&&(c="Division");var h="Level 1 in "+c+" has been unlocked!";t.showSnackbarMessage(h)}t.state.score>a.gamemath[s].training&&(a.gamemath[s].training=t.state.score),localStorage.setItem(b,JSON.stringify(a)),l.f.ref("/users/"+a.userid+"/gamemath/"+s).set(a.gamemath[s])}t.setState({gameover:!0,modalVisible:!0,modalTitle:i,modalBody:o,rightFX:!1,wrongFX:!1,bonus:n,accuracy:r,levelFX:!1,progressTotal:"training"==t.state.gamemode?l.j:t.state.hitpoints,progressLeft:"training"==t.state.gamemode?T.length:t.state.hitpoints-t.state.score})}else if(t.state.score>=t.state.hitpoints&&"battle"==t.state.gamemode){if(console.log("you defeated the wizard"),r=Math.round(t.state.numRight/(t.state.numRight+t.state.numWrong)*100),n=1,i="Well done!",o="Your score:<br><h3>"+t.state.score+'</h3><span class="green bold">You got '+t.state.numRight+' correct!</span><br><br><span class="bold">'+r+"% Accuracy</span><br><br>",r>=60){n=2,i="You unlocked a secret!",o="Your score:<br><h3>"+t.state.score+'</h3><span class="green bold">You got '+t.state.numRight+' correct!</span><br><br><span class="bold">'+r+"% Accuracy</span><br><br>Click the box to open it.",1==t.state.level?t.state.score>a.gamemath[s].battle1&&(a.gamemath[s].battle1=t.state.score):2==t.state.level&&t.state.score>a.gamemath[s].battle2&&(a.gamemath[s].battle2=t.state.score),localStorage.setItem(b,JSON.stringify(a));var f=l.f.ref("/users/"+a.userid+"/gamemath/"+s);f.set(a.gamemath[s])}t.state.timerid=setTimeout(function(){t.setState({modalVisible:!0,modalTitle:i,modalBody:o,bonus:n,accuracy:r,rightFX:!1,wrongFX:!1,levelFX:!1})},3e3),t.setState({battle:!1,gameover:!0,countdown:"VICTORY!",score:0})}else{var p=t.state.operator,d=["add","sub","mul","div"];t.state.randomize&&(p=d[t.rand(0,d.length-1)]),t.setState({operator:p}),t.nextQuestion()}},this.state.nextQuestionDelay)}}},{key:"timeExpired",value:function(){var e=this;console.log("Time Expired");var t=Math.round(this.state.numRight/(this.state.numRight+this.state.numWrong)*100);this.state.score,this.state.numRight+this.state.numWrong==0&&(t=0);var n="Your score:<br><h3>"+this.state.score+'</h3><span class="green bold">'+this.state.numRight+' Correct</span> – <span class="red bold">'+this.state.numWrong+' Wrong</span><br><br><span class="bold">'+t+"% Accuracy</span><br><br>Why don’t you try again?",r=JSON.parse(localStorage.getItem(b)),i=this.state.randomize?"ran":this.state.operator;1==this.state.level?this.state.score>r.gamemath[i].battle1&&(r.gamemath[i].battle1=this.state.score):2==this.state.level&&this.state.score>r.gamemath[i].battle2&&(r.gamemath[i].battle2=this.state.score),localStorage.setItem(b,JSON.stringify(r)),l.f.ref("/users/"+r.userid+"/gamemath/"+i).set(r.gamemath[i]);var o="Game not started"!=n;"VICTORY!"==this.state.countdown||this.state.timeExpired||(this.state.timerid=setTimeout(function(){e.setState({modalVisible:o,modalTitle:"You were defeated!",modalBody:n,accuracy:t,rightFX:!1,wrongFX:!1,levelFX:!1})},2e3),this.setState({battle:!1,gameover:!0,countdown:"DEFEAT!",timeExpired:!0}))}},{key:"clearAnswers",value:function(){var e=document.getElementById("selected");e&&e.setAttribute("id","")}},{key:"nextQuestion",value:function(){var e=document.getElementById("selected");e&&e.setAttribute("id","");var t=this.calculateNumbers(this.state.constant,this.state.range,this.state.operator);"training"==this.state.gamemode&&(console.log("next q training"),t=T[0]);var n=this.calculateEquation(t.numOne,t.numTwo,this.state.operator);this.setState({answered:!1,correct:null,numbers:t,equation:n,restart:!1}),"training"==this.state.gamemode&&this.stopAudio()}},{key:"closeModal",value:function(){var e=this,t=!1,n=this.state.countdown;"DEFEAT!"!=n&&"VICTORY!"!=n||(t=!0,n="");var r=300;"training"==this.state.gamemode&&(t=!0),r=0,this.createTrainingQuestions(this.state.constant,this.state.range,this.state.operator,this.state.randomize),this.setState({modalVisible:!1,answered:!1,correct:null,health:w,streak:0,bonus:0,multiplier:1,score:0,numRight:0,numTotal:0,numWrong:0,gameover:!1,restart:!0,timeExpired:!1,battle:t,countdown:n,progressTotal:"training"==this.state.gamemode?l.j:this.state.hitpoints,progressLeft:"training"==this.state.gamemode?T.length:this.state.hitpoints}),this.state.timerid=setTimeout(function(){e.nextQuestion()},r)}},{key:"calculateNumbers",value:function(e,t,n){var r=this.rand(-5,5),i=this.rand(-5,5);0==r&&r++,0==i&&i++,r==i&&i++,0==i&&i++;var o=e||this.rand(0,t),a=this.rand(0,t);return"div"==n&&0==a&&a++,{numOne:o,numTwo:a,randOne:r,randTwo:i}}},{key:"calculateEquation",value:function(e,t,n){var r=n,i=e,o=t,a=e+t;return"sub"==r?(a=i,i+=o):"mul"==r?a=i*o:"div"==r&&(a=i,i*=o),{numOne:i,numTwo:o,answer:a}}},{key:"hideTutorial",value:function(){console.log("hide tutorial"),this.setState({tutorial:!0})}},{key:"render",value:function(){var e=this,t=this.state.hidden?0:1,n={opacity:t},r=this.state.equation.numOne,i=this.state.equation.numTwo,o=this.state.equation.answer,a=this.state.numbers.randOne,u=this.state.numbers.randTwo,l=s.a.createElement("div",null);"training"==this.state.tutorial&&(l=s.a.createElement(y.a,{gamemode:"training",hideTutorial:function(){e.hideTutorial()}})),"battle"==this.state.tutorial&&(l=s.a.createElement(y.a,{gamemode:"battle",hideTutorial:function(){e.hideTutorial()}})),"final"==this.state.tutorial&&(l=s.a.createElement(y.a,{gamemode:"final",hideTutorial:function(){e.hideTutorial()}}));var h=s.a.createElement(d.a,{answered:this.state.answered,onAnswer:function(t){e.onAnswer(t)},answer:o,randOne:a,randTwo:u});"battle"==this.state.gamemode&&(h=s.a.createElement(m.a,{answered:this.state.answered,onAnswer:function(t){e.onAnswer(t)},answer:o,gameover:this.state.gameover}));var _="ready";return""==this.state.countdown&&(_="ready rematch"),s.a.createElement("div",{style:n,className:"gameplaymath main "+this.state.gamemode+" land-"+this.state.operator},s.a.createElement("div",{className:"main-fade",style:n},s.a.createElement("div",{className:"wrapper"},s.a.createElement(p.a,{onTimeExpired:function(){e.timeExpired()},ready:this.state.battle,multiplier:this.state.multiplier,streak:this.state.streak,correct:this.state.correct,lifeboost:this.state.lifeboost,score:this.state.score,level:this.state.level,gamemode:this.state.gamemode,gameover:this.state.gameover,restart:this.state.restart,fullHealth:w,health:this.state.health,hitpoints:this.state.hitpoints,modalVisible:this.state.modalVisible,progressTotal:this.state.progressTotal,progressLeft:this.state.progressLeft}),s.a.createElement("div",{className:"gameArt"},s.a.createElement("div",{className:"wizard wizard-battle level"+this.state.level+" "+(this.state.countdown<3||"FIGHT!"==this.state.countdown?_:"")}),s.a.createElement("div",{className:"wizard wizard-defeat level"+this.state.level+" "+("DEFEAT!"==this.state.countdown?"ready":"")}),s.a.createElement("div",{className:"wizard wizard-victory level"+this.state.level+" "+("VICTORY!"==this.state.countdown?"ready":"")}),s.a.createElement("div",{className:"student level"+this.state.level+" "+(this.state.countdown<3||"FIGHT!"==this.state.countdown?_:"")}),s.a.createElement("div",{className:"countdown luckiest-guy "+(this.state.battle?"ready":"")},this.state.countdown)),s.a.createElement("div",{className:"howler"},s.a.createElement(c.a,{src:"/audio/right.mp3",playing:this.state.rightFX,ref:function(t){return e.rightFX=t}}),s.a.createElement(c.a,{src:"/audio/wrong.mp3",playing:this.state.wrongFX,ref:function(t){return e.wrongFX=t}}),s.a.createElement(c.a,{src:"/audio/level1.mp3",playing:this.state.levelFX,ref:function(t){return e.levelFX=t}})),s.a.createElement("div",{className:"flashcard "+(this.state.battle?"battle":"")},s.a.createElement("div",{className:"flashcard-back"}),s.a.createElement(f.a,{operator:this.state.operator,numOne:r,numTwo:i}),h),s.a.createElement(v.a,{title:this.state.modalTitle,body:this.state.modalBody,score:this.state.score,gameplayBtns:!0,level:this.state.level,bonus:this.state.bonus,charm:this.state.charm,accuracy:this.state.accuracy,operator:this.state.operator,visible:this.state.modalVisible,snackbar:function(t){e.showSnackbarMessage(t)},closeModal:function(){e.closeModal()}})),l,s.a.createElement(g.a,{active:this.state.sbActive,message:this.state.sbMessage})))}}]),t}(s.a.Component),C=S;t.a=C,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(b,"localUser","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/GamePlayMath/GamePlayMath.jsx"),__REACT_HOT_LOADER__.register(500,"unlockScore","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/GamePlayMath/GamePlayMath.jsx"),__REACT_HOT_LOADER__.register(100,"unlockDecimal","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/GamePlayMath/GamePlayMath.jsx"),__REACT_HOT_LOADER__.register(100,"releaseScore","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/GamePlayMath/GamePlayMath.jsx"),__REACT_HOT_LOADER__.register(60,"requiredAccuracy","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/GamePlayMath/GamePlayMath.jsx"),__REACT_HOT_LOADER__.register(w,"fullHealth","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/GamePlayMath/GamePlayMath.jsx"),__REACT_HOT_LOADER__.register(E,"baseDamage","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/GamePlayMath/GamePlayMath.jsx"),__REACT_HOT_LOADER__.register(T,"trainingQuestions","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/GamePlayMath/GamePlayMath.jsx"),__REACT_HOT_LOADER__.register(S,"GamePlayMath","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/GamePlayMath/GamePlayMath.jsx"),__REACT_HOT_LOADER__.register(C,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/GamePlayMath/GamePlayMath.jsx"))}()},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=(n(12),n(545)),c=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o={add:"+",sub:"–",mul:"x",div:"÷"};return n.state={symbol:o,operator:n.props.operator?o[n.props.operator]:"o"},n}return o(t,e),c(t,[{key:"componentDidUpdate",value:function(e){e.operator&&this.state.symbol[e.operator]!=this.state.operator&&this.setState({operator:this.state.symbol[e.operator]})}},{key:"render",value:function(){return s.a.createElement("div",{className:"eq-wrapper"},s.a.createElement("div",{className:"eq-top eq-operand"},this.props.numOne),s.a.createElement("div",{className:"eq-bot eq-operand"},this.props.numTwo),s.a.createElement("div",{className:"eq-operator"},this.state.operator),s.a.createElement("div",{className:"eq-equals"}))}}]),t}(s.a.Component),h=l;t.a=h,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"Equation","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Equation/Equation.jsx"),__REACT_HOT_LOADER__.register(h,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Equation/Equation.jsx"))}()},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(547),c=n(549),l=n(551),h=n(555),f=n(559),p=n(562),d=n(12),m=n(565),v=(n.n(m),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),g=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.gamemode,e.progressTotal,e.progressLeft,e.level,n.state={},n}return o(t,e),v(t,[{key:"render",value:function(){var e="",t=s.a.createElement(h.a,{modalVisible:this.props.modalVisible,ready:this.props.ready,restart:this.props.restart,gameover:this.props.gameover,lifeboost:this.props.lifeboost,onTimeExpired:this.props.onTimeExpired});return"training"==this.props.gamemode&&(t="",e=s.a.createElement(l.a,{gameover:this.props.gameover,health:this.props.health,fullHeath:this.props.fullHealth})),s.a.createElement("div",{className:"scoreboard-wrapper "+(this.props.gameover?"gameover":"")},s.a.createElement("div",{className:"main-scores"},s.a.createElement(d.b,{to:"/navigation",className:"back-btn"},s.a.createElement("i",{className:"material-icons"},"backspace")),e,s.a.createElement(p.a,{streakTarget:this.props.streakTarget,correct:this.props.correct,streak:this.props.streak}),s.a.createElement(f.a,{streakTarget:this.props.streakTarget,streak:this.props.streak,multiplier:this.props.multiplier}),s.a.createElement(u.a,{gamemode:this.props.gamemode,hitpoints:this.props.hitpoints,score:this.props.score}),t),s.a.createElement(c.a,{gamemode:this.props.gamemode,progressTotal:this.props.progressTotal,progressLeft:this.props.progressLeft}))}}]),t}(s.a.Component),y=g;t.a=y,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(g,"ScoreBoard","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/ScoreBoard/ScoreBoard.jsx"),__REACT_HOT_LOADER__.register(y,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/ScoreBoard/ScoreBoard.jsx"))}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(548),c=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),c(t,[{key:"inactiveScore",value:function(e){var t="000000";if(e>0){var n=t.length-e.toString().length;t="";for(var r=0;r<n;r++)t+="0"}return t}},{key:"render",value:function(){var e=this.props.score,t=this.inactiveScore(this.props.score);return"battle"==this.props.gamemode&&this.props.score>=this.props.hitpoints&&(e="VICTORY"),s.a.createElement("div",{className:"score-wrapper"},s.a.createElement("span",{className:"inactive"},t),0==e?"":e)}}]),t}(s.a.Component),h=l;t.a=h,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"Score","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Score/Score.jsx"),__REACT_HOT_LOADER__.register(h,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Score/Score.jsx"))}()},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(550),c=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),c(t,[{key:"inactiveScore",value:function(e){var t="000000";if(e>0){var n=t.length-e.toString().length;t="";for(var r=0;r<n;r++)t+="0"}return t}},{key:"render",value:function(){console.log("progress",this.props.progressTotal,this.props.progressLeft);for(var e=this.props.progressTotal,t=this.props.progressLeft,n=(e-t)/e*100+"%",r={width:n},i=[],o=1;o<=e+1;o++)i.push(s.a.createElement("div",{className:"divider",id:o,key:o}));var a=s.a.createElement("div",{className:"dividers"},i);return s.a.createElement("div",{className:"progress-wrapper "+this.props.gamemode},s.a.createElement("div",{className:"progress-back"}),s.a.createElement("div",{style:r,className:"progress-front"}),"training"==this.props.gamemode?a:"")}}]),t}(s.a.Component),h=l;t.a=h,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"ProgressBar","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/ProgressBar/ProgressBar.jsx"),__REACT_HOT_LOADER__.register(h,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/ProgressBar/ProgressBar.jsx"))}()},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(552),c=(n.n(u),n(553)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),l(t,[{key:"render",value:function(){for(var e=[],t=1;t<this.props.fullHeath+1;t++)e.push(s.a.createElement(c.a,{key:t,status:this.props.health<t?"inactive":""}));return s.a.createElement("div",{className:"health-wrapper"},e)}}]),t}(s.a.Component),f=h;t.a=f,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"Health","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Health/Health.jsx"),__REACT_HOT_LOADER__.register(f,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Health/Health.jsx"))}()},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(554),c=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),c(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"health-block "+this.props.status})}}]),t}(s.a.Component),h=l;t.a=h,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"HealthBlock","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/HealthBlock/HealthBlock.jsx"),__REACT_HOT_LOADER__.register(h,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/HealthBlock/HealthBlock.jsx"))}()},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(556),c=(n.n(u),n(115)),l=n.n(c),h=n(557),f=n.n(h),p=n(558),d=n.n(p),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v={info:{color:"green",wizard:f.a},warning:{color:"orange",threshold:10,wizard:d.a},alert:{color:"red",threshold:5,wizard:d.a}},g=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=30;return n.props.lifeboost&&(o*=1.2),n.state={timePassed:0,time:{},seconds:o,gamelength:o,timerStarted:!1,wizImage:f.a},n.timer=0,n.startTimer=n.startTimer.bind(n),n.countDown=n.countDown.bind(n),n}return o(t,e),m(t,[{key:"componentDidMount",value:function(){var e=this.secondsToTime(this.state.seconds);this.setState({time:e}),this._ismounted=!0}},{key:"componentWillUnmount",value:function(){this._ismounted=!1}},{key:"componentDidUpdate",value:function(e){!this.props.ready||this.state.timerStarted||this.props.gameover||this.startTimer(),this.props.restart&&!this.state.timerStarted&&(clearInterval(this.timer),this.startTimer())}},{key:"restart",value:function(){this.setState({seconds:this.state.gamelength}),this.startTimer()}},{key:"startTimer",value:function(){console.log("start timer"),this.setState({timerStarted:!0}),this.state.seconds>0&&(this.timer=setInterval(this.countDown,1e3))}},{key:"secondsToTime",value:function(e){var t=Math.floor(e/3600),n=e%3600,r=Math.floor(n/60),i=n%60,o=Math.ceil(i);return o<10&&(o="0"+o),{h:t,m:r,s:o}}},{key:"setWizardImage",value:function(){var e=this.state.seconds,t=v.alert,n=v.warning,r=v.info;return e<=t.threshold?t.wizard:e<=n.threshold?n.wizard:r.wizard}},{key:"setRemainingPathColor",value:function(){var e=this.state.seconds,t=v.alert,n=v.warning,r=v.info;return e<=t.threshold?t.color:e<=n.threshold?n.color:r.color}},{key:"setCircleDasharray",value:function(){return this.state.seconds==this.state.gamelength?"0 283":(283*this.calculateTimeFraction()).toFixed(0)+" 283"}},{key:"calculateTimeFraction",value:function(){var e=(this.state.gamelength-this.state.seconds)/this.state.gamelength;return e-1/this.state.gamelength*(1-e)}},{key:"countDown",value:function(){var e=this;if(!this._ismounted)return void clearInterval(this.timer);var t=this.state.seconds-1;this.setRemainingPathColor(this.state.gamelength-t),this.props.gameover&&(t=0),this.setState({seconds:t,time:this.secondsToTime(t)}),0==t&&(clearInterval(this.timer),this.timer=setTimeout(function(){e.setState({time:e.secondsToTime(e.state.gamelength),seconds:e.state.gamelength,timerStarted:!1}),e.props.onTimeExpired()},1e3))}},{key:"render",value:function(){var e=this.state.seconds<6&&!this.props.gameover;return s.a.createElement("div",{className:"countdown-wrapper "+(this.state.seconds<6?"final-5":"")},s.a.createElement(l.a,{src:"/audio/countdown.mp3",playing:e}),s.a.createElement("div",{className:"base-timer"},s.a.createElement("img",{className:"wizard-image",src:this.setWizardImage(),width:"80",height:"80"}),s.a.createElement("svg",{className:"base-timer__svg",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("g",{className:"base-timer__circle"},s.a.createElement("circle",{className:"base-timer__path-elapsed",cx:"50",cy:"50",r:"45"}),s.a.createElement("path",{id:"base-timer-path-remaining","stroke-dasharray":"283",className:"base-timer__path-remaining "+this.setRemainingPathColor(),strokeDasharray:this.setCircleDasharray(),d:" M 50, 50 m -45, 0 a 45,45 0 1,0 90,0 a 45,45 0 1,0 -90,0 "})))))}}]),t}(s.a.Component),y=g;t.a=y,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(283,"FULL_DASH_ARRAY","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Countdown/Countdown.jsx"),__REACT_HOT_LOADER__.register(10,"WARNING_THRESHOLD","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Countdown/Countdown.jsx"),__REACT_HOT_LOADER__.register(5,"ALERT_THRESHOLD","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Countdown/Countdown.jsx"),__REACT_HOT_LOADER__.register(v,"COLOR_CODES","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Countdown/Countdown.jsx"),__REACT_HOT_LOADER__.register(g,"Countdown","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Countdown/Countdown.jsx"),__REACT_HOT_LOADER__.register(y,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Countdown/Countdown.jsx"))}()},function(e,t){},function(e,t,n){e.exports=n.p+"images/wizard0.png"},function(e,t,n){e.exports=n.p+"images/wizard1.png"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(560),c=(n.n(u),n(561)),l=(n.n(c),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),l(t,[{key:"render",value:function(){var e=0!=this.props.streak&&this.props.streak%this.props.streakTarget==0?"level-up":"";return s.a.createElement("div",{className:"multiplier-wrapper "+e},this.props.multiplier,"x")}}]),t}(s.a.Component),f=h;t.a=f,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"Multiplier","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Multiplier/Multiplier.jsx"),__REACT_HOT_LOADER__.register(f,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Multiplier/Multiplier.jsx"))}()},function(e,t,n){e.exports=n.p+"images/streak.png"},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(563),c=n.n(u),l=n(564),h=(n.n(l),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),h(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"streak-wrapper"},s.a.createElement("div",{className:"streak-bg"},s.a.createElement("img",{className:this.props.correct?"active":"",src:c.a,width:"40",height:"40"})),s.a.createElement("div",{className:"streak-count "+this.props.correct},this.props.streak))}}]),t}(s.a.Component),p=f;t.a=p,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"Streak","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Streak/Streak.jsx"),__REACT_HOT_LOADER__.register(p,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Streak/Streak.jsx"))}()},function(e,t,n){e.exports=n.p+"images/star.png"},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(567),c=(n.n(u),n(169)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return console.log("answers",e),n.state={staticAnswers:[{answer:n.props.answer,rand:0,status:"correct"},{answer:n.props.answer,rand:n.props.randOne,status:""},{answer:n.props.answer,rand:n.props.randTwo,status:""}]},n}return o(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){if(0==e.answered){var t=[{answer:e.answer,rand:0,status:"correct"},{answer:e.answer,rand:e.randOne,status:""},{answer:e.answer,rand:e.randTwo,status:""}],n=this.shuffleArray(t);this.setState({staticAnswers:n})}}},{key:"shuffleArray",value:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"answers-wrapper"},this.state.staticAnswers.map(function(t,n){return s.a.createElement(c.a,{key:n,answered:e.props.answered,onAnswer:e.props.onAnswer,value:t.answer+t.rand,status:t.status,gamemode:"training"})}))}}]),t}(s.a.Component),f=h;t.a=f,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"Answers","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Answers/Answers.jsx"),__REACT_HOT_LOADER__.register(f,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Answers/Answers.jsx"))}()},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(570),c=(n.n(u),n(169)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h="localUser",f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=[1,2,3,4,5,6,7,8,9,0],a=n.props.answer.toString(),s=JSON.parse(localStorage.getItem(h)),u=s.staffs.current;return n.state={staff:u,staticAnswers:o,currAnswer:"",answerString:a,correct:"default",lastAnswer:""},n.padPress=n.padPress.bind(n),n.cast=n.cast.bind(n),n.removeIsCorrect=n.removeIsCorrect.bind(n),n.clearAnswerBox=n.clearAnswerBox.bind(n),n}return o(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.answer.toString();e.answer&&this.setState({answerString:t}),1==e.gameover&&this.setState({currAnswer:""})}},{key:"cast",value:function(){var e=this.state.currAnswer,t=e,n=e==this.state.answerString;e.length>0&&(this.props.onAnswer(n),e="",this.setState({currAnswer:e,correct:n,lastAnswer:t}),this.removeIsCorrect())}},{key:"padPress",value:function(e){var t=this.state.currAnswer+e.toString();this.setState({currAnswer:t,correct:"default"})}},{key:"padPressOld",value:function(e){var t=e.toString(),n=this.state.currAnswer+t,r=n,i=n==this.state.answerString;n.length==this.state.answerString.length?(this.props.onAnswer(i),n="",this.setState({currAnswer:n,correct:i,lastAnswer:r}),this.removeIsCorrect()):this.setState({currAnswer:n,correct:"default"})}},{key:"removeIsCorrect",value:function(){var e=this;setTimeout(function(){e.setState({correct:"default"})},750)}},{key:"clearAnswerBox",value:function(){this.setState({currAnswer:"",correct:"default"})}},{key:"render",value:function(){var e=this,t="",n=this.state.currAnswer;return 0==this.state.correct&&(t="incorrect"),1==this.state.correct&&(t="correct"),""!=t&&(n=this.state.lastAnswer),s.a.createElement("div",{className:"numberpad-wrapper"},s.a.createElement("div",{className:"numbers"},this.state.staticAnswers.map(function(t,n){return s.a.createElement(c.a,{key:n,answered:e.props.answered,onAnswer:function(t){e.padPress(t)},value:t,status:"",gamemode:"battle"})})),s.a.createElement("div",{onClick:function(){return e.cast()},className:"cast-btn"},s.a.createElement("div",{className:"staff-art "+this.state.staff},"CAST")),s.a.createElement("div",{onClick:function(){return e.clearAnswerBox()},className:"answerbox "+t+" "+(n.length>0?"inprogress":"")},s.a.createElement("div",{className:"magic-wrapper "+this.state.staff},s.a.createElement("div",{className:"magic-child magic-mask"}),s.a.createElement("div",{className:"magic-child flipped-rotateit magic-mask"})),s.a.createElement("div",{className:"yourAnswer luckiest-guy "+this.state.staff},n)))}}]),t}(s.a.Component),p=f;t.a=p,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"localUser","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/NumberPad/NumberPad.jsx"),__REACT_HOT_LOADER__.register(f,"NumberPad","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/NumberPad/NumberPad.jsx"),__REACT_HOT_LOADER__.register(p,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/NumberPad/NumberPad.jsx"))}()},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(572),c=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=n.props.active,a=n.props.message;return n.state={active:o,message:a},n}return o(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e){if(e.active!=this.state.active){console.log("yes");var t=e.active,n=e.message;this.setState({active:t,message:n})}}},{key:"render",value:function(){return s.a.createElement("div",{className:"snackbar "+(this.state.active?"active":"")},s.a.createElement("div",{className:"snackbar-message"},this.state.message))}}]),t}(s.a.Component),h=l;t.a=h,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"SnackBar","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/SnackBar/SnackBar.jsx"),__REACT_HOT_LOADER__.register(h,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/SnackBar/SnackBar.jsx"))}()},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(574),c=(n.n(u),n(575)),l=(n.n(c),n(576)),h=(n.n(l),n(582)),f=(n.n(h),n(583)),p=(n.n(f),n(584)),d=(n.n(p),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),m=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),d(t,[{key:"render",value:function(){var e=this.props.gamemode,t=s.a.createElement(g,{hideTutorial:this.props.hideTutorial});return"battle"==e&&(t=s.a.createElement(y,{hideTutorial:this.props.hideTutorial})),"final"==e&&(t=s.a.createElement(_,{hideTutorial:this.props.hideTutorial})),s.a.createElement("div",{className:"tutorial"},t)}}]),t}(s.a.Component),v=m;t.a=v;var g=function(e){var t=e.hideTutorial;return s.a.createElement(l.Carousel,null,s.a.createElement("div",null,s.a.createElement("img",{src:"/images/tutorial-f1.jpg"})),s.a.createElement("div",null,s.a.createElement("img",{src:"/images/tutorial-f2.jpg"})),s.a.createElement("div",null,s.a.createElement("img",{src:"/images/tutorial-f3.jpg"})),s.a.createElement("div",null,s.a.createElement("img",{src:"/images/tutorial-f1.jpg"}),s.a.createElement("button",{onClick:t,className:"close-btn landing-btn mdl-button mdl-js-button mdl-button--raised mdl-button--accent"},"Close Tutorial")))},y=function(e){var t=e.hideTutorial;return s.a.createElement(l.Carousel,null,s.a.createElement("div",null,s.a.createElement("img",{src:"/images/tutorial-f3.jpg"})),s.a.createElement("div",null,s.a.createElement("img",{src:"/images/tutorial-f1.jpg"}),s.a.createElement("p",{onClick:t,className:"close-btn landing-btn mdl-button mdl-js-button mdl-button--raised mdl-button--accent"},"Close Tutorial")))},_=function(e){var t=e.hideTutorial;return s.a.createElement(l.Carousel,null,s.a.createElement("div",null,s.a.createElement("img",{src:"/images/tutorial-f1.jpg"}),s.a.createElement("p",{onClick:t,className:"close-btn landing-btn mdl-button mdl-js-button mdl-button--raised mdl-button--accent"},"Close Tutorial")))};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(m,"Tutorial","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Tutorial/Tutorial.jsx"),__REACT_HOT_LOADER__.register(g,"TrainingTutorial","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Tutorial/Tutorial.jsx"),__REACT_HOT_LOADER__.register(y,"BattleTutorial","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Tutorial/Tutorial.jsx"),__REACT_HOT_LOADER__.register(_,"FinalTutorial","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Tutorial/Tutorial.jsx"),__REACT_HOT_LOADER__.register(v,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Tutorial/Tutorial.jsx"))}()},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Thumbs=t.Carousel=void 0;var i=n(577),o=r(i),a=n(173),s=r(a);t.Carousel=o.default,t.Thumbs=s.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),l=r(c),h=n(153),f=r(h),p=n(11),d=r(p),m=n(170),v=r(m),g=n(171),y=r(g),_=n(172),b=r(_),w=n(173),E=r(w),T=n(581),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(T),C=function(){},I=function(e,t){return e+" of "+t},O=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return A.call(n),n.state={initialized:!1,selectedItem:e.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:e.autoPlay},n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.selectedItem!==this.state.selectedItem&&(this.updateSizes(),this.moveTo(e.selectedItem)),e.autoPlay!==this.state.autoPlay&&this.setState({autoPlay:e.autoPlay},function(){t.state.autoPlay?t.setupAutoPlay():t.destroyAutoPlay()})}},{key:"componentDidUpdate",value:function(e,t){e.children||!this.props.children||this.state.initialized||this.setupCarousel(),t.swiping&&!this.state.swiping&&this.resetPosition()}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){this.bindEvents(),this.state.autoPlay&&c.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.setState({initialized:!0});var e=this.getInitialImage();e?e.addEventListener("load",this.setMountState):this.setMountState()}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.addEventListener("mouseenter",this.stopOnHover),e.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.removeEventListener("mouseenter",this.stopOnHover),e.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){window.addEventListener("resize",this.updateSizes),window.addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&document.addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){window.removeEventListener("resize",this.updateSizes),window.removeEventListener("DOMContentLoaded",this.updateSizes);var e=this.getInitialImage();e&&e.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&document.removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"getPosition",value:function(e){this.props.infiniteLoop&&++e;var t=c.Children.count(this.props.children);if(this.props.centerMode&&"horizontal"===this.props.axis){var n=-e*this.props.centerSlidePercentage,r=t-1;return e&&(e!==r||this.props.infiniteLoop)?n+=(100-this.props.centerSlidePercentage)/2:e===r&&(n+=100-this.props.centerSlidePercentage),n}return 100*-e}},{key:"renderItems",value:function(e){var t=this;return c.Children.map(this.props.children,function(n,r){var i={ref:function(e){return t.setItemsRef(e,r)},key:"itemKey"+r+(e?"clone":""),className:v.default.ITEM(!0,r===t.state.selectedItem),onClick:t.handleClickItem.bind(t,r,n)};return t.props.centerMode&&"horizontal"===t.props.axis&&(i.style={minWidth:t.props.centerSlidePercentage+"%"}),l.default.createElement("li",i,n)})}},{key:"renderControls",value:function(){var e=this;return this.props.showIndicators?l.default.createElement("ul",{className:"control-dots"},c.Children.map(this.props.children,function(t,n){return l.default.createElement("li",{className:v.default.DOT(n===e.state.selectedItem),onClick:e.changeItem,onKeyDown:e.changeItem,value:n,key:n,role:"button",tabIndex:0})})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?l.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,c.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return this.props.showThumbs&&0!==c.Children.count(this.props.children)?l.default.createElement(E.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth},this.props.children):null}},{key:"render",value:function(){if(!this.props.children||0===c.Children.count(this.props.children))return null;var e="horizontal"===this.props.axis,t=this.props.showArrows&&c.Children.count(this.props.children)>1,n=t&&(this.state.selectedItem>0||this.props.infiniteLoop),r=t&&(this.state.selectedItem<c.Children.count(this.props.children)-1||this.props.infiniteLoop),i={},o=this.getPosition(this.state.selectedItem),a=(0,y.default)(o+"%",this.props.axis),u=this.props.transitionTime+"ms";i={WebkitTransform:a,MozTransform:a,MsTransform:a,OTransform:a,transform:a,msTransform:a},this.state.swiping||(i=s({},i,{WebkitTransitionDuration:u,MozTransitionDuration:u,MsTransitionDuration:u,OTransitionDuration:u,transitionDuration:u,msTransitionDuration:u}));var h=this.renderItems(!0),f=h.shift(),p=h.pop(),d={selectedItem:this.state.selectedItem,className:v.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:i,tolerance:this.props.swipeScrollTolerance},m={};if(e){if(d.onSwipeLeft=this.onSwipeForward,d.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var g=this.getVariableImageHeight(this.state.selectedItem);d.style.height=g||"auto",m.height=g||"auto"}}else d.onSwipeUp="natural"===this.props.verticalSwipe?this.onSwipeBackwards:this.onSwipeForward,d.onSwipeDown="natural"===this.props.verticalSwipe?this.onSwipeForward:this.onSwipeBackwards,d.style.height=this.state.itemSize,m.height=this.state.itemSize;return l.default.createElement("div",{className:this.props.className,ref:this.setCarouselWrapperRef},l.default.createElement("div",{className:v.default.CAROUSEL(!0),style:{width:this.props.width}},l.default.createElement("button",{type:"button",className:v.default.ARROW_PREV(!n),onClick:this.onClickPrev}),l.default.createElement("div",{className:v.default.WRAPPER(!0,this.props.axis),style:m,ref:this.setItemsWrapperRef},this.props.swipeable?l.default.createElement(b.default,s({tagName:"ul",ref:this.setListRef},d,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&p,this.renderItems(),this.props.infiniteLoop&&f):l.default.createElement("ul",{className:v.default.SLIDER(!0,this.state.swiping),ref:this.setListRef,style:i},this.props.infiniteLoop&&p,this.renderItems(),this.props.infiniteLoop&&f)),l.default.createElement("button",{type:"button",className:v.default.ARROW_NEXT(!r),onClick:this.onClickNext}),this.renderControls(),this.renderStatus()),this.renderThumbs())}}]),t}(c.Component);O.displayName="Carousel",O.propTypes={className:d.default.string,children:d.default.node,showArrows:d.default.bool,showStatus:d.default.bool,showIndicators:d.default.bool,infiniteLoop:d.default.bool,showThumbs:d.default.bool,thumbWidth:d.default.number,selectedItem:d.default.number,onClickItem:d.default.func.isRequired,onClickThumb:d.default.func.isRequired,onChange:d.default.func.isRequired,axis:d.default.oneOf(["horizontal","vertical"]),verticalSwipe:d.default.oneOf(["natural","standard"]),width:S.unit,useKeyboardArrows:d.default.bool,autoPlay:d.default.bool,stopOnHover:d.default.bool,interval:d.default.number,transitionTime:d.default.number,swipeScrollTolerance:d.default.number,swipeable:d.default.bool,dynamicHeight:d.default.bool,emulateTouch:d.default.bool,statusFormatter:d.default.func.isRequired,centerMode:d.default.bool,centerSlidePercentage:d.default.number},O.defaultProps={showIndicators:!0,showArrows:!0,showStatus:!0,showThumbs:!0,infiniteLoop:!1,selectedItem:0,axis:"horizontal",verticalSwipe:"standard",width:"100%",useKeyboardArrows:!1,autoPlay:!1,stopOnHover:!0,interval:3e3,transitionTime:350,swipeScrollTolerance:5,swipeable:!0,dynamicHeight:!1,emulateTouch:!1,onClickItem:C,onClickThumb:C,onChange:C,statusFormatter:I,centerMode:!1,centerSlidePercentage:80};var A=function(){var e=this;this.setThumbsRef=function(t){e.thumbsRef=t},this.setCarouselWrapperRef=function(t){e.carouselWrapperRef=t},this.setListRef=function(t){e.listRef=t},this.setItemsWrapperRef=function(t){e.itemsWrapperRef=t},this.setItemsRef=function(t,n){e.itemsRef||(e.itemsRef=[]),e.itemsRef[n]=t},this.autoPlay=function(){!e.state.autoPlay||c.Children.count(e.props.children)<=1||(clearTimeout(e.timer),e.timer=setTimeout(function(){e.increment()},e.props.interval))},this.clearAutoPlay=function(){e.state.autoPlay&&clearTimeout(e.timer)},this.resetAutoPlay=function(){e.clearAutoPlay(),e.autoPlay()},this.stopOnHover=function(){e.setState({isMouseEntered:!0}),e.clearAutoPlay()},this.startOnLeave=function(){e.setState({isMouseEntered:!1}),e.autoPlay()},this.navigateWithKeyboard=function(t){var n=e.props.axis,r="horizontal"===n,i={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},o=r?i.ArrowRight:i.ArrowDown,a=r?i.ArrowLeft:i.ArrowUp;o===t.keyCode?e.increment():a===t.keyCode&&e.decrement()},this.updateSizes=function(){if(e.state.initialized){var t="horizontal"===e.props.axis,n=e.itemsRef[0],r=t?n.clientWidth:n.clientHeight;e.setState(function(e,n){return{itemSize:r,wrapperSize:t?r*c.Children.count(n.children):r}}),e.thumbsRef&&e.thumbsRef.updateSizes()}},this.setMountState=function(){e.setState({hasMount:!0}),e.updateSizes()},this.handleClickItem=function(t,n){if(0!=c.Children.count(e.props.children)){if(e.state.cancelClick)return void e.setState({cancelClick:!1});e.props.onClickItem(t,n),t!==e.state.selectedItem&&e.setState({selectedItem:t})}},this.handleOnChange=function(t,n){c.Children.count(e.props.children)<=1||e.props.onChange(t,n)},this.handleClickThumb=function(t,n){e.props.onClickThumb(t,n),e.selectItem({selectedItem:t})},this.onSwipeStart=function(){e.setState({swiping:!0}),e.clearAutoPlay()},this.onSwipeEnd=function(){e.setState({swiping:!1}),e.autoPlay()},this.onSwipeMove=function(t){var n="horizontal"===e.props.axis,r=c.Children.count(e.props.children),i=e.getPosition(e.state.selectedItem),o=e.props.infiniteLoop?e.getPosition(r-1)-100:e.getPosition(r-1),a=n?t.x:t.y,s=a;0===i&&a>0&&(s=0),i===o&&a<0&&(s=0);var u=i+100/(e.state.itemSize/s);e.props.infiniteLoop&&(0===e.state.selectedItem&&u>-100?u-=100*r:e.state.selectedItem===r-1&&u<100*-r&&(u+=100*r)),u+="%",e.setPosition(u);var l=Math.abs(a)>e.props.swipeScrollTolerance;return l&&!e.state.cancelClick&&e.setState({cancelClick:!0}),l},this.setPosition=function(t,n){var r=f.default.findDOMNode(e.listRef);["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(n){r.style[n]=(0,y.default)(t,e.props.axis)}),n&&r.offsetLeft},this.resetPosition=function(){var t=e.getPosition(e.state.selectedItem)+"%";e.setPosition(t)},this.decrement=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.moveTo(e.state.selectedItem-("number"==typeof t?t:1),n)},this.increment=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.moveTo(e.state.selectedItem+("number"==typeof t?t:1),n)},this.moveTo=function(t,n){var r=c.Children.count(e.props.children)-1,i=e.props.infiniteLoop&&!n&&(t<0||t>r),o=t;t<0&&(t=e.props.infiniteLoop?r:0),t>r&&(t=e.props.infiniteLoop?0:r),i?e.setState({swiping:!0},function(){o<0?e.props.centerMode&&"horizontal"===e.props.axis?e.setPosition("-"+((r+2)*e.props.centerSlidePercentage-(100-e.props.centerSlidePercentage)/2)+"%",!0):e.setPosition("-"+100*(r+2)+"%",!0):o>r&&e.setPosition(0,!0),e.selectItem({selectedItem:t,swiping:!1})}):e.selectItem({selectedItem:t}),e.state.autoPlay&&!1===e.state.isMouseEntered&&e.resetAutoPlay()},this.onClickNext=function(){e.increment(1,!1)},this.onClickPrev=function(){e.decrement(1,!1)},this.onSwipeForward=function(){e.increment(1,!0)},this.onSwipeBackwards=function(){e.decrement(1,!0)},this.changeItem=function(t){if(!t.key||"Enter"===t.key){var n=t.target.value;e.selectItem({selectedItem:n})}},this.selectItem=function(t,n){e.setState(t,n),e.handleOnChange(t.selectedItem,c.Children.toArray(e.props.children)[t.selectedItem])},this.getInitialImage=function(){var t=e.props.selectedItem,n=e.itemsRef&&e.itemsRef[t],r=n&&n.getElementsByTagName("img");return r&&r[t]},this.getVariableImageHeight=function(t){var n=e.itemsRef&&e.itemsRef[t],r=n&&n.getElementsByTagName("img");if(e.state.hasMount&&r.length>0){var i=r[0];if(!i.complete){var o=function t(){e.forceUpdate(),i.removeEventListener("load",t)};i.addEventListener("load",o)}var a=i.clientHeight;return a>0?a:null}return null}};t.default=O},function(e,t,n){var r,i;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=n.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)o.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?(n.default=n,e.exports=n):(r=[],void 0!==(i=function(){return n}.apply(t,r))&&(e.exports=i))}()},function(e,t,n){var r,i,o;!function(a,s){i=[t,n(1),n(11)],r=s,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){p=e}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{capture:!0};return p?e:e.capture}function c(e){if("touches"in e){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.screenX,y:e.screenY}}Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=s;var l=r(t),h=r(n),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=!1;try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){s(!0)}}))}catch(e){}var d=function(e){function t(){var e;i(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s._handleSwipeStart=s._handleSwipeStart.bind(s),s._handleSwipeMove=s._handleSwipeMove.bind(s),s._handleSwipeEnd=s._handleSwipeEnd.bind(s),s._onMouseDown=s._onMouseDown.bind(s),s._onMouseMove=s._onMouseMove.bind(s),s._onMouseUp=s._onMouseUp.bind(s),s}return a(t,e),f(t,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,u({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,u({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(e){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(e))}},{key:"_onMouseMove",value:function(e){this.mouseDown&&this._handleSwipeMove(e)}},{key:"_onMouseUp",value:function(e){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(e)}},{key:"_handleSwipeStart",value:function(e){var t=c(e),n=t.x,r=t.y;this.moveStart={x:n,y:r},this.props.onSwipeStart(e)}},{key:"_handleSwipeMove",value:function(e){if(this.moveStart){var t=c(e),n=t.x,r=t.y,i=n-this.moveStart.x,o=r-this.moveStart.y;this.moving=!0,this.props.onSwipeMove({x:i,y:o},e)&&e.preventDefault(),this.movePosition={deltaX:i,deltaY:o}}}},{key:"_handleSwipeEnd",value:function(e){this.props.onSwipeEnd(e);var t=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-t?this.props.onSwipeLeft(1,e):this.movePosition.deltaX>t&&this.props.onSwipeRight(1,e),this.movePosition.deltaY<-t?this.props.onSwipeUp(1,e):this.movePosition.deltaY>t&&this.props.onSwipeDown(1,e)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"render",value:function(){var e=this;return l.default.createElement(this.props.tagName,{ref:function(t){return e.swiper=t},onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:this.props.className,style:this.props.style},this.props.children)}}]),t}(t.Component);d.displayName="ReactSwipe",d.propTypes={tagName:h.default.string,className:h.default.string,style:h.default.object,children:h.default.node,allowMouseEvents:h.default.bool,onSwipeUp:h.default.func,onSwipeDown:h.default.func,onSwipeLeft:h.default.func,onSwipeRight:h.default.func,onSwipeStart:h.default.func,onSwipeMove:h.default.func,onSwipeEnd:h.default.func,tolerance:h.default.number.isRequired},d.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},tolerance:0},e.default=d})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outerWidth=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft)+parseInt(n.marginRight)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unit=function(e,t,n){if(!/(pt|px|em|rem|vw|vh|%)$/.test(e[t]))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Validation failed. It needs to be a size unit like pt, px, em, rem, vw, %")}},function(e,t,n){e.exports=n.p+"images/tutorial-f1.jpg"},function(e,t,n){e.exports=n.p+"images/tutorial-f2.jpg"},function(e,t,n){e.exports=n.p+"images/tutorial-f3.jpg"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(586),c=n(12),l=n(64),h=n(15),f=n(587),p=(n.n(f),n(63)),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m="localUser",v=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=JSON.parse(localStorage.getItem(m));return n.state={hidden:!0,locUser:o},n.handleLogout=n.handleLogout.bind(n),n}return o(t,e),d(t,[{key:"componentWillMount",value:function(){var e=this;setTimeout(function(){e.setState({hidden:!1})},h.e)}},{key:"handleLogout",value:function(){Object(l.b)().then(function(){localStorage.removeItem("appToken"),this.props.history.push("/login"),console.log("user signed out from firebase")}.bind(this))}},{key:"render",value:function(){var e=this.state.locUser,t=e.gems,n=e.staffs.current,r=e.gamemath.add.training,i=e.gamemath.add.battle1,o=e.gamemath.add.battle2,a=e.gamemath.sub.training,l=e.gamemath.sub.battle1,h=e.gamemath.sub.battle2,f=e.gamemath.mul.training,d=e.gamemath.mul.battle1,m=e.gamemath.mul.battle2,v=e.gamemath.div.training,g=e.gamemath.div.battle1,y=e.gamemath.div.battle2,_=this.state.hidden?0:1,b={opacity:_};return s.a.createElement("div",{className:"profile main"},s.a.createElement("div",{className:"main-fade",style:b},s.a.createElement("div",{className:"wrapper"},s.a.createElement("h1",null,"Profile"),s.a.createElement(p.a,{currpage:"profile"}),s.a.createElement("div",{className:"userinfo"},"Other content"),s.a.createElement("div",{className:"gems"},"Total Gems: ",t),s.a.createElement("div",{className:"username"},s.a.createElement("p",{className:"luckiest-guy"},"Only You Can Save Us"),s.a.createElement("h3",null,e.username),s.a.createElement(c.b,{to:"/chooseusername",className:"chooseusername"},"Want to change your username?"),s.a.createElement("div",null,s.a.createElement("button",{value:"Sign Out",className:"mdl-button",onClick:this.handleLogout},"Sign Out")),s.a.createElement("div",null,"Your unique user id is ",e.userid)),s.a.createElement("div",{className:"staff"},s.a.createElement("p",null,"You currently have the ",n," staff equipped."),s.a.createElement(c.b,{to:"/store"},"Equip a different one?")),s.a.createElement(u.a,null),s.a.createElement("div",{className:"stat-list"},s.a.createElement("h3",null,"High Scores"),s.a.createElement("div",{className:"stat-section"},s.a.createElement("h4",{className:"corner-shadow"},"Add"),s.a.createElement("p",null,"Training: ",s.a.createElement("span",{className:"score"},r)),s.a.createElement("p",null,"Level 1: ",s.a.createElement("span",{className:"score"},i)),s.a.createElement("p",null,"Level 2: ",s.a.createElement("span",{className:"score"},o))),s.a.createElement("div",{className:"stat-section"},s.a.createElement("h4",{className:"corner-shadow"},"Subtract"),s.a.createElement("p",null,"Training: ",s.a.createElement("span",{className:"score"},a)),s.a.createElement("p",null,"Level 1: ",s.a.createElement("span",{className:"score"},l)),s.a.createElement("p",null,"Level 2: ",s.a.createElement("span",{className:"score"},h))),s.a.createElement("div",{className:"stat-section"},s.a.createElement("h4",{className:"corner-shadow"},"Multiply"),s.a.createElement("p",null,"Training: ",s.a.createElement("span",{className:"score"},f)),s.a.createElement("p",null,"Level 1: ",s.a.createElement("span",{className:"score"},d)),s.a.createElement("p",null,"Level 2: ",s.a.createElement("span",{className:"score"},m))),s.a.createElement("div",{className:"stat-section"},s.a.createElement("h4",{className:"corner-shadow"},"Divide"),s.a.createElement("p",null,"Training: ",s.a.createElement("span",{className:"score"},v)),s.a.createElement("p",null,"Level 1: ",s.a.createElement("span",{className:"score"},g)),s.a.createElement("p",null,"Level 2: ",s.a.createElement("span",{className:"score"},y)))))),s.a.createElement("p",{className:"credit rel"},"© 2020 Michael Gallay"))}}]),t}(s.a.Component),g=v;t.a=g,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(m,"localUser","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Profile/Profile.jsx"),__REACT_HOT_LOADER__.register("appToken","appTokenKey","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Profile/Profile.jsx"),__REACT_HOT_LOADER__.register(v,"Profile","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Profile/Profile.jsx"),__REACT_HOT_LOADER__.register(g,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Profile/Profile.jsx"))}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=(n(12),n(64),n(15)),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l="localUser",h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=JSON.parse(localStorage.getItem("localUser"));return n.state={locUser:o},n}return o(t,e),c(t,[{key:"forest0",value:function(){var e=this.state.locUser;e.creatures.add.L1_1_1=e.creatures.add.L1_1_2=e.creatures.add.L1_1_3=!0,localStorage.setItem(l,JSON.stringify(e)),u.f.ref("/users/"+e.userid+"/creatures/add").set(e.creatures.add)}},{key:"rock0",value:function(){var e=this.state.locUser;e.creatures.sub.L1_1_1=e.creatures.sub.L1_1_2=e.creatures.sub.L1_1_3=!0,localStorage.setItem(l,JSON.stringify(e)),u.f.ref("/users/"+e.userid+"/creatures/sub").set(e.creatures.sub)}},{key:"water0",value:function(){var e=this.state.locUser;e.creatures.mul.L1_1_1=e.creatures.mul.L1_1_2=e.creatures.mul.L1_1_3=!0,localStorage.setItem(l,JSON.stringify(e)),u.f.ref("/users/"+e.userid+"/creatures/mul").set(e.creatures.mul)}},{key:"fire0",value:function(){var e=this.state.locUser;e.creatures.div.L1_1_1=e.creatures.div.L1_1_2=e.creatures.div.L1_1_3=!0,localStorage.setItem(l,JSON.stringify(e)),u.f.ref("/users/"+e.userid+"/creatures/div").set(e.creatures.div)}},{key:"all0",value:function(){this.forest0(),this.rock0(),this.water0(),this.fire0()}},{key:"forest1",value:function(){var e=this.state.locUser;e.creatures.add.L2_1_1=e.creatures.add.L2_1_2=e.creatures.add.L2_1_3=e.creatures.add.L2_2_1=e.creatures.add.L2_2_2=e.creatures.add.L2_2_3=!0,localStorage.setItem(l,JSON.stringify(e)),u.f.ref("/users/"+e.userid+"/creatures/add").set(e.creatures.add)}},{key:"rock1",value:function(){var e=this.state.locUser;e.creatures.sub.L2_1_1=e.creatures.sub.L2_1_2=e.creatures.sub.L2_1_3=e.creatures.sub.L2_2_1=e.creatures.sub.L2_2_2=e.creatures.sub.L2_2_3=!0,localStorage.setItem(l,JSON.stringify(e)),u.f.ref("/users/"+e.userid+"/creatures/sub").set(e.creatures.sub)}},{key:"water1",value:function(){var e=this.state.locUser;e.creatures.mul.L2_1_1=e.creatures.mul.L2_1_2=e.creatures.mul.L2_1_3=e.creatures.mul.L2_2_1=e.creatures.mul.L2_2_2=e.creatures.mul.L2_2_3=!0,localStorage.setItem(l,JSON.stringify(e)),u.f.ref("/users/"+e.userid+"/creatures/mul").set(e.creatures.mul)}},{key:"fire1",value:function(){var e=this.state.locUser;e.creatures.div.L2_1_1=e.creatures.div.L2_1_2=e.creatures.div.L2_1_3=e.creatures.div.L2_2_1=e.creatures.div.L2_2_2=e.creatures.div.L2_2_3=!0,localStorage.setItem(l,JSON.stringify(e)),u.f.ref("/users/"+e.userid+"/creatures/div").set(e.creatures.div)}},{key:"all1",value:function(){this.forest1(),this.rock1(),this.water1(),this.fire1()}},{key:"forest2",value:function(){var e=this.state.locUser;e.creatures.add.L3_1_1=e.creatures.add.L3_1_2=e.creatures.add.L3_1_3=e.creatures.add.L3_2_1=e.creatures.add.L3_2_2=e.creatures.add.L3_2_3=e.creatures.add.L3_3_1=e.creatures.add.L3_3_2=e.creatures.add.L3_3_3=e.creatures.add.L3_4_1=e.creatures.add.L3_4_2=e.creatures.add.L3_4_3=!0,localStorage.setItem(l,JSON.stringify(e)),u.f.ref("/users/"+e.userid+"/creatures/add").set(e.creatures.add)}},{key:"rock2",value:function(){var e=this.state.locUser;e.creatures.sub.L3_1_1=e.creatures.sub.L3_1_2=e.creatures.sub.L3_1_3=e.creatures.sub.L3_2_1=e.creatures.sub.L3_2_2=e.creatures.sub.L3_2_3=e.creatures.sub.L3_3_1=e.creatures.sub.L3_3_2=e.creatures.sub.L3_3_3=e.creatures.sub.L3_4_1=e.creatures.sub.L3_4_2=e.creatures.sub.L3_4_3=!0,localStorage.setItem(l,JSON.stringify(e)),u.f.ref("/users/"+e.userid+"/creatures/sub").set(e.creatures.sub)}},{key:"water2",value:function(){var e=this.state.locUser;e.creatures.mul.L3_1_1=e.creatures.mul.L3_1_2=e.creatures.mul.L3_1_3=e.creatures.mul.L3_2_1=e.creatures.mul.L3_2_2=e.creatures.mul.L3_2_3=e.creatures.mul.L3_3_1=e.creatures.mul.L3_3_2=e.creatures.mul.L3_3_3=e.creatures.mul.L3_4_1=e.creatures.mul.L3_4_2=e.creatures.mul.L3_4_3=!0,localStorage.setItem(l,JSON.stringify(e)),u.f.ref("/users/"+e.userid+"/creatures/mul").set(e.creatures.mul)}},{key:"fire2",value:function(){var e=this.state.locUser;e.creatures.div.L3_1_1=e.creatures.div.L3_1_2=e.creatures.div.L3_1_3=e.creatures.div.L3_2_1=e.creatures.div.L3_2_2=e.creatures.div.L3_2_3=e.creatures.div.L3_3_1=e.creatures.div.L3_3_2=e.creatures.div.L3_3_3=e.creatures.div.L3_4_1=e.creatures.div.L3_4_2=e.creatures.div.L3_4_3=!0,localStorage.setItem(l,JSON.stringify(e)),u.f.ref("/users/"+e.userid+"/creatures/div").set(e.creatures.div)}},{key:"all2",value:function(){this.forest2(),this.rock2(),this.water2(),this.fire2()}},{key:"money",value:function(){var e=this.state.locUser;e.gems=5e3,localStorage.setItem(l,JSON.stringify(e)),u.f.ref("/users/"+e.userid+"/gems").set(e.gems)}},{key:"staffs",value:function(){var e=this.state.locUser;e.staffs.forest.ready=e.staffs.rock.ready=e.staffs.water.ready=e.staffs.fire.ready=!0,localStorage.setItem(l,JSON.stringify(e)),u.f.ref("/users/"+e.userid+"/staffs").set(e.staffs)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"jumpSettings"},s.a.createElement("h5",null,"Jump Settings"),s.a.createElement("button",{onClick:function(){e.forest0()}},"forest0"),s.a.createElement("button",{onClick:function(){e.rock0()}},"rock0"),s.a.createElement("button",{onClick:function(){e.water0()}},"water0"),s.a.createElement("button",{onClick:function(){e.fire0()}},"fire0"),s.a.createElement("button",{onClick:function(){e.all0()}},"all0"),s.a.createElement("br",null),s.a.createElement("button",{onClick:function(){e.forest1()}},"forest1"),s.a.createElement("button",{onClick:function(){e.rock1()}},"rock1"),s.a.createElement("button",{onClick:function(){e.water1()}},"water1"),s.a.createElement("button",{onClick:function(){e.fire1()}},"fire1"),s.a.createElement("button",{onClick:function(){e.all1()}},"all1"),s.a.createElement("br",null),s.a.createElement("button",{onClick:function(){e.forest2()}},"forest2"),s.a.createElement("button",{onClick:function(){e.rock2()}},"rock2"),s.a.createElement("button",{onClick:function(){e.water2()}},"water2"),s.a.createElement("button",{onClick:function(){e.fire2()}},"fire2"),s.a.createElement("button",{onClick:function(){e.all2()}},"all2"),s.a.createElement("br",null),s.a.createElement("button",{onClick:function(){e.staffs()}},"staffs"),s.a.createElement("button",{onClick:function(){e.money()}},"money"))}}]),t}(s.a.Component),f=h;t.a=f,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"localUser","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Cheats/Cheats.jsx"),__REACT_HOT_LOADER__.register(h,"Profile","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Cheats/Cheats.jsx"),__REACT_HOT_LOADER__.register(f,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Cheats/Cheats.jsx"))}()},function(e,t){},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),u=n.n(s),c=(n(12),n(64),n(15)),l=n(589),h=(n.n(l),n(63)),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p="localUser",d={forest:50,rock:100,water:200,fire:250},m=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=JSON.parse(localStorage.getItem(p)),a=r.staffs.forest.purchased,s=r.staffs.rock.purchased,u=r.staffs.water.purchased,c=r.staffs.fire.purchased,l=r.staffs.current,h=r.gems;return n.state={hidden:!0,staff:l,locUser:r,gems:h,defaultpurchased:!0,forestpurchased:a,rockpurchased:s,waterpurchased:u,firepurchased:c},n.selectStaff=n.selectStaff.bind(n),n.buyStaff=n.buyStaff.bind(n),n}return a(t,e),f(t,[{key:"componentWillMount",value:function(){var e=this;setTimeout(function(){e.setState({hidden:!1})},c.e)}},{key:"selectStaff",value:function(e){var t=e;if(console.log("select",t),this.state[t+"purchased"]){this.setState({staff:t});var n=this.state.locUser;n.staffs.current=t,localStorage.setItem(p,JSON.stringify(n)),c.f.ref("/users/"+n.userid+"/staffs/current").set(n.staffs.current)}}},{key:"buyStaff",value:function(e){var t=e,n=d[t],i=this.state.gems;if(i>=n){var o;i-=n;var a=this.state.locUser;a.staffs[t].purchased=!0,a.gems=i,localStorage.setItem(p,JSON.stringify(a)),c.f.ref("/users/"+a.userid+"/staffs/"+t+"/purchased").set(a.staffs[t].purchased),c.f.ref("/users/"+a.userid+"/gems").set(a.gems),this.setState((o={},r(o,t+"purchased",!0),r(o,"gems",i),o))}}},{key:"render",value:function(){var e=this,t=this.state.locUser,n=t.staffs,r=(t.staffs.current,this.state.hidden?0:1),i={opacity:r};return u.a.createElement("div",{className:"store main"},u.a.createElement("div",{className:"main-fade",style:i},u.a.createElement("div",{className:"wrapper"},u.a.createElement("h1",null,"Store"),u.a.createElement(h.a,{currpage:"store"}),u.a.createElement("p",{className:"subhead"},"It is always a good idea to upgrade your staff. Unlock the staffs by completing Level 1 in each kingdom and buy them with the gems you earn by training."),u.a.createElement("div",{className:"gems luckiest-guy"},"You have ",u.a.createElement("span",{className:"gem-count"},this.state.gems," gems")),u.a.createElement("div",{className:"staffs"},u.a.createElement("ul",null,u.a.createElement("li",{onClick:function(){return e.selectStaff("default")},className:"staff default purchased "+("default"==this.state.staff?"selected":"")},u.a.createElement("div",{className:"staff-art"},"Default"),u.a.createElement("div",{className:"staff-name luckiest-guy"},"Default"),u.a.createElement("p",null,"A sturdy staff. Great for beginners.")),u.a.createElement("li",{onClick:function(){return e.selectStaff("forest")},className:"staff forest "+(n.forest.ready?"available":"notyet")+"\n                "+(this.state.forestpurchased?"purchased":"")+" "+("forest"==this.state.staff?"selected":"")},u.a.createElement("div",{className:"staff-art"},"Forest"),u.a.createElement("div",{className:"staff-name luckiest-guy"},"Forest"),u.a.createElement("p",null,"Behold the power of the trees!"),u.a.createElement("button",{className:"buy-btn mdl-button mdl-js-button mdl-button--raised mdl-button--accent",value:"Buy Now",onClick:function(t){t.stopPropagation(),e.buyStaff("forest")}},d.forest," Gems")),u.a.createElement("li",{onClick:function(){return e.selectStaff("rock")},className:"staff rock "+(n.rock.ready?"available":"notyet")+"\n                "+(this.state.rockpurchased?"purchased":"")+" "+("rock"==this.state.staff?"selected":"")},u.a.createElement("div",{className:"staff-art"},"Rock"),u.a.createElement("div",{className:"staff-name luckiest-guy"},"Rock"),u.a.createElement("p",null,"Math is hard, but rocks are harder"),u.a.createElement("button",{className:"buy-btn mdl-button mdl-js-button mdl-button--raised mdl-button--accent",value:"Buy Now",onClick:function(t){t.stopPropagation(),e.buyStaff("rock")}},d.rock," Gems")),u.a.createElement("li",{onClick:function(){return e.selectStaff("water")},className:"staff water "+(n.water.ready?"available":"notyet")+"\n                "+(this.state.waterpurchased?"purchased":"")+" "+("water"==this.state.staff?"selected":"")},u.a.createElement("div",{className:"staff-art"},"Water"),u.a.createElement("div",{className:"staff-name luckiest-guy"},"Water"),u.a.createElement("p",null,"Jump right in, the water is fine"),u.a.createElement("button",{className:"buy-btn mdl-button mdl-js-button mdl-button--raised mdl-button--accent",value:"Buy Now",onClick:function(t){t.stopPropagation(),e.buyStaff("water")}},d.water," Gems")),u.a.createElement("li",{onClick:function(){return e.selectStaff("fire")},className:"staff fire "+(n.fire.ready?"available":"notyet")+"\n                "+(this.state.firepurchased?"purchased":"")+" "+("fire"==this.state.staff?"selected":"")},u.a.createElement("div",{className:"staff-art"},"Fire"),u.a.createElement("div",{className:"staff-name luckiest-guy"},"Fire"),u.a.createElement("p",null,"Adds a small about of heat damage on some attacks."),u.a.createElement("button",{className:"buy-btn mdl-button mdl-js-button mdl-button--raised mdl-button--accent",value:"Buy Now",onClick:function(t){t.stopPropagation(),e.buyStaff("fire")}},d.fire," Gems")))),u.a.createElement("p",{className:"credit rel"},"© 2020 Michael Gallay"))))}}]),t}(u.a.Component),v=m;t.a=v,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(p,"localUser","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Store/Store.jsx"),__REACT_HOT_LOADER__.register("appToken","appTokenKey","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Store/Store.jsx"),__REACT_HOT_LOADER__.register(d,"prices","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Store/Store.jsx"),__REACT_HOT_LOADER__.register(m,"Store","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Store/Store.jsx"),__REACT_HOT_LOADER__.register(v,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Store/Store.jsx"))}()},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(12),c=n(15),l=n(591),h=(n.n(l),n(63)),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=[{title:"Save to Homescreen",paragraph:'Adding this webpage to your homescreen will launch the site as if it was an app and give you the best game experience. Return to the <a href="/">homescreen</a> before following the steps below. <br><br><strong>ANDROID DEVICES</strong><br><br><strong><em>Open the menu:</em></strong> Click on the icon at the top right of your screen (3 vertical dots).<br><br><strong><em>Add Shortcut:</em></strong> In this menu, select "Bookmarks" option. From the next screen select the icon for QuestCaster. Finally click on the "Add shortcut to desktop" option.<br><br><strong>iOS DEVICES</strong><br><br><strong><em>Open the menu:</em></strong> Tap the middle icon at the bottom of your screen (box with up arrow).<br><br><strong><em>Add to Home Screen:</em></strong> In this menu, click the "Add to Home Screen" icon with a plus sign which reads.<br><br><strong><em>Choose a name:</em></strong> In the final screen enter "QuestCaster" as the name for this shortcut.<br>'},{title:"Delete Account",paragraph:'If for any reason you want to delete your account and all the data associated with it, send an email to <a href="mailto:info@questcaster.com">info@questcaster.com</a> and be sure to include your username. We will send you an email conce we have completed your request.'},{title:"Map",paragraph:"The map is your main navigation for choosing which game to play. It is divided into 4 kingdoms: addition, substraction, multiplication and division. Each kingdom has 3 game modes you can play: training, battle1 and battle2. Each mode is designed to be a little harder to test your speed and accuracy. Locked levels are grayed out and you will not be able to play them."},{title:"Game Play/General",paragraph:"to do"},{title:"Game Play/Training",paragraph:'The first level of all four kingdoms is training. Your objective is to answer as many questions as you can. In this mode you are given three answers to choose from.<br><br>If you correctly answer the question, it will be highlighted in green for a few seconds and you will be rewarded points. See <em>"Game Play/General"</em> for scoring rules.<br><br>Answer incorrectly and your choice will be highlighted in red, but the game shows you the correct answer to help you learn. Each wrong answer deducts one bar from your health. Get three wrong answer and your turn is over. <strong>Don’t worry! You can start another round right away!</strong>'},{title:"Game Play/Battle",paragraph:'In the second two levels of all four kingdoms you are battling the wizard. You have one minute to defeat the wizard before he is able to charge up a spell that will stun you and end the round. In this mode you must manually enter you answer one number at a time. To cast you answer at the wizard tap the staff icon to the right of the number pad. Each correct answer will take health away from the wizard. <br><br>Each correct will be highlighted in green for a split second. See <em>"Game Play/General"</em> for scoring rules.<br><br>Answer incorrectly and your answer will be highlighted in red. Even if you can defeat the wizard, incorrect answers will affect your accuracy and final prize. If the wizard stuns you, you will receive no prize and the round is over.<strong>Don’t worry! You can start another round right away!</strong>'},{title:"Staffs",paragraph:'Staffs are unlocked by releasing all the creatures in the first battle level of each kingdom. Each staff has a unique casting animation and provides you with a boost that will help increase the damage you can do. There is only one staff available in each kingdom.<br><br>Purchasing staffs from the store requires gems, which can be earned while training. See <em>"Gems"</em> for more information.'},{title:"Gems",paragraph:"Gems, which can be used to buy staffs, are earned while playing in any kingdom. While training, you will receive gems once you have released all three creatures in that kingdom. The higher you score, the more gems you will earn. In battle, you will be awarded gems if your accuracy is not good enough to unlock a creature."},{title:"Creatures",paragraph:"To save the kingdom, you must release/collect all the creatures that the wizard has captured. There are 3 available in each training level, 6 in the first battle level, and 9 in the second battle level.<br><br>If you defeat the wizard, you’re accuracy determines which creatures you might get. Some creatures are harder to find than others, and even if you don’t make mistakes you won’t be guaranteed the rarest ones. It may take several battles to unlock everyone."},{title:"The Final Battle",paragraph:"Once you rescue all the creatures in each kingdom, you unlock the final battle and have a chance to face the final battle. In a final attempt to stop you, the wizard casts a spell that summons a powerful dragon, whose randomizes the questions you must answer.<br><br>It is a mental challenge that only the smartest and quicket QuestCaster can win. <strong>Nothing short of a perfect score will free the queen and save the kingdom!</strong>"}],d=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=JSON.parse(localStorage.getItem("localUser"));return n.state={hidden:!0,locUser:o},n}return o(t,e),f(t,[{key:"componentWillMount",value:function(){var e=this;setTimeout(function(){e.setState({hidden:!1})},c.e)}},{key:"render",value:function(){var e=this.state.hidden?0:1,t={opacity:e},n=s.a.createElement(h.a,{currpage:"help"});return this.state.locUser||(n=s.a.createElement("div",{className:"no-locUser"},s.a.createElement(u.b,{to:"/login",className:"help-btn mdl-button mdl-js-button mdl-button--raised mdl-button--accent"},s.a.createElement("i",{className:"material-icons"},"terrain")," QUEST "),s.a.createElement(u.b,{to:"/legend",className:"help-btn mdl-button mdl-js-button mdl-button--raised mdl-button--accent"},s.a.createElement("i",{className:"material-icons"},"flare"),"LEGEND "))),s.a.createElement("div",{className:"help main"},s.a.createElement("div",{className:"main-fade",style:t},s.a.createElement("div",{className:"wrapper"},s.a.createElement("h1",null,"Help"),n,s.a.createElement("div",{className:"intro"},"This section has FAQs, rules for game play, and tips to improve your experience. If you a having trouble with any aspect of the game please contact us at: ",s.a.createElement("a",{href:"mailto:info@questcaster.com"},"info@questcaster.com"),"."),s.a.createElement("ul",{className:"accordion-list"},p.map(function(e,t){return s.a.createElement("li",{className:"accordion-list__item",key:t},s.a.createElement(v,{title:e.title,paragraph:e.paragraph}))})),s.a.createElement("p",{className:"credit rel"},"© 2020 Michael Gallay"))))}}]),t}(s.a.Component),m=d;t.a=m;var v=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={opened:!1},n}return o(t,e),f(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.paragraph,r=t.title,i=this.state.opened;return s.a.createElement("div",{className:"accordion-item "+(this.state.opened?"accordion-item--opened":""),onClick:function(){e.setState({opened:!i})}},s.a.createElement("div",{className:"accordion-item__line"},s.a.createElement("h3",{className:"accordion-item__title"},r),s.a.createElement("span",{className:"accordion-item__icon"})),s.a.createElement("div",{className:"accordion-item__inner"},s.a.createElement("div",{className:"accordion-item__content"},s.a.createElement("p",{className:"accordion-item__paragraph",dangerouslySetInnerHTML:{__html:n}}))))}}]),t}(s.a.Component);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet natus sint provident vel ab reprehenderit cum soluta, suscipit facere nisi sed earum repellendus fuga debitis, nam molestiae minima voluptates possimus.<br><br>Bully!<br>","paragraph","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Help/Help.jsx"),__REACT_HOT_LOADER__.register(p,"data","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Help/Help.jsx"),__REACT_HOT_LOADER__.register(d,"Help","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Help/Help.jsx"),__REACT_HOT_LOADER__.register(v,"AccordionItem","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Help/Help.jsx"),__REACT_HOT_LOADER__.register(m,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Help/Help.jsx"))}()},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=(n(12),n(593)),c=(n.n(u),n(63)),l=n(116),h=n.n(l),f=n(15),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d="localUser",m=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hidden:!0},JSON.parse(localStorage.getItem(d)),n}return o(t,e),p(t,[{key:"componentWillMount",value:function(){var e=this;setTimeout(function(){e.setState({hidden:!1})},f.e)}},{key:"getCreatureName",value:function(e,t){return f.b.math[e][t].name}},{key:"getCreatureFreq",value:function(e,t){return f.b.math[e][t].freq}},{key:"getQuote",value:function(){var e=f.g.length-1,t=Number(this.rand(0,e));return console.log(e,t,f.g),f.g[t]}},{key:"rand",value:function(e,t){var n=Math.floor(Math.random()*(t-e+1)+e);return n<10&&(n="0"+n),n}},{key:"createCreatureList",value:function(e,t){var n=this,r=[];return f.a.map(function(i,o){var a=t.creatures[e][i],u=n.getCreatureName(e,i),c=n.getCreatureFreq(e,i),l="";0==o&&(l="Training"),3==o&&(l="Level 1"),9==o&&(l="Level 2"),0!=o&&3!=o&&9!=o||r.push(s.a.createElement("li",{key:l,className:"levelsection"},l));var h=s.a.createElement("li",{key:o},s.a.createElement("div",{className:"creature "+e+" "+i+" "+(a?"gotit":"notyet")},"?"),s.a.createElement("div",{className:"creature-freq freq-key "+c},c),s.a.createElement("div",{className:"creature-name",dangerouslySetInnerHTML:{__html:a?u:"???"}}));r.push(h)}),r}},{key:"render",value:function(){var e=JSON.parse(localStorage.getItem(d)),t=this.state.hidden?0:1,n={opacity:t};return s.a.createElement("div",{className:"creatures main"},s.a.createElement("div",{className:"main-fade",style:n},s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",{className:"sprite-wrapper"},s.a.createElement("div",{className:"sprite"},s.a.createElement("img",{src:h.a})),s.a.createElement("div",{className:"carrot"}),s.a.createElement("div",{className:"sprite-message"},s.a.createElement("p",null,this.getQuote()))),s.a.createElement(c.a,{currpage:"creatures"}),s.a.createElement("p",{className:"luckiest-guy"},"Have you rescued all the"),s.a.createElement("h1",null,"Creatures?"),s.a.createElement("div",{className:"freq-legend"},s.a.createElement("div",{className:"freq-legend-item"},s.a.createElement("span",{className:"freq-key common"},"Common"),s.a.createElement("span",{className:"freq-name"},"Common")),s.a.createElement("div",{className:"freq-legend-item"},s.a.createElement("span",{className:"freq-key rare"},"Rare"),s.a.createElement("span",{className:"freq-name"},"Rare")),s.a.createElement("div",{className:"freq-legend-item"},s.a.createElement("span",{className:"freq-key ultrarare"},"Ultra Rare"),s.a.createElement("span",{className:"freq-name"},"Ultra Rare"))),s.a.createElement("div",{className:"creature-wrapper"},s.a.createElement("div",{className:"creature-section"},s.a.createElement("h4",{className:"add"},"Addition-ville"),s.a.createElement("ul",{className:"add creature-list"},this.createCreatureList("add",e)),s.a.createElement("h4",{className:"sub"},"Subtraction-berg"),s.a.createElement("ul",{className:"sub creature-list"},this.createCreatureList("sub",e)),s.a.createElement("h4",{className:"mul"},"Multiplication Land"),s.a.createElement("ul",{className:"mul creature-list"},this.createCreatureList("mul",e)),s.a.createElement("h4",{className:"div"},"Division Town"),s.a.createElement("ul",{className:"div creature-list"},this.createCreatureList("div",e)),s.a.createElement("h4",{className:"ran"},"Final Battle"),s.a.createElement("div",{className:"ran creature-list queen-list"},s.a.createElement("div",{className:"queen-wrapper"},s.a.createElement("div",{className:"creature ran queen "+(e.creatures.ran.queen?"gotit":"notyet")},s.a.createElement("span",null,"?")),s.a.createElement("div",{className:"creature-freq freq-key ultrarare"},"ultra rare"),s.a.createElement("div",{className:"creature-name"},e.creatures.ran.queen?this.getCreatureName("ran","queen"):"???"))),s.a.createElement("p",{className:"credit rel"},"© 2020 Michael Gallay"))))))}}]),t}(s.a.Component),v=m;t.a=v,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(d,"localUser","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Creatures/Creatures.jsx"),__REACT_HOT_LOADER__.register(m,"Creatures","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Creatures/Creatures.jsx"),__REACT_HOT_LOADER__.register(v,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Creatures/Creatures.jsx"))}()},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(15),c=n(595),l=(n.n(c),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hidden:!0},n}return o(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this;setTimeout(function(){e.setState({hidden:!1})},u.e)}},{key:"render",value:function(){var e=this.state.hidden?0:1,t={opacity:e};return s.a.createElement("div",{className:"cookies main"},s.a.createElement("div",{className:"main-fade",style:t},s.a.createElement("div",{className:"wrapper"},s.a.createElement("h1",null,"Cookies & Data Storage"),s.a.createElement("p",null,"QuestCaster stores cookies and data in your browser to save your progress in the game and and to analyse our traffic. We will never save any personal information or sell your data. We will share information about your use of this site with Google Analytics."),s.a.createElement("h2",null,"Local Storage"),s.a.createElement("p",null,"QuestCaster uses your browser's Local Storage to store your game progress. It also uses it to establish a connection with FireBase, a Google database where an addition version of your progress is stored so you are able to retain your game progress across multiple devices."),s.a.createElement("p",null,s.a.createElement("strong",null,"firebase:host:math-app-8deb6.firebaseio.com")),s.a.createElement("p",{className:"mb0"}),s.a.createElement("hr",null),s.a.createElement("p",{className:"mb0"},s.a.createElement("strong",null,"cookiepolicy"),s.a.createElement("em",null," ",'{"accept":true}')),s.a.createElement("p",{className:"mb0"},"This data is stored when you accept the cookie policy."),s.a.createElement("hr",null),s.a.createElement("p",{className:"mb0"},s.a.createElement("strong",null,"appToken")),s.a.createElement("p",{className:"mb0"}),s.a.createElement("hr",null),s.a.createElement("p",{className:"mb0"},s.a.createElement("strong",null,"localUser")),s.a.createElement("p",{className:"mb0"}),s.a.createElement("hr",null),s.a.createElement("h2",null,"Cookies"),s.a.createElement("p",null,"Cookies are text files containing small amounts of information which are downloaded onto your computer or device. The following are used on this site:"),s.a.createElement("p",{className:"mb0"},s.a.createElement("strong",null,"Google")," - Ad Network, Publisher"),s.a.createElement("p",{className:"mb0"},s.a.createElement("strong",null,"Cookie Name:")," _ga, _gat, _gid"),s.a.createElement("p",null,"These cookies allow us to count page visits and traffic sources so we can measure and improve the performance of our site. Google stores the information collected by the cookie on servers in the United States. Google may also transfer this information to third parties where required to do so by law, or where such third parties process the information on Google's behalf. Google will not associate your IP address with any other data held by Google."),s.a.createElement("hr",null))))}}]),t}(s.a.Component),f=h;t.a=f,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"Cookies","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Cookies/Cookies.jsx"),__REACT_HOT_LOADER__.register(f,"default","/Users/michaelgallay/Documents/personal/questcaster/math-app/SourceCode/src/app/components/Cookies/Cookies.jsx"))}()},function(e,t){},function(e,t){e.exports={greeting:"Hello, guv’nor!"}},function(e,t){}]);